webpackJsonp([2],{"+Jwe":function(e,t,i){"use strict";(function(e){var s=i("3cXf"),n=i.n(s),r=i("HzJ8"),a=i.n(r),o=i("4YfN"),l=i.n(o),c=i("MeSz"),u=i("9rMa"),d=i("c4l/"),h=i("k5bu"),f=i("5Wg5");t.a={components:{List:c.a,Info:d.a,itemRecord:h.a,projectHandover:f.a},data:function(){return{fillShowAll:!0,info:"",userId:"",options:[{value:"1",label:"全部"},{value:"2",label:"未完成"}],value5:[],value:"全部",myResponsibleList:[],I_participatein:[],projectArchiveList:[],fillLength:"",OtherfeatureLists:[{name:"项目信息",id:0},{name:"项目记录",id:1},{name:"分享",id:2},{name:"归档",id:3},{name:"交接",id:4}],itemInformationShow:"",projectId:"",itemRecordShow:"",ArchiveSettingsList:[{name:"项目信息",id:0},{name:"项目记录",id:1},{name:"分享",id:2},{name:"恢复项目",id:5}],handoverSettings:[{name:"项目信息",id:0},{name:"项目记录",id:1},{name:"分享",id:2}],checkIndex:0,pigeonholeAndconnect:[{name:"项目归档",num:0,Selection:!0},{name:"交接归档",num:1,Selection:!1}],showButton:!0,classify:"",HandoverShow:!1,createrId:JSON.parse(localStorage.getItem("staffInfo")).userPkid}},filters:{},computed:l()({},Object(u.c)(["newProjectPop"]),{joinedAddList:function(){var e=this;if(this.I_participatein){var t=function(t){var i=e.I_participatein[t].userlist.findIndex(function(i){return i.userId==e.I_participatein[t].creater.createrId});e.I_participatein[t].userlist.splice(i,1)};for(var i in this.I_participatein)t(i);return this.I_participatein}},myResponsible:function(){var e=this;if(this.myResponsibleList){var t=function(t){var i=e.myResponsibleList[t].userlist.findIndex(function(i){return i.userId==e.myResponsibleList[t].creater.createrId});e.myResponsibleList[t].userlist.splice(i,1)};for(var i in this.myResponsibleList)t(i)}return this.myResponsibleList}}),methods:l()({},Object(u.b)(["SHOW_NEWPREJECTPOP"]),{newPro:function(){this.classify="newInformation",this.itemInformationShow=!0},selectState:function(e){console.log("chufa  ",e)},onSubmit:function(){console.log("submit!")},pigeonhole:function(e){var t=this;this.$confirm("您是否归档该项目？归档后可在 已归档 中进行恢复","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.projectId=e.$attrs.dataProjectid;var i={projectId:t.projectId};t.$HTTP("post","/project_update_isSave",i).then(function(e){if(t.$message.success("归档成功!"),t.getProjectArchiveList(),t.myResponsibleList){var i=t.myResponsibleList.findIndex(function(e){return t.projectId==e.projectid});-1!==i&&(t.projectArchiveList.push(t.myResponsibleList[i]),t.myResponsibleList.splice(i,1))}})}).catch(function(){t.$message({type:"info",message:"已取消归档"})})},projectRestore:function(e){var t=this;this.$confirm("您是否归档该项目？归档后可在 已归档 中进行恢复","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.projectId=e.$attrs.dataProjectid;var i={projectId:t.projectId};t.$HTTP("post","/project_update_isSave",i).then(function(e){t.$message.success("恢复成功!");var i=t.projectArchiveList.findIndex(function(e){return e.projectid==t.projectId});-1!==i&&(t.myResponsibleList.push(t.projectArchiveList[i]),t.projectArchiveList.splice(i,1))})}).catch(function(){t.$message({type:"info",message:"已取消恢复"})})},getMyResponsibleList:function(){var t=this,i={createrId:this.createrId};this.$HTTP("post","/project_getListByCreaterId",i,e("#app")[0]).then(function(e){t.myResponsibleList=e.result,console.log("我负责的",t.myResponsible)})},get_I_participatein:function(t){var i=this,s={userId:this.createrId};this.$HTTP("post","/projectParticipation_getListByUserId",s,e("#app")[0]).then(function(e){i.I_participatein=e.result,console.log(e)})},getProjectArchiveList:function(){var e=this,t={createrId:this.createrId};this.$HTTP("post","/project_getSaveListByCreaterId",t).then(function(t){e.projectArchiveList=t.result,e.fillLength=e.projectArchiveList.length;var i=!0,s=!1,n=void 0;try{for(var r,o=a()(e.projectArchiveList);!(i=(r=o.next()).done);i=!0){var l=r.value;if(l.saveTime){var c=l.saveTime.split(" ");l.saveTime=c[2]+"年"+c[1]+"月"+c[0]+"日"}}}catch(e){s=!0,n=e}finally{try{!i&&o.return&&o.return()}finally{if(s)throw n}}})},LightStar:function(e){var t=this;e.isStar=!e.isStar;var i={projectId:e.projectid,userId:this.userId};this.$HTTP("post","/project_update_isStar",i).then(function(e){200==e.code&&t.getMyResponsibleList()})},handleCommand:function(e,t){return this.projectId=t.$attrs.dataProjectid,this.classify=t.$attrs.classify,0==e?this.itemInformationShow=!0:1==e?this.itemRecordShow=!0:3==e?this.pigeonhole(t):4==e?this.HandoverShow=!0:5==e&&this.projectRestore(t),!1},closeHandover:function(){this.HandoverShow=!1},closeInfo:function(){this.itemInformationShow=!1,this.getMyResponsibleList(),this.get_I_participatein(this.createrId)},closeItemRecord:function(){this.itemRecordShow=!1},selectTitle:function(e){this.checkIndex=e},enterTask:function(e){console.log(e),localStorage.setItem("projectItem",n()(e)),this.$router.push("/project/projectInfo")},showAll:function(){this.showButton=!this.showButton},agreeJoin:function(e,t){var i={myUserId:e,friendsUserId:t};this.$HTTP("post","/user_friends_add",i).then(function(e){console.log(e)})},byProject:function(e,t){var i={myUserId:myUserId,friendsUserId:friendsUserId,type:e,id:t};this.$HTTP("post","/user_friendsByType_add",i).then(function(e){console.log(e)})}}),mounted:function(){},created:function(){var e=this;if(localStorage.getItem("staffInfo")){var t=JSON.parse(localStorage.getItem("staffInfo"));this.createrId=t.userPkid,this.userId=t.userPkid,this.info=t}if(decodeURI(window.location.href).split("?")[1]){var i=decodeURI(window.location.href).split("?")[1].split("&");0==i[1].split("=")[1]?this.agreeJoin(this.userId,i[0].split("=")[1]):(i[1].split("=")[1],this.byProject())}this.getMyResponsibleList(),this.get_I_participatein(this.createrId),this.getProjectArchiveList(),localStorage.getItem("userMsg")&&this.$store.replaceState(JSON.parse(localStorage.getItem("userMsg"))),window.addEventListener("beforeunload",function(){localStorage.setItem("userMsg",n()(e.$store.state))})}}}).call(t,i("L7Pj"))},"+Llw":function(e,t,i){"use strict";var s=i("ReT7"),n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"reminder2"},[1==e.types?i("div",{staticClass:"reminder2_box"},[i("div",{staticClass:"reminder2_top"},[e._v("温馨提示")]),e._v(" "),i("div",{staticClass:"reminder2_center"},[i("p",{staticClass:"text"},[e._v(e._s(e.texts))]),e._v(" "),e.selectLists.length?i("el-select",{attrs:{size:"small",multiple:e.multiples,"collapse-tags":"",placeholder:e.selectPlaceholders},on:{change:e.selectChange},model:{value:e.values,callback:function(t){e.values=t},expression:"values"}},e._l(e.selectLists,function(e){return i("el-option",{key:e.value,attrs:{label:null==e.label?"未分组":e.label,value:e.value,disabled:e.disabled}})}),1):e._e()],1),e._v(" "),i("div",{staticClass:"reminder2_bottom"},[i("button",{staticClass:"but fl",on:{click:e.cancel}},[e._v("取消")]),e._v(" "),e.multiples?[e.selectLists.length&&!e.values.length?i("button",{staticClass:"but but_right color_dis fl",attrs:{disabled:""},on:{click:e.sure}},[e._v(e._s(e.sureTexts?e.sureTexts:"确认删除"))]):i("button",{staticClass:"but but_right color_main fl",on:{click:e.sure}},[e._v(e._s(e.sureTexts?e.sureTexts:"确认删除"))])]:[e.selectLists.length&&""===e.values?i("button",{staticClass:"but but_right color_dis fl",attrs:{disabled:""},on:{click:e.sure}},[e._v(e._s(e.sureTexts?e.sureTexts:"确认删除"))]):i("button",{staticClass:"but but_right color_red fl",on:{click:e.sure}},[e._v(e._s(e.sureTexts?e.sureTexts:"确认删除"))])]],2)]):i("div",{staticClass:"reminder2_box"},[i("div",{staticClass:"reminder2_top"},[e._v(e._s(e.types))]),e._v(" "),i("div",{staticClass:"reminder2_center"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.values,expression:"values"}],staticClass:"input",attrs:{id:"inputValue",type:"text",placeholder:e.texts,autofocus:""},domProps:{value:e.values},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.sure(t):null},input:function(t){t.target.composing||(e.values=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"reminder2_bottom"},[i("button",{staticClass:"but fl",on:{click:e.cancel}},[e._v("取消")]),e._v(" "),i("button",{staticClass:"but but_right color_main fl",class:""==e.values?"color_dis":"",attrs:{disabled:""==e.values},on:{click:e.sure}},[e._v("确定")])])])])},staticRenderFns:[]};var r=function(e){i("BC9n")},a=i("C7Lr")(s.a,n,!1,r,null,null);t.a=a.exports},"+mo2":function(e,t){},"/qLT":function(e,t){},0:function(e,t,i){i("briU"),e.exports=i("NHnr")},"0XSk":function(e,t){},1:function(e,t){},"12IX":function(e,t){},"1Ouf":function(e,t,i){"use strict";(function(e){var s=i("HzJ8"),n=i.n(s),r=i("IHPB"),a=i.n(r),o=i("Jpdf"),l=i.n(o);t.a={data:function(){return{stageLists:[],newButton:{title:"",pkid:-1,enabled:!1,isRedact:!1},newStageVal:"",oldStageVal:""}},components:{draggable:l.a},watch:{},props:["projectId","userPkid"],methods:{redactStage:function(t,i){this.oldStageVal=t.title,t.isRedact=!1,this.stageLists=[].concat(a()(this.stageLists)),this.$nextTick(function(t){e(".labelLists").find(".stageL").find(".title").eq(i).focus()})},addStage:function(e){if(e.Count)return this.$message("当前阶段已有内容，不可删除，您可以更改名称"),!1;e.enabled=!e.enabled;var t={stageId:e.pkid};this.$HTTP("post","/stage_update_state",t).then(function(e){console.log(e)})},delStage:function(e,t){if(e.Count)return this.$message("当前阶段已有内容，不可删除，您可以更改名称"),!1;this.stageLists.splice(t,1);var i={stageId:e.pkid};this.$HTTP("post","/stage_delete",i).then(function(e){console.log(e)})},newStageBlur:function(e,t){var i=this;if(0==t.isNew){if(e==this.oldStageVal)return;console.log(e);var s={stageId:t.pkid,title:e};this.$HTTP("post","/stage_update",s).then(function(e){})}else if(""==e)this.stageLists.pop();else{t.enabled=!0;var n={myUserId:this.userPkid,projectId:this.projectId,title:e};this.$HTTP("post","/stage_add",n).then(function(e){e.result.isRedact=!0,i.stageLists.pop(),i.stageLists.push(e.result)})}t.enabled=!0,this.stageLists=[].concat(a()(this.stageLists))},stageChange:function(e){console.log(e)},addList:function(){this.newButton.title="",this.newButton.isRedact=!1,this.stageLists.push(this.newButton),this.$nextTick(function(t){e(".labelLists").find(".stageL:last").find(".title").focus()})},starDrag:function(e){console.log(e)},datadragEnd:function(e){var t={stageId:e.item.dataset.partitionid,isSort:e.newIndex};this.$HTTP("post","/stage_update_isSort",t).then(function(e){console.log(e)})},delCheck:function(e,t){if(console.log(e),e.Count)return this.$message("当前阶段已有内容，不可删除，您可以更改名称"),!1;e.enabled=!e.enabled,this.stageLists[t].enabled=!1;var i={stageId:e.pkid};this.$HTTP("post","/stage_update_state",i).then(function(e){console.log(e)})},closePop:function(){this.$emit("closePop")},getStageLists:function(){var e=this,t={projectId:this.projectId};this.$HTTP("post","/stageCount_list_get",t).then(function(t){e.stageLists=t.result;var i=!0,s=!1,r=void 0;try{for(var a,o=n()(e.stageLists);!(i=(a=o.next()).done);i=!0){var l=a.value;l.isNew=!1,l.isRedact=!0}}catch(e){s=!0,r=e}finally{try{!i&&o.return&&o.return()}finally{if(s)throw r}}})},cancel:function(){this.$emit("closePop")}},mounted:function(){},created:function(){this.getStageLists()}}}).call(t,i("L7Pj"))},"1QFH":function(e,t){},2:function(e,t){},"2/Xt":function(e,t){},"29Yg":function(e,t,i){"use strict";var s=i("AOPC"),n=i.n(s),r={name:"c-pdf",props:["pdfurl"],data:function(){return{pdfLoadFlag:!0,pdfDoc:null,pageNum:1,pageRendering:!1,pageNumPending:null,scale:1.2,page_num:0,page_count:0,maxscale:2,minscale:.8,zoomSize:100}},methods:{renderPage:function(e){var t=this;this.pageRendering=!0;var i=document.getElementById("the-canvas");this.pdfDoc.getPage(e).then(function(e){var s=e.getViewport(t.scale);i.height=s.height,i.width=s.width;var n={canvasContext:t.ctx,viewport:s};e.render(n).promise.then(function(){t.pdfLoadFlag=!1,t.pageRendering=!1,null!==t.pageNumPending&&(t.renderPage(t.pageNumPending),t.pageNumPending=null)})}),t.page_num=t.pageNum},addscale:function(){this.scale>=this.maxscale||(this.zoomSize+=10,this.scale+=.1,this.queueRenderPage(this.pageNum))},minus:function(){this.scale<=this.minscale||(this.zoomSize-=10,this.scale-=.1,this.queueRenderPage(this.pageNum))},prev:function(){this.pageNum<=1||(this.pageNum--,this.queueRenderPage(this.pageNum))},next:function(){var e=this;e.pageNum>=e.page_count||(e.pageNum++,e.queueRenderPage(e.pageNum))},closepdf:function(){this.$emit("closepdf")},queueRenderPage:function(e){this.pageRendering?this.pageNumPending=e:this.renderPage(e)}},computed:{ctx:function(){return document.getElementById("the-canvas").getContext("2d")}},mounted:function(){var e=this;n.a.getDocument(e.pdfurl).then(function(t){e.pdfDoc=t,e.page_count=e.pdfDoc.numPages,e.renderPage(e.pageNum)})}},a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"cpdf"},[s("div",{staticClass:"Pdf_topNav"},[s("span",{staticClass:"checkBu",on:{click:e.prev}},[s("i",{staticClass:"el-icon-arrow-left cur"})]),e._v(" \n    "),s("span",{staticClass:"pageNum"},[s("span",{domProps:{textContent:e._s(e.page_num)}}),e._v(" / \n      "),s("span",{domProps:{textContent:e._s(e.page_count)}})]),e._v("\n      \n    "),s("span",{staticClass:"checkBu",on:{click:e.next}},[s("i",{staticClass:"el-icon-arrow-right cur"})]),e._v(" "),s("span",{staticClass:"zoom"},[s("i",{staticClass:"el-icon-zoom-in",on:{click:e.addscale}}),e._v("\n     "+e._s(e.zoomSize)+"\n      "),s("i",{staticClass:"el-icon-zoom-out",on:{click:e.minus}})])]),e._v(" "),s("div",{staticClass:"center"},[s("div",{staticClass:"scale_div"},[s("canvas",{staticClass:"canvasstyle",attrs:{id:"the-canvas"}}),e._v(" "),e.pdfLoadFlag?s("img",{staticClass:"pdf_loading",attrs:{src:i("QK3a"),alt:""}}):e._e()])])])},staticRenderFns:[]};var o=i("C7Lr")(r,a,!1,function(e){i("z1hp")},null,null);t.a=o.exports},"2LIm":function(e,t,i){e.exports=i.p+"static/img/egLogo.d9e699b.png"},"3ETo":function(e,t){},"3a6B":function(e,t,i){"use strict";(function(e){var s=i("3cXf"),n=i.n(s),r=i("aA9S"),a=i.n(r),o=i("rVsN"),l=i.n(o),c=i("lC5x"),u=i.n(c),d=i("J0Oq"),h=i.n(d),f=i("IHPB"),p=i.n(f),v=i("4YfN"),m=i.n(v),g=i("HzJ8"),_=i.n(g),y=i("Jpdf"),C=i.n(y),w=i("+Llw"),A=i("npnC"),k=i("Z516"),b=i("9rMa");t.a={props:["ids","list","stageList"],components:{draggable:C.a,Reminder2:w.a,UploadProgress:A.a,TransferView:k.a},data:function(){return{loginUser:JSON.parse(localStorage.getItem("staffInfo")),projectItem:JSON.parse(localStorage.getItem("projectItem")),userId:JSON.parse(localStorage.getItem("staffInfo")).userPkid,projectId:this.ids.projectId,stageId:this.ids.stageId,taskId:this.ids.taskId,stageTaskId:this.ids.stageTaskId,filePartitionId:this.ids.filePartitionId,idList:{},uploadProgressFlag:!1,fileProgressList:[],fileTypeImg:[{src:i("QeED")},{src:i("9fRE")},{src:i("EVfD")},{src:i("aL5B")},{src:i("blPS")},{src:i("p9T0")},{src:i("hjiM")},{src:i("kpDV")},{src:i("Igbf")},{src:i("G8L8")},{src:i("U4qe")},{src:i("tVkU")}],fileList:[],parthsGroup:[],checked:!1,sortType:0,sortOrder:!0,checkedList:[],delGroupFlag:!1,delFileFlag:!1,reminderText:"您确定要删除吗？",operateParth:{},operateFile:{},groupNameCopy:"",fileNameCopy:"",groupSortFlag:!1,transferShow:!1,transferStageList:[],transferDefaultStage:[],transferType:1,uploadFrom:1,lastTime:null,enterEdit:!1}},watch:{sortType:function(e){var t=this;if(e){var i=function(e){var i=t.checkedList.findIndex(function(t){return t.FilePkid==e.FilePkid});-1!==i&&(e.checked=t.checkedList[i].checked)},s=!0,n=!1,r=void 0;try{for(var a,o=_()(this.fileList);!(s=(a=o.next()).done);s=!0){i(a.value)}}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}}else{var l=!0,c=!1,u=void 0;try{for(var d,h=_()(this.parthsGroup);!(l=(d=h.next()).done);l=!0){var f=d.value,p=function(e){var i=t.checkedList.findIndex(function(t){return t.FilePkid==e.FilePkid});-1!==i&&(e.checked=t.checkedList[i].checked)},v=!0,m=!1,g=void 0;try{for(var y,C=_()(f.fileList);!(v=(y=C.next()).done);v=!0){p(y.value)}}catch(e){m=!0,g=e}finally{try{!v&&C.return&&C.return()}finally{if(m)throw g}}}}catch(e){c=!0,u=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw u}}}},checkedList:function(e){this.CHECKEDLIST_CHANGE(e)},fileList:function(e){this.FILELENGTH_CHANGE(e.length)},parthsGroup:{deep:!0,handler:function(e){var t=0,i=!0,s=!1,n=void 0;try{for(var r,a=_()(e);!(i=(r=a.next()).done);i=!0){var o=r.value,l=!0,c=!1,u=void 0;try{for(var d,h=_()(o.fileList);!(l=(d=h.next()).done);l=!0){d.value;t++}}catch(e){c=!0,u=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw u}}}}catch(e){s=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(s)throw n}}this.FILELENGTH_CHANGE(t)}}},computed:m()({},Object(b.c)(["checkedFileList","power"]),{fileEmpty:function(){return this.sortType?!this.fileList.length:![].concat(p()(this.parthsGroup)).filter(function(e){return e.fileList.length}).length}}),methods:m()({},Object(b.b)(["CHECKEDLIST_CHANGE","FILELENGTH_CHANGE"]),{enterTheDetails:function(e,t){(new Date).getTime()-this.lastTime<500||this.$emit("handleDetails",e,t)},checkboxChange:function(e,t,i){this.selectedListChange(e,t,i),i?this.fileList=this.fileList.concat():this.parthsGroup=this.parthsGroup.concat()},editFocus:function(t){var i=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.$nextTick(function(){var n=t?e(t):i.$refs.createdGroup[0];n.focus(),s&&n.select(),i.enterEdit=!1})},selectedListChange:function(e,t,i){if(e)this.checkedList.push(t);else{var s=this.checkedList.findIndex(function(e){return e.FilePkid===t.FilePkid});-1!==s&&this.checkedList.splice(s,1)}},fileCheckboxAll:function(e){if("clear"===e&&(e=!1),this.sortType)e?(this.fileList.map(function(e){return e.checked=!0}),this.checkedList=this.fileList.concat()):(this.fileList.map(function(e){return e.checked=!1}),this.checkedList=[]),this.fileList=this.fileList.concat();else{if(e){this.checkedList=[];var t=!0,i=!1,s=void 0;try{for(var n,r=_()(this.parthsGroup);!(t=(n=r.next()).done);t=!0){var a=n.value,o=!0,l=!1,c=void 0;try{for(var u,d=_()(a.fileList);!(o=(u=d.next()).done);o=!0){var h=u.value;h.checked=!0,this.checkedList.push(h)}}catch(e){l=!0,c=e}finally{try{!o&&d.return&&d.return()}finally{if(l)throw c}}}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}}else{this.checkedList=[];var f=!0,p=!1,v=void 0;try{for(var m,g=_()(this.parthsGroup);!(f=(m=g.next()).done);f=!0){var y=m.value,C=!0,w=!1,A=void 0;try{for(var k,b=_()(y.fileList);!(C=(k=b.next()).done);C=!0){k.value.checked=!1}}catch(e){w=!0,A=e}finally{try{!C&&b.return&&b.return()}finally{if(w)throw A}}}}catch(e){p=!0,v=e}finally{try{!f&&g.return&&g.return()}finally{if(p)throw v}}}this.parthsGroup=this.parthsGroup.concat()}},sortHandle:function(e,t){var i=this;return h()(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i.fileEmpty){t.next=2;break}return t.abrupt("return");case 2:e?(1==e?(1===i.sortType?i.sortOrder=!i.sortOrder:i.sortOrder=!0,i.sortType=1):(2===i.sortType?i.sortOrder=!i.sortOrder:i.sortOrder=!0,i.sortType=2),i.setSort()):i.sortType=0;case 3:case"end":return t.stop()}},t,i)}))()},setSort:function(){for(var e=[],t=0;t<this.parthsGroup.length;t++){for(var i=this.parthsGroup[t],s=0;s<i.fileList.length;s++){var n=i.fileList[s];n.groupId=i.pkid,n.groupIndex=t,n.index=s}e.push.apply(e,p()(i.fileList))}this.fileList=[].concat(e),this.fileList.sort(this.compare)},compare:function(e,t){var i=void 0,s=void 0;return 1===this.sortType?(i=e.nickName?e.nickName:e.userName,s=t.nickName?t.nickName:t.userName):(i=new Date(t.CreateTime).getTime(),s=new Date(e.CreateTime).getTime()),this.sortOrder?i<s?-1:i>s?1:0:i<s?1:i>s?-1:0},groupCommand:function(e){var t="新建分组";if(-1!==this.parthsGroup.findIndex(function(e){return e.groupName===t})){var i=[],s=!0,n=!1,r=void 0;try{for(var a,o=_()(this.parthsGroup);!(s=(a=o.next()).done);s=!0){var l=a.value,c=0;-1!==l.groupName.indexOf("新建分组")&&l.groupName.length>4&&(c=l.groupName.slice(4),c=parseInt(c),!isNaN(c)&&i.push(c))}}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}i.length?(i.sort(),t+=i[i.length-1]+1):t+=1}if("create"===e)return this.parthsGroup.push({pkid:"new",groupName:t,fileList:[],border:!1,packUp:null,dragDisabled:!1,edit:!0,createdGroup:!0}),this.parthsGroup=this.parthsGroup.concat(),void this.editFocus();"sort"!==e||(this.groupSortFlag=!0)},groupTitleBlur:function(e,t){var i=this;if(!this.enterEdit){if(this.lastTime=(new Date).getTime(),""==e.groupName)return this.$message.warning("分组名不能为空！"),void this.editFocus();if(-1!==this.parthsGroup.findIndex(function(t){return t.groupName===e.groupName&&t.pkid!==e.pkid}))return this.$message.warning("已含有同名分组名！"),void this.editFocus();if(e.createdGroup)this.addParth(e.groupName);else{if(this.groupNameCopy!==e.groupName){var s={filePartitionId:e.pkid,title:e.groupName};this.$HTTP("post","/filePartition_update",s).then(function(e){console.log("文件分组名修改成功",e),i.$message.success("文件分组名修改成功!")}).catch(function(e){console.log(e)})}e.edit=!1,this.parthsGroup=this.parthsGroup.concat()}t&&(this.enterEdit=!0)}},addParth:function(e,t,i){var s=this;return new l.a(function(i){var n={stageTaskId:s.stageTaskId,title:e},r={border:!1,packUp:null,dragDisabled:!1,edit:!1};s.$HTTP("post","/filePartition_add",n).then(function(e){var i={};if(t){var n=a()({},e.result);n.fileList=t.fileList,n.allList=t.allList,i=a()({},n,r)}else i=a()({},e.result,r);s.parthsGroup.splice(s.parthsGroup.length-1,1,i),s.$message.success("添加分组成功！",s.parthsGroup)}).catch(function(e){console.log("err",e)})})},fileGroupCommand:function(e,t,i){var s=this;if(this.filePartitionId=i.pkid,this.operateParth=a()({},i,{index:t}),this.transferType=3,"upload"!==e)if("download"!==e)if("collect"!==e){if("transfer"===e)return this.getTransferStageList(),void(this.transferShow=!0);if("rename"===e)return i.edit=!0,this.groupNameCopy=i.groupName,this.parthsGroup=this.parthsGroup.concat(),void this.editFocus();if("delete"!==e);else if(i.fileList.length)this.delGroupFlag=!0,this.reminderText="您确认要删除该分组么？ 删除后，分组内的文件将移入到未分组内";else{var n={filePartitionId:i.pkid,myUserId:this.userId};this.$HTTP("post","/filePpartition_delete",n).then(function(e){console.log("文件分组删除成功",e,t),s.parthsGroup.splice(t,1)}).catch(function(e){console.log(e)})}}else this.fileCollect(i);else this.fileDownlod(i)},delGroupCancel:function(){this.delGroupFlag=!1},delGroupSure:function(){var e=this,t={filePartitionId:this.filePartitionId,myUserId:this.userId};this.$HTTP("post","/filePpartition_delete",t).then(function(t){var i,s=function(t){if(t.checked){var i=e.checkedList.findIndex(function(e){return e.FilePkid===t.FilePkid});-1!==i&&e.checkedList.splice(i,1)}},n=!0,r=!1,o=void 0;try{for(var l,c=_()(e.operateParth.fileList);!(n=(l=c.next()).done);n=!0){s(l.value)}}catch(e){r=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw o}}var u=t.result;u=u.splice(e.parthsGroup[0].fileList.length);var d=!0,h=!1,f=void 0;try{for(var v,m=_()(u);!(d=(v=m.next()).done);d=!0){var g=v.value,y=e.addFileAttr(g);g=a()(g,y)}}catch(e){h=!0,f=e}finally{try{!d&&m.return&&m.return()}finally{if(h)throw f}}(i=e.parthsGroup[0].fileList).push.apply(i,p()(u)),e.parthsGroup.splice(e.operateParth.index,1)}).catch(function(e){console.log(e)}),this.delGroupFlag=!1},visibleChangeGroup:function(e,t){if(e){var i=t.fileList.findIndex(function(e){return!e.isOwn});this.$set(t,"onlySelf",-1===i),this.parthsGroup=this.parthsGroup.concat()}},backParthSort:function(){this.groupSortFlag=!1},dragEndParth:function(t){var i=this,s={filePartitionId:e(t.item).attr("ids"),isSort:t.newIndex};this.$HTTP("post","/filePartition_update_isSort",s).then(function(e){console.log("移动分组成功",e)}).catch(function(e){console.log("移动分组失败",e),i.$message.error("移动分组失败，请检查网络")})},fileCommand:function(t,i,s,n,r){var o=this;if(this.operateFile=a()({},s,{index:i,groupId:n,groupIndex:r}),this.transferType=1,"download"!==t){if("collect"!==t)return"transfer"===t?(this.getTransferStageList(),void(this.transferShow=!0)):"rename"===t?(s.edit=!0,this.fileNameCopy=s.FileTitle,this.parthsGroup=this.parthsGroup.concat(),this.editFocus("#fileNameEdit"),void this.$nextTick(function(){var t=e("#fileNameEdit");t.css({width:o.textWidth(t.val())+4})})):"delete"===t?(this.delFileFlag=!0,void(this.reminderText="您确定要删除该文件吗？")):void 0;this.fileCollect(s)}else this.fileDownlod(s)},fileNameEditChange:function(t){var i=e(t.target).val();e(t.target).css({width:this.textWidth(i)+4})},textWidth:function(t){var i=e("<pre>"+t+"</pre>").css({display:"none"});e("body").append(i);var s=i.width(),n=e(".file_title").eq(0).width()-10;return s>=n&&(s=n),i.remove(),s},fileNameEditBlur:function(e,t,i){var s=this;if(!this.enterEdit){this.lastTime=(new Date).getTime();var n=this.operateFile,r=(n.index,n.groupId,n.groupIndex),a=t.FileTitle+"."+t.Type;if(""==t.FileTitle)return this.$message.warning("文件名不能为空！"),void this.editFocus("#fileNameEdit");if(-1!==this.parthsGroup[r].fileList.findIndex(function(e){return e.FileName===a&&e.FilePkid!==t.FilePkid}))this.$message.error("该分组内含有同名文件！"),this.editFocus("#fileNameEdit");else{if(this.fileNameCopy!==t.FileTitle){var o={FilePkid:t.FilePkid,newTitle:t.FileTitle+"."+t.Type};this.$HTTP("post","/stageTaskFile_update",o).then(function(e){console.log("修改文件名成功",e),s.$message.success("修改文件名成功")}).catch(function(e){console.log("修改文件名失败",e)}),t.FileName=a}t.edit=!1,this.parthsGroup=this.parthsGroup.concat()}i&&(this.enterEdit=!0)}},delFileCancel:function(){this.delFileFlag=!1},delFileSure:function(){var e=this;this.delFileFlag=!1;var t=this.operateFile,i=t.FilePkid,s=(t.index,t.groupId,t.groupIndex),n={FilePkid:i};this.$HTTP("post","/stageTaskFile_delete",n).then(function(t){if(e.operateFile.checked){var n=e.checkedList.findIndex(function(e){return e.FilePkid===i});-1!==n&&e.checkedList.splice(n,1)}var r=e.parthsGroup[s].fileList.findIndex(function(e){return e.FilePkid===i});-1!==r&&e.parthsGroup[s].fileList.splice(r,1),e.parthsGroup=e.parthsGroup.concat(),e.sortType&&e.setSort()}).catch(function(e){console.log("删除文件失败",e)})},multipleTransfer:function(){this.getTransferStageList(),this.transferShow=!0,this.transferType=2},transferCancel:function(){this.transferShow=!1},transferSure:function(e,t){this.transferShow=!1;var i=[[],[]];if(1===this.transferType)i[0]=[this.operateFile.FilePkid];else if(2===this.transferType){var s=!0,n=!1,r=void 0;try{for(var a,o=_()(this.notGroupedList);!(s=(a=o.next()).done);s=!0){var l=a.value;l.checked&&i[0].push(l.FilePkid)}}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}var c=!0,u=!1,d=void 0;try{for(var h,f=_()(this.parthsGroup);!(c=(h=f.next()).done);c=!0){var p=h.value;if(-1===p.fileList.findIndex(function(e){return!e.checked}))i[1].push(p.pkid);else{var v=!0,m=!1,g=void 0;try{for(var y,C=_()(p.fileList);!(v=(y=C.next()).done);v=!0){var w=y.value;w.checked&&i[0].push(w.FilePkid)}}catch(e){m=!0,g=e}finally{try{!v&&C.return&&C.return()}finally{if(m)throw g}}}}}catch(e){u=!0,d=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw d}}}else i[1]=[this.filePartitionId];this.tranferSendHttp(e,i,t)},getTransferStageList:function(){this.transferStageList=[],this.transferDefaultStage=[];var e=!0,t=!1,i=void 0;try{for(var s,n=_()(this.stageList);!(e=(s=n.next()).done);e=!0){var r=s.value;r.stageId!=this.stageId&&this.transferStageList.push({value:r.stageId,label:r.stageTitle,disabled:!1})}}catch(e){t=!0,i=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw i}}for(var a=0;a<this.stageList.length;a++)if(this.stageList[a].stageId==this.stageId&&a<this.stageList.length-1)return void(this.transferDefaultStage=[this.stageList[a+1].stageId])},tranferSendHttp:function(e,t,i){var s=this;return new l.a(function(n){if(t[0].length||t[1].length||i){var r={projectId:s.projectId,oldstageId:s.stageId,stageId:e.join(","),taskId:s.taskId,descn:i,groupIdVals:t[1].join(","),fileIdVals:t[0].join(","),myUserId:s.userId};s.$HTTP("post","/demand_add",r).then(function(e){s.$emit("handleSure")}).catch(function(e){console.log(e)})}else s.$message.warning("请选择交接文件或添加需求描述")})},multipleDownload:function(){this.transferType=2,this.fileDownlod()},fileDownlod:function(t){if(1===this.transferType)e('<a href="'+t.Url+'" download="'+t.FileName+'" target="_blank"></a>').get(0).click();else if(2===this.transferType&&1===this.checkedFileList.length)e('<a href="'+this.checkedFileList[0].Url+'" download="'+this.checkedFileList[0].FileName+'" target="_blank"></a>').get(0).click(),this.fileCheckboxAll("clear");else{var i=[];if(2===this.transferType){var s=!0,n=!1,r=void 0;try{for(var a,o=_()(this.checkedFileList);!(s=(a=o.next()).done);s=!0){var l=a.value;i.push(l.FilePkid)}}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}}else 3===this.transferType&&i.push(t.pkid);e('<a href="/EggsWebService.asmx/zipFileDown?stageId='+this.stageId+"&taskId="+this.taskId+"&demandId=''&vals="+i.join(",")+"&type="+(this.transferType-1)+'" download="....zip" target="_blank"></a>').get(0).click(),2===this.transferType&&this.fileCheckboxAll("clear")}},fileCollect:function(e){var t=[];1===this.transferType?t=[e.FilePkid]:3===this.transferType&&t.push(e.pkid);var i={myUserId:this.userId,vale:t.join(","),type:1,idType:3===this.transferType?2:1,fatherId:0,iLevel:1};this.$emit("handleCollect",i)},parthDragEnter:function(e,t){this.filePartitionId=e,this.uploadFrom=t?1:2},handleClickUpload:function(e){this.filePartitionId=e,this.uploadFrom=3},closeProgress:function(){this.uploadProgressFlag=!1,this.fileProgressList=[],Array.isArray(this.$refs.fileUpload)?this.$refs.fileUpload[0].clearFiles():this.$refs.fileUpload.clearFiles()},cancelUpload:function(e){var t=this;this.getDelFile(e.uid,!0),e.error||(e.reUploadXhr?e.reUploadXhr.abort():this.$nextTick(function(){Array.isArray(t.$refs.fileUpload)?t.$refs.fileUpload[0].abort(e):t.$refs.fileUpload.abort(e)}))},reUpload:function(e){var t=this;e.status=1,e.reUploadXhr=1;var i=new FormData;i.append("file",e.file),this.$nextTick(function(){Array.isArray(t.$refs.fileUpload)?t.$refs.fileUpload[0].httpRequest=t.uploadFile(i,e):t.$refs.fileUpload.httpRequest=t.uploadFile(i,e)})},uploadFile:function(t,i){var s=this;i.reUploadXhr=e.ajax({url:"/ProjectFile.ashx?myUserId"+this.userId+"&projectId="+this.projectId+"&stageTaskId="+this.stageTaskId+"&filePartitionId="+this.filePartitionId,type:"post",dataType:"json",data:t,cache:!1,contentType:!1,processData:!1,xhr:function(t){var n=e.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(e){var t=e.loaded,n=e.total,r=Math.floor(100*t/n);s.uploadProgress({percent:r},i)},!1),n},success:function(e){s.uploadSuccess(e,i)},error:function(e){s.uploadError("err",i),i.reUploadXhr&&(i.reUploadXhr=null)}})},popFileProgress:function(e){return-1==e.findIndex(function(e){return e.progress<100})},handleExceed:function(e,t){if(e.length>9)return this.$message({type:"warning",message:"最多只能选择9个文件",center:!0}),!1},beforeUpload:function(e){var t=this.filePartitionId;this.uploadProgressFlag||(this.uploadProgressFlag=!0);var i=this.conver(e.size),s=this.getSuffix(e.name);s=this.getFlieTyle(s);var n={uid:e.uid,size:e.size,sizes:i,nowSize:0,name:e.name,type:2,progress:0,status:1,FileTypeNum:s,imgUrl:"",file:e},r=this.parthsGroup.findIndex(function(e){return e.pkid===t});return-1!==this.parthsGroup[r].fileList.findIndex(function(t){return t.FileName==e.name})?(this.$set(n,"error",1),this.fileProgressList.unshift(n),this.$message.error("该目录下已含有同名文件"),!1):(e.size/1073741824).toFixed(2)>=1?(this.$set(n,"error",2),this.fileProgressList.unshift(n),this.$message.error("文件大于1G，无法上传"),!1):void this.fileProgressList.unshift(n)},uploadProgress:function(e,t,i){var s=parseInt(e.percent),n=this.fileProgressList.findIndex(function(e){return e.uid===t.uid});-1!==n&&(this.fileProgressList[n].progress=s,this.fileProgressList[n].nowSize=this.conver(s/100*this.fileProgressList[n].size),this.fileProgressList[n].imgUrl||1!=this.fileProgressList[n].FileTypeNum||(this.fileProgressList[n].imgUrl=t.url))},uploadSuccess:function(e,t){var i=this,s=this.filePartitionId,n=a()({},t.response.result),r=this.addFileAttr(n);r=a()({},n,r);var o=this.parthsGroup.findIndex(function(e){return e.pkid===s});this.parthsGroup[o].fileList=this.parthsGroup[o].fileList.concat(r),this.sortType&&this.setSort();var l=this.fileProgressList.findIndex(function(e){return e.uid===t.uid});-1!==l&&(this.fileProgressList[l].status=2);var c=this.popFileProgress(this.fileProgressList);this.uploadProgressFlag&&c&&setTimeout(function(){i.closeProgress()},2e3)},uploadError:function(e,t){console.log("err---",e);var i=this.fileProgressList.findIndex(function(e){return e.uid===t.uid});-1!==i&&(this.fileProgressList[i].status=3)},getDelFile:function(e,t){var i=this.fileProgressList.findIndex(function(t){return t.uid==e});-1!==i&&(void 0==t&&this.fileProgressList[i].progress<100&&this.cancelUpload(this.fileProgressList[i]),this.fileProgressList.splice(i,1),this.fileProgressList.length||this.closeProgress())},close:function(){return{type:!!this.sortType,checkedList:this.checkedList,list:this.parthsGroup}},updateData:function(e){if("init"===e)return this.checkedList=JSON.parse(n()(this.checkedFileList)),void(this.parthsGroup=JSON.parse(n()(this.list)));this.parthsGroup=JSON.parse(n()(e)),this.sortType&&this.setSort()},addFileAttr:function(e){var t=e.Type.length,i={checked:!1,hover:!1,edit:!1,FileTitle:e.FileName.slice(0,e.FileName.length-(t+1)),FileType:this.getFlieTyle(e.Type),isOwn:e.UserPkid.toString()===this.userId.toString(),formatTime:this.format(new Date(e.CreateTime),"yyyy/MM/dd HH:mm")};return i.UrlMin=this.fileTypeImg[i.FileType].src,i},returnSelection:function(e){var t=this.checkedList;if(e){var i=function(e){var i=t.findIndex(function(t){return t.FilePkid==e.FilePkid});-1!==i&&(e.checked=t[i].checked)},s=!0,n=!1,r=void 0;try{for(var a,o=_()(this.fileList);!(s=(a=o.next()).done);s=!0){i(a.value)}}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}this.fileList=this.fileList.concat()}else{var l=!0,c=!1,u=void 0;try{for(var d,h=_()(this.parthsGroup);!(l=(d=h.next()).done);l=!0){var f=d.value,p=function(e){var i=t.findIndex(function(t){return t.FilePkid==e.FilePkid});-1!==i&&(e.checked=t[i].checked)},v=!0,m=!1,g=void 0;try{for(var y,C=_()(f.fileList);!(v=(y=C.next()).done);v=!0){p(y.value)}}catch(e){m=!0,g=e}finally{try{!v&&C.return&&C.return()}finally{if(m)throw g}}}}catch(e){c=!0,u=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw u}}this.parthsGroup=this.parthsGroup.concat()}}}),created:function(){this.updateData("init")},mounted:function(){}}}).call(t,i("L7Pj"))},"3b8I":function(e,t){},"4oPz":function(e,t,i){"use strict";var s=i("IHPB"),n=i.n(s),r=i("3cXf"),a=i.n(r),o=i("HzJ8"),l=i.n(o),c=i("Jpdf"),u={data:function(){return{checkNum:"请选择",toLeadShow:!0,projectId:JSON.parse(localStorage.getItem("projectItem")).projectid,userPkid:JSON.parse(localStorage.getItem("staffInfo")).userPkid,fileTittle:"",groupAndTask:[],isShowGroupAndTask:!1,importContentShow:!1,itemList:[],isLeadShow:!1,isShowGroup:!1,group:0}},components:{draggable:i.n(c).a},watch:{groupAndTask:function(e,t){var i=0,s=!0,n=!1,r=void 0;try{for(var a,o=l()(e);!(s=(a=o.next()).done);s=!0){var c=a.value,u=0,d=!0,h=!1,f=void 0;try{for(var p,v=l()(c.taskList);!(d=(p=v.next()).done);d=!0){p.value.isChecked&&(u+=1,i+=1),u==c.taskList.length?c.isChecked=!0:c.isChecked=!1}}catch(e){h=!0,f=e}finally{try{!d&&v.return&&v.return()}finally{if(h)throw f}}}}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}this.checkNum="已选择"+i+"项内容"}},props:[],methods:{cancelImport:function(){this.importContentShow=!1},ok:function(){var e=this,t=[],i=[],s=!0,n=!1,r=void 0;try{for(var o,c=l()(this.groupAndTask);!(s=(o=c.next()).done);s=!0){var u=o.value;0==u.isChecked&&(console.log(u),t.push(u.partitionId));var d=!0,h=!1,f=void 0;try{for(var p,v=l()(u.taskList);!(d=(p=v.next()).done);d=!0){var m=p.value;0==m.isChecked&&(console.log(m),i.push(m.taskId))}}catch(e){h=!0,f=e}finally{try{!d&&v.return&&v.return()}finally{if(h)throw f}}}}catch(e){n=!0,r=e}finally{try{!s&&c.return&&c.return()}finally{if(n)throw r}}var g={projectId:this.projectId,myUserId:this.userPkid,delPartitionVale:t.join(","),delTaskVale:i.join(","),itemList:a()(this.itemList).toString()};this.$HTTP("post","/project_Import",g).then(function(t){e.$emit("closePop")})},isShowGroupList:function(){this.isShowGroup=!this.isShowGroup},isfold:function(e){e.isfold=!e.isfold,this.groupAndTask=[].concat(n()(this.groupAndTask))},closePop:function(){this.$emit("closePop")},checkTask:function(e){e.isChecked=!e.isChecked,this.groupAndTask=[].concat(n()(this.groupAndTask))},checkGroup:function(e){if(e.isChecked=!e.isChecked,e.isChecked){var t=!0,i=!1,s=void 0;try{for(var r,a=l()(e.taskList);!(t=(r=a.next()).done);t=!0){r.value.isChecked=!0}}catch(e){i=!0,s=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw s}}}else{var o=!0,c=!1,u=void 0;try{for(var d,h=l()(e.taskList);!(o=(d=h.next()).done);o=!0){d.value.isChecked=!1}}catch(e){c=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(c)throw u}}}this.groupAndTask=[].concat(n()(this.groupAndTask))},uploadSuccess:function(e){var t=e.result;this.fileTittle=t.FileName,this.toLeadShow=!1,this.itemList=t.ItemList;var i=!0,s=!1,n=void 0;try{for(var r,a=l()(this.groupAndTask);!(i=(r=a.next()).done);i=!0){r.value.taskList.length?this.isShowGroupAndTask=!0:this.isLeadShow=!0}}catch(e){s=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(s)throw n}}},startTolead:function(){this.importContentShow=!0},handleExceed:function(e,t){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeRemove:function(e,t){},handlePreview:function(e){console.log(e)},handleRemove:function(e,t){console.log(e,t)},getGroupList:function(){var e=this,t={project:this.projectId};this.$HTTP("post","/project_get_Catalog",t).then(function(t){e.groupAndTask=t.result;var i=!0,s=!1,n=void 0;try{for(var r,a=l()(e.groupAndTask);!(i=(r=a.next()).done);i=!0){var o=r.value;o.isfold=!1,o.isChecked=!1;var c=!0,u=!1,d=void 0;try{for(var h,f=l()(o.taskList);!(c=(h=f.next()).done);c=!0){h.value.isChecked=!1}}catch(e){u=!0,d=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw d}}}}catch(e){s=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(s)throw n}}console.log(e.groupAndTask)})}},mounted:function(){},created:function(){this.getGroupList()}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"popup",attrs:{id:"toLead"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.toLeadShow,expression:"toLeadShow"}],staticClass:"editStage"},[s("div",{staticClass:"titleTop"},[e._v("导入\n            "),s("i",{staticClass:"iconfont icon-guanbijiantou fr",on:{click:e.closePop}})]),e._v(" "),s("div",{staticClass:"toLeadMainBox"},[e._m(0),e._v(" "),s("span",{staticClass:"icon"},[s("i",{staticClass:"iconfont icon-chaoxian_right",on:{click:e.closePop}})]),e._v(" "),e._m(1),e._v(" "),s("p",[e._v("\n                通过将Xmind中的思维导图导出为Excel格式，再导入我们系统，就能将思维导图转换为我们的任务目录 您也可以直接下载Excel模板，填写目录内容后批量导入\n            ")])]),e._v(" "),s("div",{staticClass:"bottomButton"},[s("div",{staticClass:"buttonBox fr"},[s("el-upload",{staticClass:"upload-demo fl",attrs:{action:"/ExcelFile.ashx?&projectId="+e.projectId+"&myUserId="+e.userPkid,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"show-file-list":!1,multiple:"","on-success":e.uploadSuccess,accept:".xls,.xlsx",limit:3,"on-exceed":e.handleExceed}},[s("button",{staticClass:"main_button_bg"},[e._v("上传Excel文件")])]),e._v(" "),e._m(2)],1)])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isLeadShow,expression:"isLeadShow"}],staticClass:"affirmPop"},[s("div",{staticClass:"top"},[s("i",{staticClass:"iconfont icon-return fl",on:{click:e.closePop}}),e._v(" "),s("span",[e._v(" 导入确认")])]),e._v(" "),s("div",{staticClass:"main"},[s("p",{staticClass:"promptText"},[e._v("Excel文件已上传成功，是否开始导入？")]),e._v(" "),s("span",{staticClass:"fileBox"},[s("img",{attrs:{src:i("aL5B"),alt:""}}),e._v(" "),s("span",{staticClass:"fileName"},[e._v(e._s(e.fileTittle))])])]),e._v(" "),s("div",{staticClass:"bottom"},[s("span",{staticClass:"agin cur"},[s("el-upload",{staticClass:"upload-demo",attrs:{action:"/ExcelFile.ashx?&projectId="+e.projectId+"&myUserId="+e.userPkid,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"show-file-list":!1,multiple:"","on-success":e.uploadSuccess,accept:".xls,.xlsx",limit:3,"on-exceed":e.handleExceed}},[e._v("\n                    重新选择\n                ")])],1),e._v(" "),s("span",{staticClass:"start cur",on:{click:e.startTolead}},[e._v("开始导入")])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowGroupAndTask,expression:"isShowGroupAndTask"}],staticClass:"affirmPop",on:{click:function(t){t.stopPropagation(),e.isShowGroup=!1}}},[e._m(3),e._v(" "),s("div",{staticClass:"main"},[s("p",{staticClass:"promptText"},[e._v("\n                系统监测到您的目录已存在内容，您可以选择要保留的内容\n            ")]),e._v(" "),s("span",{staticClass:"fileBox"},[s("span",{staticClass:"pleaseChoose"},[e._v("\n                    "+e._s(e.checkNum)+"\n                    "),s("i",{staticClass:"iconfont icon-unfold",on:{click:function(t){return t.stopPropagation(),e.isShowGroupList(t)}}})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowGroup,expression:"isShowGroup"}],staticClass:"groupAndTask"},e._l(e.groupAndTask,function(t,i){return s("ul",{key:t.partitionId,staticClass:"groupLists"},[s("li",{staticClass:"groupTitle cur",on:{click:function(i){i.stopPropagation(),e.checkGroup(t)}}},[s("span",{staticClass:"isfold",on:{click:function(i){i.stopPropagation(),e.isfold(t)}}},[s("i",{staticClass:"iconfont",class:t.isfold?"icon-unfold":"icon-enter"})]),e._v(" "),s("span",{staticClass:"partitionTitle"},[e._v(e._s(t.partitionTitle))]),e._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:t.isChecked,expression:"list.isChecked"}],staticClass:"iconfont icon-xuanzhong"})]),e._v(" "),e._l(t.taskList,function(i,n){return s("li",{directives:[{name:"show",rawName:"v-show",value:t.isfold,expression:"list.isfold"}],key:n,staticClass:"taskTitle cur",on:{click:function(t){t.stopPropagation(),e.checkTask(i)}}},[e._v("\n                            "+e._s(i.taskTitle)+"\n                            "),s("i",{directives:[{name:"show",rawName:"v-show",value:i.isChecked,expression:"item.isChecked"}],staticClass:"iconfont icon-xuanzhong"})])})],2)}),0)])]),e._v(" "),s("div",{staticClass:"bottom"},[s("span",{staticClass:"agin cur",on:{click:e.closePop}},[e._v("取消 ")]),e._v(" "),s("span",{staticClass:"start cur",on:{click:e.startTolead}},[e._v("确认")])])]),e._v(" "),e.importContentShow?s("div",{staticClass:"importContent"},[e._m(4),e._v(" "),s("div",{staticClass:"Contentmain"},[s("div",{staticClass:"lable"},[e._m(5),e._v(" "),e._l(e.itemList,function(t,i){return s("div",{key:i,staticClass:"partition  clearfix"},[s("span",{staticClass:"groupTittle fl"},[s("span",{staticClass:"TittleBox"},[s("i",{staticClass:"iconfont icon-unfold"}),e._v(" "),s("span",{staticClass:"name"},[e._v(e._s(t.Title))])])]),e._v(" "),s("div",{staticClass:"lists fl"},e._l(t.Child,function(t,i){return s("div",{key:i,staticClass:"taskTittle"},[s("span",[e._v(" "+e._s(t))]),e._v(" "),s("span")])}),0)])})],2)]),e._v(" "),s("div",{staticClass:"ContentBottom"},[s("span",{staticClass:"main_button_bg fr",on:{click:e.ok}},[e._v("确认")]),e._v(" "),s("span",{staticClass:"main_button fr",on:{click:e.cancelImport}},[e._v("取消")])])]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("img",{attrs:{src:i("fb0b"),width:"278px",alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("img",{attrs:{src:i("Q6aR"),width:"278px",alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"main_button_border downloadMould"},[t("a",{attrs:{href:"http://eggs.apexgame.cn/upload/Excel/Excel下载模板 .xlsx"}},[this._v("下载Excel模板")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"top"},[t("span",[this._v(" 温馨提示")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"top"},[t("span",[this._v(" 温馨提示")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{staticClass:"lableTitle"},[t("li",[t("span",[this._v("分区")]),this._v(" "),t("span",[this._v("任务/阶段")]),this._v(" "),t("span")])])}]};var h=i("C7Lr")(u,d,!1,function(e){i("R3xE")},null,null);t.a=h.exports},"5BUQ":function(e,t){},"5UfR":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ4AAACtCAYAAABBa8Z4AAAACXBIWXMAAAsSAAALEgHS3X78AAAFdElEQVR4Ae3dzWobVxiH8VfWyPIH2LTgyIG0KYRk0SarZJeuu+im8QW01+BL6SUUuii0i5ousgikdNHuagipCYQ0YCUFVzakRGDX8kia8o7l2nGsWGN79B8dPT8IJITImuHJOfNxRiolSWLtdvuemX1tZlcNyE/dzJajKFopxXHs0f3IzsYQLXl464x0GLK6h5ew1zFsE+xxKBAeJAgPEoQHCcKDBOFBgvAgQXiQIDxIEB4kCA8ShAcJwoME4UGC8CBBeJAgPEgQHiQIDxKEBwnCgwThQYLwIEF4kCA8SBAeJAgPEoQHCcKDBOFBgvAgQXiQIDxIEB4kCA8ShAcJwoME4UGC8CBBeJAgPEgQHiQIDxKEBwnCgwThQYLwIEF4kCA8SBAeJKJQd/tuO7EH622rNztWmynbpVnN/7FHjdhmJ0v25ceTNhWVJO+hiEpxHCehbZRH9/3T2G4uVNJfSt883rbNncRqs8R3VJBTrY9019+L5NEd1dhO7Nsne+l/CgQaXmO7a7cvTxbgnbyJ+A4FF97rVmLVAk9nxLcvuPDmqyX7cK5cgHfSH/FxOUVm3OMjPCGP74en8VhuO+GJ1Ztd++nP8YuP8Arg8VZn7OIjvIIYt/gIr0DGKT7Cy9l0xmuK4xIf4eXsk4WKVTNeVhyH+AgvZ37POOuoZ2MQH+HlzG/f3bsxbdNnWIAWcnzBrscrEl8L+NWtGful3rIXzY5VyiUbdAz063whIrwhma9O2Bc3ptMftrndtVZnsFtla1t7I7/tJyE8gSyroV82wzwa4hgPEoQHCcKDBOFBgvAgQXiQIDxIEB4kCA8ShAcJbpmdw+tWN73vurnTtQ/mylabmSj0w+RFQnhn4LE9rLfsZbPz1j++vVixT69MEuApmGoz8ui+e/LvidG51b/j9O9bfD7KOxFeBh5TGtUpS5p86v31rzCXM10UptoB+OLNZqtrz151Bl5H5yPfncuVdB0e3kZ47/DsVTs9lmu2zjZt/r4Rc7zXB+H1cf/5rq1ttc/1Gj7q+WvcvTKZjn44xDxwAh+pzhvdAZ+af6630pBxiPCO8ROI33I4MfCQH663Lvx1RxXhHfPHVnvgE4isfOp90ecyzLghvCP8Gt3aVr7Pseb9+qOCk4seD+L+8/ynQr8kY9dy/zGFx4jXu043jOisd7IBwkutbmSf/m4uRPb5tWou72ccMNX69PdPtksn+9FN/f/nYY2WIWHEy+h4dP7tQVlGvrkqdzGM8LKplkvpvVe/zudr8dz+7xO7NDPYrrxVoK+5UmKq7Y1Cg9yP9RODg4vLvvBzvmqZLjZ7uHcWCc8Y8fb5jfxh8CmZBQP7CK93nObHbnnxkc6ju/4+E8wB9kSPnzDMV/cu/D6tB+2rU1iX9ybCOyJdvrRYscZOt+/S9gPzvbPTuydM0z7C+Wfg8fBPf4R3jIfi3/446DdAnhQeTsf4DwnCgwThQYLwIEF4kCA8SBAeJAgPEkGGF9KTXKE+lRZkeCF9UlOonzoVZHi12Qlb3Rj9T2vybahl+N6zURLkVn32UZQ+RzHKz7D6e/dt8G0JUSmO4yDH8t12Yg/W21Zvdqw2U870jYlK/lB5Y6djV+fKaXRTga5uCTY8FBuXUyBBeJAgPEgQHiQIDxKEBwnCgwThQYLwIEF4kCA8SBAeJAgPEoQHCcKDBOFBgvAgQXiQIDxIEB4kCA8ShAcJwoME4UGC8CBBeJAgPEgQHiQIDxKEBwnCgwThQYLwIEF4kCA8SBAeJAgPEoQHCcKDBOFBgvAgQXiQIDxIEB4kCA8ShAcJwoME4UGC8CBBeJDw8OrsegxZ3cNbZq9jyJYnoihaMbMlRj4MgTe2FEXRyn80HajFgSv++wAAAABJRU5ErkJggg=="},"5Wg5":function(e,t,i){"use strict";var s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"projecthandover"}},[t("div",{staticClass:"popup"},[t("div",{staticClass:"popup_box"},[t("div",{staticClass:"popup_top"},[t("span",{staticClass:"popup_title"},[this._v("项目交接")]),this._v(" "),t("i",{staticClass:"iconfont icon-close fr",on:{click:this.closePop}})]),this._v(" "),t("div",{staticClass:"popup_content popup_content_zke  clearfix"})])])])},staticRenderFns:[]};var n=i("C7Lr")({data:function(){return{}},methods:{closePop:function(){this.$emit("closeHandover")}},created:function(){}},s,!1,function(e){i("J7Nv")},null,null);t.a=n.exports},"62YV":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABBCAYAAACel4eZAAAACXBIWXMAAAsSAAALEgHS3X78AAAC4UlEQVRoBe2bz0siYRjHn/cdfadYZZVahDp4CoPIhaUO0mGXIO/tOdh/wP8mr8Heg2U71aXYi3gIgg0Ew0PtRRCM3DLacZx5l3es0DSbd5z0mXg/IIrzPu98P+88469BwjkHyOdjPBb7AYaR4bFYk8fjtzABaKXygZhmBQC+QC7X8JKA8O3tGI/Hy9bycsJaWJiExyNsd7dJrq8jAPDbqxQVR8ZKpSYu84SPAPBLdI5sIQXL+mQtLb12QC94kqLAGEej0I+0FLUTib9jDOgFKSmKLv5gXEsFRQjupX6+NChIQoLPkM9/HzYgaEKCb8OkgigEw6SCKgTPSaES4tPTIcmSPilUQnYqNQWUNiXLeqRQCVnJJPCpKeah9FEK1znEGJjZLOOMtTxUO1KyPfvq8JkZMDc3WahYNEm1ahNCbsG2TZf7zaITEvBIBMyNjbB4TC4vddJyd8C0UqmGUqgbccTcfh2gFxf/gvw+NBAlhB0lhB0lhB0lhB0lhB0lhB0lhB0lhB0lhB0lhB0lhB0lhJ03JzTyT8G0WoXw/n7vk7oO7ZUVsBYXgdTrwPb2+uraq6tgpdOdOc7PIXx01DdG1LfX1qTyjCwkAvcENAxgBwcQKhTAnp93hJ1w6bQzRiAWIHR8/Pg8ubnpnWME/G85XQd7bq5H9inm+rozTiuXfd+9/0KG0TkqXWJ96DrwaBTcXiaRwbfLKaKFHtpIhDVF7+v68CLD6NwGzOFs3tp6eY6nOWSDP4d0/wsREbYrMM5zyA2G4bQbZ16uDw9HWkic6PrODminp+4KBoQOFwqOlHhZ9puRW47Pznbuo9GB2+377WIBuhehu70eap+bQwbSPjy8aGcySd+XagKEisU/6rMcdpQQdt6eEKnXEwhy+AKt1d5TcndnjGFf46HVIhQ07UQrlQLv4jho2gkljcZX7eysplUqCGJ5Q2QXDsIF1f+HZCFXV+9IoxEBXS8KGcjlGv8BEsoNSc4e5UgAAAAASUVORK5CYII="},"6JvN":function(e,t,i){"use strict";(function(e){var s=i("lC5x"),n=i.n(s),r=i("J0Oq"),a=i.n(r),o=i("3cXf"),l=i.n(o),c=i("rVsN"),u=i.n(c),d=i("4YfN"),h=i.n(d),f=i("FPhu"),p=i("9rMa"),v=i("Dr8r");t.a={components:{noticePage:f.a},inject:["reload"],data:function(){return{staffInfo:"",createrId:"",setListShow:!1,noticeShow:!1,noticeInterval:null}},computed:h()({},Object(p.c)(["unreadNum"])),methods:h()({},Object(p.b)(["UNREAD_CHANGE"]),{refresh:function(){this.reload()},clickNotice:function(){var t=this;this.noticeShow?this.noticeShow=!1:this.noticeShow=!0;e(document).bind("click",function i(s){t.noticeShow=!1,e(document).unbind("click",i)})},getNoticeNum:function(e){var t=this;return new u.a(function(i,s){var n={userId:e||t.staffInfo.userPkid};t.$HTTP("post","/user_get_notificationListCount",n).then(function(e){t.UNREAD_CHANGE(parseInt(e.result)),i(!0)}).catch(function(e){console.log("消息列表数量获取失败",e),s(e)})})},enterAll:function(){this.noticeShow=!1},friend:function(){this.$router.push("/friend")},exitLogin:function(){localStorage.setItem("staffInfo",""),Object(v.b)("RememberYourPassword",0),this.$router.push("/login")},getInfo:function(e){var t=this;return new u.a(function(i,s){var n={userPkid:e};t.$HTTP("post","/user_get",n).then(function(e){localStorage.setItem("staffInfo",l()(e.result)),t.staffInfo=e.result,t.createrId=t.staffInfo.userPkid,i(!0)}).catch(function(e){s(e)})})}}),created:function(){var e=this;return a()(n.a.mark(function t(){var i,s,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.getItem("staffInfo")){t.next=12;break}return i=JSON.parse(localStorage.getItem("staffInfo")),t.prev=2,t.next=5,e.getInfo(i.userPkid);case 5:return t.next=7,e.getNoticeNum(i.userPkid);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:decodeURI(window.location.href).split("?")[1]&&("userId"==(s=decodeURI(window.location.href).split("?")[1].split("&"))[0].split("=")[0]?(r=s[0].split("=")[1],e.getInfo(r)):(e.myUserId=s[0].split("=")[1],e.type=s[1].split("=")[1],e.id=s[2].split("=")[1]));case 14:case"end":return t.stop()}},t,e,[[2,9]])}))()},mounted:function(){var e=this;this.noticeInterval=setInterval(function(){e.getNoticeNum()},1e4)},beforeDestroy:function(){clearInterval(this.noticeInterval),this.noticeInterval=null}}}).call(t,i("L7Pj"))},"6OdW":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABBCAYAAACel4eZAAAACXBIWXMAAAsSAAALEgHS3X78AAADwklEQVRoBe2b204TURSG10yn09qWAoFyLmKDQJRIghAjmuAFMfESX8BX8wnAOy/kQi7EqAEPMZwkDVgORUp6LrQdOubf7TSFYjsdreyS+ZIm7XTvmfWttfYumQmCqqo0v77Q4pQdc8qZ8tApOxJNsjNJV8Be/NCj5JQfRPRkdmQmYiQCYW7tTUuT7Fy/1dLX2evuugqPIos7HxOp7ImLiL4alRJRmT5315XLXGCMiN6ic2qdKKpqbnygpa/eARrBkJQoiZLKjUI5NUuJrfbm6H8M0Ag1SYnchX85uqUaRYgKUq+qDWokITA9v77wstKARhMCLypJNaIQVZJqVCH6kxRXQjaLVapxSpkUV0Jed7ddEIREjdPOSXEl1OFqJ9kiywamFqW4ErKKEk10j8qSaMkYmM6kau3ZuuO2ueixd0JeC21lQyeRnECUVFU1q+e6KtFT7oTADaudxrtHrXgfSydsSk7RNW87snfIpVApqJhegonQaSP/Dl2KKcQ7phDvmEK8YwrxjinEO6YQ75hCvGMK8Y4pxDumEO+YQrxjCvHOtRMydCvYHw5QILZPU9777IkB+P5rE/ehaco7ThvHfgpED2h64EHxe41sTmFjg4kjdgTfD7f78GyIfV7wvyNfaz/5Wr3scyp7SkuBZRrtGKIul6dqbIYrhAshaBBNxykQO2A32bXvEHgqe1I279PeN4ql4zTje0TPBqfJapGY4HEqnBe0SOQP/yyOR3JwLu3cdRFC9pptTaxKVKiYdrwSCAzyVtFarJzX3cPeSxapcI5+Ng7nxFhUEpXB9eompAWPSmjto0lWAoFjDAJFayH7qAiqpc1F62nJghTmoN30YlhIyxpazWG1s8zqYbL3HgtaqwISshRYYcm5mKx8ovrL1mElDAshoGwu/2Ate6awlx60jGP9YANpc7SyipWum1K5y9ZhXYQ+B1fZhYfbfOzzl+Bq1TkY/3prsbjmUOFRT76dsEMCbA5oRYiikugAvPSiWwgCizsf2HsEhAvjgmgPbLvIMtqnEmhNvLA+tCpoGwtamG3pR5v5KnqGWCUhvRHyn6taJQz9DqG3WXYLixVioVSYHccxR2GLxdooBdWc7BljQWvJYb9DbT6WGMxH4KXnuNtxm2312sZTDWF5f3X7jmfwphEx3lg92tox/5bjHVOId66fUDQd7+Qgjn9C+DTaLGbOMulr4MJQcoogCoK4sh3Z5SCcvwMOcBGTmdTz3VjwcC8WbFgZxA4HuHD1/0O1Es8knclMyiVZpPeQmR2ZifwGp7HKtHS/0FsAAAAASUVORK5CYII="},"9fRE":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAACXBIWXMAAAsSAAALEgHS3X78AAABdUlEQVRIDe2WvU6DUBTHD5+V0oDWNhpNdHFxcXHWN/AFnPQdnG26+Bq66Avo4uDi4qJvwFKTtpKilRrKx6Vcc2k0oSAFCokD//Hce/6/c869gUup9+/nrua0K1tCl+IoF1LK7pg17OKzjeP1q6hMqnvdx+K+DJVtIa23r+GdqmMHywBwGgWhSeVZzWd02bt5OwkBsowlDYTO0TwSUgQgAGFzMBNjIIsDpIM6O3r8QODBCAAC54kxXCwMYGQOVo7WODRwVmfXbMVQ8xiRL67Jh2KoZ1lFHfKvSkAJKAH/BWB3TBjeqjDRUTEASzEAI+yDiLzxJF+AdFgHYbcG1T0JMPJAf9AADZz8ABRH+wCir6fPaTeKkQiQ6HNNqjaedaBFBlxtWrnTt/1R0VUmNjdRB8ScGFrKOBC3EnSRqAO2yQOzzIXijDw/ncUIz921tPPXfz1exJu2X83Nn+uXp4gn8WbZBt8yXvS2O3AyPX6jRCr3zRt86xuNeqSK0ZqHDAAAAABJRU5ErkJggg=="},"9nDm":function(e,t,i){"use strict";(function(e){i("9rMa");t.a={props:["selectList","default"],data:function(){return{values:this.default?this.default:[],selectLists:this.selectList?this.selectList:[],descShow:!1,descText:"",descTextFocus:!1}},methods:{cancel:function(){this.$emit("handleCancle")},sure:function(){this.$emit("handleSure",this.values,this.descText)},selectChange:function(e){this.values=e},addDesc:function(){var e=this;this.descShow=!0,this.$nextTick(function(){e.$refs.descRef.focus()})},cancelDesc:function(){this.descShow=!1,this.descText=""},descFocus:function(){this.descTextFocus=!0},descBlur:function(){this.descTextFocus=!1}},mounted:function(){e("#inputValue").focus()}}}).call(t,i("L7Pj"))},AOPC:function(e,t,i){(function(t,s,n){var r;"undefined"!=typeof self&&self,r=function(){return function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=60)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unreachable=t.warn=t.utf8StringToString=t.stringToUTF8String=t.stringToPDFString=t.stringToBytes=t.string32=t.shadow=t.setVerbosityLevel=t.ReadableStream=t.removeNullCharacters=t.readUint32=t.readUint16=t.readInt8=t.log2=t.isEvalSupported=t.isLittleEndian=t.createValidAbsoluteUrl=t.isSameOrigin=t.isSpace=t.isString=t.isNum=t.isEmptyObj=t.isBool=t.isArrayBuffer=t.info=t.getVerbosityLevel=t.getLookupTableFactory=t.getInheritableProperty=t.deprecated=t.createObjectURL=t.createPromiseCapability=t.createBlob=t.bytesToString=t.assert=t.arraysToBytes=t.arrayByteLength=t.FormatError=t.XRefParseException=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PasswordResponses=t.PasswordException=t.PageViewport=t.NotImplementedException=t.NativeImageDecoding=t.MissingPDFException=t.MissingDataException=t.MessageHandler=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VerbosityLevel=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i(61);var n=i(115),r={ERRORS:0,WARNINGS:1,INFOS:5},a=r.WARNINGS;function o(e){a>=r.WARNINGS&&console.log("Warning: "+e)}function l(e){throw new Error(e)}function c(e,t){e||l(t)}var u=function(){function e(e,t){this.name="PasswordException",this.message=e,this.code=t}return e.prototype=new Error,e.constructor=e,e}(),d=function(){function e(e,t){this.name="UnknownErrorException",this.message=e,this.details=t}return e.prototype=new Error,e.constructor=e,e}(),h=function(){function e(e){this.name="InvalidPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}(),f=function(){function e(e){this.name="MissingPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}(),p=function(){function e(e,t){this.name="UnexpectedResponseException",this.message=e,this.status=t}return e.prototype=new Error,e.constructor=e,e}(),v=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="NotImplementedException",e.constructor=e,e}(),m=function(){function e(e,t){this.begin=e,this.end=t,this.message="Missing data ["+e+", "+t+")"}return e.prototype=new Error,e.prototype.name="MissingDataException",e.constructor=e,e}(),g=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="XRefParseException",e.constructor=e,e}(),_=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="FormatError",e.constructor=e,e}(),y=function(){function e(e){this.name="AbortException",this.message=e}return e.prototype=new Error,e.constructor=e,e}(),C=/\x00/g;function w(e){c("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,i=new Uint8Array(t),s=0;s<t;++s)i[s]=255&e.charCodeAt(s);return i}function A(e){return void 0!==e.length?e.length:(c(void 0!==e.byteLength),e.byteLength)}var k=function(){function e(){}var t=["rgb(",0,",",0,",",0,")"];e.makeCssRgb=function(e,i,s){return t[1]=e,t[3]=i,t[5]=s,t.join("")},e.transform=function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]},e.applyTransform=function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]},e.applyInverseTransform=function(e,t){var i=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i]},e.getAxialAlignedBoundingBox=function(t,i){var s=e.applyTransform(t,i),n=e.applyTransform(t.slice(2,4),i),r=e.applyTransform([t[0],t[3]],i),a=e.applyTransform([t[2],t[1]],i);return[Math.min(s[0],n[0],r[0],a[0]),Math.min(s[1],n[1],r[1],a[1]),Math.max(s[0],n[0],r[0],a[0]),Math.max(s[1],n[1],r[1],a[1])]},e.inverseTransform=function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]},e.apply3dTransform=function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]},e.singularValueDecompose2dScale=function(e){var t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],n=e[2]*t[0]+e[3]*t[2],r=e[2]*t[1]+e[3]*t[3],a=(i+r)/2,o=Math.sqrt((i+r)*(i+r)-4*(i*r-n*s))/2,l=a+o||1,c=a-o||1;return[Math.sqrt(l),Math.sqrt(c)]},e.normalizeRect=function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t},e.intersect=function(t,i){function s(e,t){return e-t}var n=[t[0],t[2],i[0],i[2]].sort(s),r=[t[1],t[3],i[1],i[3]].sort(s),a=[];return t=e.normalizeRect(t),i=e.normalizeRect(i),(n[0]===t[0]&&n[1]===i[0]||n[0]===i[0]&&n[1]===t[0])&&(a[0]=n[1],a[2]=n[2],(r[0]===t[1]&&r[1]===i[1]||r[0]===i[1]&&r[1]===t[1])&&(a[1]=r[1],a[3]=r[2],a))};var i=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];return e.toRoman=function(e,t){c(Number.isInteger(e)&&e>0,"The number should be a positive integer.");for(var s,n=[];e>=1e3;)e-=1e3,n.push("M");s=e/100|0,e%=100,n.push(i[s]),s=e/10|0,e%=10,n.push(i[10+s]),n.push(i[20+e]);var r=n.join("");return t?r.toLowerCase():r},e.appendToArray=function(e,t){Array.prototype.push.apply(e,t)},e.prependToArray=function(e,t){Array.prototype.unshift.apply(e,t)},e.extendObj=function(e,t){for(var i in t)e[i]=t[i]},e.inherit=function(e,t,i){for(var s in e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i)e.prototype[s]=i[s]},e.loadScript=function(e,t){var i=document.createElement("script"),s=!1;i.setAttribute("src",e),t&&(i.onload=function(){s||t(),s=!0}),document.getElementsByTagName("head")[0].appendChild(i)},e}(),b=function(){function e(e,t,i,s,n,r){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=s,this.offsetY=n;var a,o,l,c,u,d,h,f,p=(e[2]+e[0])/2,v=(e[3]+e[1])/2;switch(i=(i%=360)<0?i+360:i){case 180:a=-1,o=0,l=0,c=1;break;case 90:a=0,o=1,l=1,c=0;break;case 270:a=0,o=-1,l=-1,c=0;break;default:a=1,o=0,l=0,c=-1}r&&(l=-l,c=-c),0===a?(u=Math.abs(v-e[1])*t+s,d=Math.abs(p-e[0])*t+n,h=Math.abs(e[3]-e[1])*t,f=Math.abs(e[2]-e[0])*t):(u=Math.abs(p-e[0])*t+s,d=Math.abs(v-e[1])*t+n,h=Math.abs(e[2]-e[0])*t,f=Math.abs(e[3]-e[1])*t),this.transform=[a*t,o*t,l*t,c*t,u-a*t*p-l*t*v,d-o*t*p-c*t*v],this.width=h,this.height=f,this.fontScale=t}return e.prototype={clone:function(t){var i="scale"in(t=t||{})?t.scale:this.scale,s="rotation"in t?t.rotation:this.rotation;return new e(this.viewBox.slice(),i,s,this.offsetX,this.offsetY,t.dontFlip)},convertToViewportPoint:function(e,t){return k.applyTransform([e,t],this.transform)},convertToViewportRectangle:function(e){var t=k.applyTransform([e[0],e[1]],this.transform),i=k.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]},convertToPdfPoint:function(e,t){return k.applyInverseTransform([e,t],this.transform)}},e}(),I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function x(){var e={};return e.promise=new Promise(function(t,i){e.resolve=t,e.reject=i}),e}var P,S=function(e,t){if("undefined"!=typeof Blob)return new Blob([e],{type:t});throw new Error('The "Blob" constructor is not supported.')},T=(P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(e,t){if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&URL.createObjectURL){var i=S(e,t);return URL.createObjectURL(i)}for(var s="data:"+t+";base64,",n=0,r=e.length;n<r;n+=3){var a=255&e[n],o=255&e[n+1],l=255&e[n+2];s+=P[a>>2]+P[(3&a)<<4|o>>4]+P[n+1<r?(15&o)<<2|l>>6:64]+P[n+2<r?63&l:64]}return s});function L(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e?new Promise(function(s,n){s(e.apply(i,t))}):Promise.resolve(void 0)}function E(e){if("object"!==(void 0===e?"undefined":s(e)))return e;switch(e.name){case"AbortException":return new y(e.message);case"MissingPDFException":return new f(e.message);case"UnexpectedResponseException":return new p(e.message,e.status);default:return new d(e.message,e.details)}}function F(e,t,i){t?e.resolve():e.reject(i)}function R(e,t,i){var s=this;this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null);var n=this.callbacksCapabilities=Object.create(null),r=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===s.sourceName)if(t.stream)s._processStreamMessage(t);else if(t.isReply){var a=t.callbackId;if(!(t.callbackId in n))throw new Error("Cannot resolve callback "+a);var o=n[a];delete n[a],"error"in t?o.reject(E(t.error)):o.resolve(t.data)}else{if(!(t.action in r))throw new Error("Unknown action from worker: "+t.action);var l=r[t.action];if(t.callbackId){var c=s.sourceName,u=t.sourceName;Promise.resolve().then(function(){return l[0].call(l[1],t.data)}).then(function(e){i.postMessage({sourceName:c,targetName:u,isReply:!0,callbackId:t.callbackId,data:e})},function(e){i.postMessage({sourceName:c,targetName:u,isReply:!0,callbackId:t.callbackId,error:function(e){return!(e instanceof Error)||e instanceof y||e instanceof f||e instanceof p||e instanceof d?e:new d(e.message,e.toString())}(e)})})}else t.streamId?s._createStreamSink(t):l[0].call(l[1],t.data)}},i.addEventListener("message",this._onComObjOnMessage)}R.prototype={on:function(e,t,i){var s=this.actionHandler;if(s[e])throw new Error('There is already an actionName called "'+e+'"');s[e]=[t,i]},send:function(e,t,i){var s={sourceName:this.sourceName,targetName:this.targetName,action:e,data:t};this.postMessage(s,i)},sendWithPromise:function(e,t,i){var s=this.callbackId++,n={sourceName:this.sourceName,targetName:this.targetName,action:e,data:t,callbackId:s},r=x();this.callbacksCapabilities[s]=r;try{this.postMessage(n,i)}catch(e){r.reject(e)}return r.promise},sendWithStream:function(e,t,i,s){var r=this,a=this.streamId++,o=this.sourceName,l=this.targetName;return new n.ReadableStream({start:function(i){var s=x();return r.streamControllers[a]={controller:i,startCall:s,isClosed:!1},r.postMessage({sourceName:o,targetName:l,action:e,streamId:a,data:t,desiredSize:i.desiredSize}),s.promise},pull:function(e){var t=x();return r.streamControllers[a].pullCall=t,r.postMessage({sourceName:o,targetName:l,stream:"pull",streamId:a,desiredSize:e.desiredSize}),t.promise},cancel:function(e){var t=x();return r.streamControllers[a].cancelCall=t,r.streamControllers[a].isClosed=!0,r.postMessage({sourceName:o,targetName:l,stream:"cancel",reason:e,streamId:a}),t.promise}},i)},_createStreamSink:function(e){var t=this,i=this,s=this.actionHandler[e.action],n=e.streamId,r=e.desiredSize,a=this.sourceName,o=e.sourceName,l=function(e){var i=e.stream,s=e.chunk,r=e.transfers,l=e.success,c=e.reason;t.postMessage({sourceName:a,targetName:o,stream:i,streamId:n,chunk:s,success:l,reason:c},r)},c={enqueue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments[2];if(!this.isCancelled){var s=this.desiredSize;this.desiredSize-=t,s>0&&this.desiredSize<=0&&(this.sinkCapability=x(),this.ready=this.sinkCapability.promise),l({stream:"enqueue",chunk:e,transfers:i})}},close:function(){this.isCancelled||(this.isCancelled=!0,l({stream:"close"}),delete i.streamSinks[n])},error:function(e){this.isCancelled||(this.isCancelled=!0,l({stream:"error",reason:e}))},sinkCapability:x(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:r,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[n]=c,L(s[0],[e.data,c],s[1]).then(function(){l({stream:"start_complete",success:!0})},function(e){l({stream:"start_complete",success:!1,reason:e})})},_processStreamMessage:function(e){var t=this,i=this.sourceName,s=e.sourceName,n=e.streamId,r=function(e){var r=e.stream,a=e.success,o=e.reason;t.comObj.postMessage({sourceName:i,targetName:s,stream:r,success:a,streamId:n,reason:o})},a=function(){Promise.all([t.streamControllers[e.streamId].startCall,t.streamControllers[e.streamId].pullCall,t.streamControllers[e.streamId].cancelCall].map(function(e){return e&&(t=e.promise,Promise.resolve(t).catch(function(){}));var t})).then(function(){delete t.streamControllers[e.streamId]})};switch(e.stream){case"start_complete":F(this.streamControllers[e.streamId].startCall,e.success,E(e.reason));break;case"pull_complete":F(this.streamControllers[e.streamId].pullCall,e.success,E(e.reason));break;case"pull":if(!this.streamSinks[e.streamId]){r({stream:"pull_complete",success:!0});break}this.streamSinks[e.streamId].desiredSize<=0&&e.desiredSize>0&&this.streamSinks[e.streamId].sinkCapability.resolve(),this.streamSinks[e.streamId].desiredSize=e.desiredSize,L(this.streamSinks[e.streamId].onPull).then(function(){r({stream:"pull_complete",success:!0})},function(e){r({stream:"pull_complete",success:!1,reason:e})});break;case"enqueue":c(this.streamControllers[e.streamId],"enqueue should have stream controller"),this.streamControllers[e.streamId].isClosed||this.streamControllers[e.streamId].controller.enqueue(e.chunk);break;case"close":if(c(this.streamControllers[e.streamId],"close should have stream controller"),this.streamControllers[e.streamId].isClosed)break;this.streamControllers[e.streamId].isClosed=!0,this.streamControllers[e.streamId].controller.close(),a();break;case"error":c(this.streamControllers[e.streamId],"error should have stream controller"),this.streamControllers[e.streamId].controller.error(E(e.reason)),a();break;case"cancel_complete":F(this.streamControllers[e.streamId].cancelCall,e.success,E(e.reason)),a();break;case"cancel":if(!this.streamSinks[e.streamId])break;L(this.streamSinks[e.streamId].onCancel,[E(e.reason)]).then(function(){r({stream:"cancel_complete",success:!0})},function(e){r({stream:"cancel_complete",success:!1,reason:e})}),this.streamSinks[e.streamId].sinkCapability.reject(E(e.reason)),this.streamSinks[e.streamId].isCancelled=!0,delete this.streamSinks[e.streamId];break;default:throw new Error("Unexpected stream case")}},postMessage:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}},t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.VerbosityLevel=r,t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.AbortException=y,t.InvalidPDFException=h,t.MessageHandler=R,t.MissingDataException=m,t.MissingPDFException=f,t.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"},t.NotImplementedException=v,t.PageViewport=b,t.PasswordException=u,t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},t.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.UnexpectedResponseException=p,t.UnknownErrorException=d,t.Util=k,t.XRefParseException=g,t.FormatError=_,t.arrayByteLength=A,t.arraysToBytes=function(e){if(1===e.length&&e[0]instanceof Uint8Array)return e[0];var t,i,s,n=0,r=e.length;for(t=0;t<r;t++)n+=s=A(i=e[t]);var a=0,o=new Uint8Array(n);for(t=0;t<r;t++)(i=e[t])instanceof Uint8Array||(i="string"==typeof i?w(i):new Uint8Array(i)),s=i.byteLength,o.set(i,a),a+=s;return o},t.assert=c,t.bytesToString=function(e){c(null!==e&&"object"===(void 0===e?"undefined":s(e))&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length;if(t<8192)return String.fromCharCode.apply(null,e);for(var i=[],n=0;n<t;n+=8192){var r=Math.min(n+8192,t),a=e.subarray(n,r);i.push(String.fromCharCode.apply(null,a))}return i.join("")},t.createBlob=S,t.createPromiseCapability=x,t.createObjectURL=T,t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getInheritableProperty=function(e){for(var t=e.dict,i=e.key,s=e.getArray,n=void 0!==s&&s,r=e.stopWhenFound,a=void 0===r||r,l=0,c=void 0;t;){var u=n?t.getArray(i):t.get(i);if(void 0!==u){if(a)return u;c||(c=[]),c.push(u)}if(++l>100){o('getInheritableProperty: maximum loop count exceeded for "'+i+'"');break}t=t.get("Parent")}return c},t.getLookupTableFactory=function(e){var t;return function(){return e&&(t=Object.create(null),e(t),e=null),t}},t.getVerbosityLevel=function(){return a},t.info=function(e){a>=r.INFOS&&console.log("Info: "+e)},t.isArrayBuffer=function(e){return"object"===(void 0===e?"undefined":s(e))&&null!==e&&void 0!==e.byteLength},t.isBool=function(e){return"boolean"==typeof e},t.isEmptyObj=function(e){for(var t in e)return!1;return!0},t.isNum=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSpace=function(e){return 32===e||9===e||13===e||10===e},t.isSameOrigin=function(e,t){try{var i=new URL(e);if(!i.origin||"null"===i.origin)return!1}catch(e){return!1}var s=new URL(t,i);return i.origin===s.origin},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var i=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch(e){}return null},t.isLittleEndian=function(){var e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]},t.isEvalSupported=function(){try{return new Function(""),!0}catch(e){return!1}},t.log2=function(e){return e<=0?0:Math.ceil(Math.log2(e))},t.readInt8=function(e,t){return e[t]<<24>>24},t.readUint16=function(e,t){return e[t]<<8|e[t+1]},t.readUint32=function(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0},t.removeNullCharacters=function(e){return"string"!=typeof e?(o("The argument for removeNullCharacters must be a string."),e):e.replace(C,"")},t.ReadableStream=n.ReadableStream,t.setVerbosityLevel=function(e){Number.isInteger(e)&&(a=e)},t.shadow=function(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!1}),i},t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=w,t.stringToPDFString=function(e){var t,i=e.length,s=[];if("þ"===e[0]&&"ÿ"===e[1])for(t=2;t<i;t+=2)s.push(String.fromCharCode(e.charCodeAt(t)<<8|e.charCodeAt(t+1)));else for(t=0;t<i;++t){var n=I[e.charCodeAt(t)];s.push(n?String.fromCharCode(n):e.charAt(t))}return s.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=o,t.unreachable=l},function(e,t,i){"use strict";var s=i(42)("wks"),n=i(19),r=i(4).Symbol,a="function"==typeof r;(e.exports=function(e){return s[e]||(s[e]=a&&r[e]||(a?r:n)("Symbol."+e))}).store=s},function(e,t,i){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":s(e))?null!==e:"function"==typeof e}},function(e,t,i){"use strict";var s=i(4),n=i(5),r=i(10),a=i(7),o=i(9),l=function e(t,i,l){var c,u,d,h,f=t&e.F,p=t&e.G,v=t&e.P,m=t&e.B,g=p?s:t&e.S?s[i]||(s[i]={}):(s[i]||{}).prototype,_=p?n:n[i]||(n[i]={}),y=_.prototype||(_.prototype={});for(c in p&&(l=i),l)d=((u=!f&&g&&void 0!==g[c])?g:l)[c],h=m&&u?o(d,s):v&&"function"==typeof d?o(Function.call,d):d,g&&a(g,c,d,t&e.U),_[c]!=d&&r(_,c,h),v&&y[c]!=d&&(y[c]=d)};s.core=n,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,i){"use strict";var s=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=s)},function(e,t,i){"use strict";var s=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=s)},function(e,t,i){"use strict";var s=i(2);e.exports=function(e){if(!s(e))throw TypeError(e+" is not an object!");return e}},function(e,t,i){"use strict";var s=i(4),n=i(10),r=i(8),a=i(19)("src"),o=Function.toString,l=(""+o).split("toString");i(5).inspectSource=function(e){return o.call(e)},(e.exports=function(e,t,i,o){var c="function"==typeof i;c&&(r(i,"name")||n(i,"name",t)),e[t]!==i&&(c&&(r(i,a)||n(i,a,e[t]?""+e[t]:l.join(String(t)))),e===s?e[t]=i:o?e[t]?e[t]=i:n(e,t,i):(delete e[t],n(e,t,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||o.call(this)})},function(e,t,i){"use strict";var s={}.hasOwnProperty;e.exports=function(e,t){return s.call(e,t)}},function(e,t,i){"use strict";var s=i(15);e.exports=function(e,t,i){if(s(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,s){return e.call(t,i,s)};case 3:return function(i,s,n){return e.call(t,i,s,n)}}return function(){return e.apply(t,arguments)}}},function(e,t,i){"use strict";var s=i(14),n=i(27);e.exports=i(11)?function(e,t,i){return s.f(e,t,n(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){"use strict";e.exports=!i(12)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,i){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,i){"use strict";var s={}.toString;e.exports=function(e){return s.call(e).slice(8,-1)}},function(e,t,i){"use strict";var s=i(6),n=i(40),r=i(41),a=Object.defineProperty;t.f=i(11)?Object.defineProperty:function(e,t,i){if(s(e),t=r(t,!0),s(i),n)try{return a(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){"use strict";e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){"use strict";var s=i(28),n=i(20);e.exports=function(e){return s(n(e))}},function(e,t,i){"use strict";e.exports={}},function(e,i,s){"use strict";e.exports="undefined"!=typeof window&&window.Math===Math?window:void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:{}},function(e,t,i){"use strict";var s=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++s+n).toString(36))}},function(e,t,i){"use strict";e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){"use strict";var s=i(83),n=i(48);e.exports=Object.keys||function(e){return s(e,n)}},function(e,t,i){"use strict";var s=i(14).f,n=i(8),r=i(1)("toStringTag");e.exports=function(e,t,i){e&&!n(e=i?e:e.prototype,r)&&s(e,r,{configurable:!0,value:t})}},function(e,t,i){"use strict";var s=i(9),n=i(88),r=i(89),a=i(6),o=i(29),l=i(90),c={},u={},d=e.exports=function(e,t,i,d,h){var f,p,v,m,g=h?function(){return e}:l(e),_=s(i,d,t?2:1),y=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(r(g)){for(f=o(e.length);f>y;y++)if((m=t?_(a(p=e[y])[0],p[1]):_(e[y]))===c||m===u)return m}else for(v=g.call(e);!(p=v.next()).done;)if((m=n(v,_,p.value,t))===c||m===u)return m};d.BREAK=c,d.RETURN=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DummyStatTimer=t.StatTimer=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.LinkTarget=t.getFilenameFromUrl=t.addLinkAttributes=t.RenderingCancelledException=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),n=i(0);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a="noopener noreferrer nofollow",o="http://www.w3.org/2000/svg",l=function(){function e(){r(this,e)}return s(e,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("invalid canvas size");var i=document.createElement("canvas"),s=i.getContext("2d");return i.width=e,i.height=t,{canvas:i,context:s}}},{key:"reset",value:function(e,t,i){if(!e.canvas)throw new Error("canvas is not specified");if(t<=0||i<=0)throw new Error("invalid canvas size");e.canvas.width=t,e.canvas.height=i}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}}]),e}(),c=function(){function e(t){var i=t.baseUrl,s=void 0===i?null:i,n=t.isCompressed,a=void 0!==n&&n;r(this,e),this.baseUrl=s,this.isCompressed=a}return s(e,[{key:"fetch",value:function(e){var t=this,i=e.name;return this.baseUrl?i?new Promise(function(e,s){var r=t.baseUrl+i+(t.isCompressed?".bcmap":""),a=new XMLHttpRequest;a.open("GET",r,!0),t.isCompressed&&(a.responseType="arraybuffer"),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){if(200===a.status||0===a.status){var i=void 0;if(t.isCompressed&&a.response?i=new Uint8Array(a.response):!t.isCompressed&&a.responseText&&(i=(0,n.stringToBytes)(a.responseText)),i)return void e({cMapData:i,compressionType:t.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE})}s(new Error("Unable to load "+(t.isCompressed?"binary ":"")+"CMap at: "+r))}},a.send(null)}):Promise.reject(new Error("CMap name must be specified.")):Promise.reject(new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.'))}}]),e}(),u=function(){function e(){r(this,e)}return s(e,[{key:"create",value:function(e,t){(0,n.assert)(e>0&&t>0,"Invalid SVG dimensions");var i=document.createElementNS(o,"svg:svg");return i.setAttribute("version","1.1"),i.setAttribute("width",e+"px"),i.setAttribute("height",t+"px"),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox","0 0 "+e+" "+t),i}},{key:"createElement",value:function(e){return(0,n.assert)("string"==typeof e,"Invalid SVG element type"),document.createElementNS(o,e)}}]),e}(),d=function(){function e(e,t){this.message=e,this.type=t}return e.prototype=new Error,e.prototype.name="RenderingCancelledException",e.constructor=e,e}(),h={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},f=["","_self","_blank","_parent","_top"];var p=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];r(this,e),this.enabled=!!t,this.started=Object.create(null),this.times=[]}return s(e,[{key:"time",value:function(e){this.enabled&&(e in this.started&&(0,n.warn)("Timer is already running for "+e),this.started[e]=Date.now())}},{key:"timeEnd",value:function(e){this.enabled&&(e in this.started||(0,n.warn)("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e])}},{key:"toString",value:function(){for(var e=this.times,t="",i=0,s=0,n=e.length;s<n;++s){var r=e[s].name;r.length>i&&(i=r.length)}for(var a=0,o=e.length;a<o;++a){var l=e[a],c=l.end-l.start;t+=l.name.padEnd(i)+" "+c+"ms\n"}return t}}]),e}(),v=function(){function e(){r(this,e),(0,n.unreachable)("Cannot initialize DummyStatTimer.")}return s(e,null,[{key:"time",value:function(e){}},{key:"timeEnd",value:function(e){}},{key:"toString",value:function(){return""}}]),e}();t.RenderingCancelledException=d,t.addLinkAttributes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.url,s=t.target,r=t.rel;if(e.href=e.title=i?(0,n.removeNullCharacters)(i):"",i){var o=Object.values(h).includes(s)?s:h.NONE;e.target=f[o],e.rel="string"==typeof r?r:a}},t.getFilenameFromUrl=function(e){var t=e.indexOf("#"),i=e.indexOf("?"),s=Math.min(t>0?t:e.length,i>0?i:e.length);return e.substring(e.lastIndexOf("/",s)+1,s)},t.LinkTarget=h,t.DEFAULT_LINK_REL=a,t.DOMCanvasFactory=l,t.DOMCMapReaderFactory=c,t.DOMSVGFactory=u,t.StatTimer=p,t.DummyStatTimer=v},function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(){return"object"===(void 0===s?"undefined":n(s))&&s+""=="[object process]"}},function(e,t,i){"use strict";var s=i(2),n=i(4).document,r=s(n)&&s(n.createElement);e.exports=function(e){return r?n.createElement(e):{}}},function(e,t,i){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){"use strict";var s=i(13);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==s(e)?e.split(""):Object(e)}},function(e,t,i){"use strict";var s=i(30),n=Math.min;e.exports=function(e){return e>0?n(s(e),9007199254740991):0}},function(e,t,i){"use strict";var s=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:s)(e)}},function(e,t,i){"use strict";var s=i(13),n=i(1)("toStringTag"),r="Arguments"==s(function(){return arguments}());e.exports=function(e){var t,i,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),n))?i:r?s(t):"Object"==(a=s(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,i){"use strict";var s=i(42)("keys"),n=i(19);e.exports=function(e){return s[e]||(s[e]=n(e))}},function(e,t,i){"use strict";var s=i(20);e.exports=function(e){return Object(s(e))}},function(e,t,i){"use strict";e.exports=function(e,t,i,s){if(!(e instanceof t)||void 0!==s&&s in e)throw TypeError(i+": incorrect invocation!");return e}},function(e,t,i){"use strict";var s=i(15);e.exports.f=function(e){return new function(e){var t,i;this.promise=new e(function(e,s){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=s}),this.resolve=s(t),this.reject=s(i)}(e)}},function(e,t,i){"use strict";var s=i(7);e.exports=function(e,t,i){for(var n in t)s(e,n,t[n],i);return e}},function(e,t,i){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=i(19)("meta"),r=i(2),a=i(8),o=i(14).f,l=0,c=Object.isExtensible||function(){return!0},u=!i(12)(function(){return c(Object.preventExtensions({}))}),d=function(e){o(e,n,{value:{i:"O"+ ++l,w:{}}})},h=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==(void 0===e?"undefined":s(e))?e:("string"==typeof e?"S":"P")+e;if(!a(e,n)){if(!c(e))return"F";if(!t)return"E";d(e)}return e[n].i},getWeak:function(e,t){if(!a(e,n)){if(!c(e))return!0;if(!t)return!1;d(e)}return e[n].w},onFreeze:function(e){return u&&h.NEED&&c(e)&&!a(e,n)&&d(e),e}}},function(e,t,i){"use strict";t.f={}.propertyIsEnumerable},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateResponseStatus=t.validateRangeRequestCapabilities=t.extractFilenameFromHeader=t.createResponseStatusError=void 0;var s=i(0),n=i(129);t.createResponseStatusError=function(e,t){return 404===e||0===e&&/^file:/.test(t)?new s.MissingPDFException('Missing PDF "'+t+'".'):new s.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+t+'".',e)},t.extractFilenameFromHeader=function(e){var t=e("Content-Disposition");if(t){var i=(0,n.getFilenameFromContentDispositionHeader)(t);if(/\.pdf$/i.test(i))return i}return null},t.validateRangeRequestCapabilities=function(e){var t=e.getResponseHeader,i=e.isHttp,n=e.rangeChunkSize,r=e.disableRange;(0,s.assert)(n>0,"Range chunk size must be larger than zero");var a={allowRangeRequests:!1,suggestedLength:void 0};if(r||!i)return a;if("bytes"!==t("Accept-Ranges"))return a;if("identity"!==(t("Content-Encoding")||"identity"))return a;var o=parseInt(t("Content-Length"),10);return Number.isInteger(o)?(a.suggestedLength=o,o<=2*n?a:(a.allowRangeRequests=!0,a)):a},t.validateResponseStatus=function(e){return 200===e||206===e}},function(e,t,i){"use strict";e.exports=!i(11)&&!i(12)(function(){return 7!=Object.defineProperty(i(26)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){"use strict";var s=i(2);e.exports=function(e,t){if(!s(e))return e;var i,n;if(t&&"function"==typeof(i=e.toString)&&!s(n=i.call(e)))return n;if("function"==typeof(i=e.valueOf)&&!s(n=i.call(e)))return n;if(!t&&"function"==typeof(i=e.toString)&&!s(n=i.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,i){"use strict";var s=i(4),n=s["__core-js_shared__"]||(s["__core-js_shared__"]={});e.exports=function(e){return n[e]||(n[e]={})}},function(e,t,i){"use strict";var s=i(16),n=i(29),r=i(69);e.exports=function(e){return function(t,i,a){var o,l=s(t),c=n(l.length),u=r(a,c);if(e&&i!=i){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===i)return e||u||0;return!e&&-1}}},function(e,t,i){"use strict";var s=i(1)("unscopables"),n=Array.prototype;void 0==n[s]&&i(10)(n,s,{}),e.exports=function(e){n[s][e]=!0}},function(e,t,i){"use strict";var s=i(31),n={};n[i(1)("toStringTag")]="z",n+""!="[object z]"&&i(7)(Object.prototype,"toString",function(){return"[object "+s(this)+"]"},!0)},function(e,t,i){"use strict";var s=i(47),n=i(3),r=i(7),a=i(10),o=i(17),l=i(80),c=i(22),u=i(84),d=i(1)("iterator"),h=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,i,p,v,m,g){l(i,t,p);var _,y,C,w=function(e){if(!h&&e in I)return I[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}},A=t+" Iterator",k="values"==v,b=!1,I=e.prototype,x=I[d]||I["@@iterator"]||v&&I[v],P=x||w(v),S=v?k?w("entries"):P:void 0,T="Array"==t&&I.entries||x;if(T&&(C=u(T.call(new e)))!==Object.prototype&&C.next&&(c(C,A,!0),s||"function"==typeof C[d]||a(C,d,f)),k&&x&&"values"!==x.name&&(b=!0,P=function(){return x.call(this)}),s&&!g||!h&&!b&&I[d]||a(I,d,P),o[t]=P,o[A]=f,v)if(_={values:k?P:w("values"),keys:m?P:w("keys"),entries:S},g)for(y in _)y in I||r(I,y,_[y]);else n(n.P+n.F*(h||b),t,_);return _}},function(e,t,i){"use strict";e.exports=!1},function(e,t,i){"use strict";e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){"use strict";var s=i(4).document;e.exports=s&&s.documentElement},function(e,t,i){"use strict";for(var s=i(85),n=i(21),r=i(7),a=i(4),o=i(10),l=i(17),c=i(1),u=c("iterator"),d=c("toStringTag"),h=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=n(f),v=0;v<p.length;v++){var m,g=p[v],_=f[g],y=a[g],C=y&&y.prototype;if(C&&(C[u]||o(C,u,h),C[d]||o(C,d,g),l[g]=h,_))for(m in s)C[m]||r(C,m,s[m],!0)}},function(e,t,i){"use strict";var s=i(6),n=i(15),r=i(1)("species");e.exports=function(e,t){var i,a=s(e).constructor;return void 0===a||void 0==(i=s(a)[r])?t:n(i)}},function(e,t,i){"use strict";var s,n,r,a=i(9),o=i(91),l=i(49),c=i(26),u=i(4),d=u.process,h=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,v=u.Dispatch,m=0,g={},_=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},y=function(e){_.call(e.data)};h&&f||(h=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return g[++m]=function(){o("function"==typeof e?e:Function(e),t)},s(m),m},f=function(e){delete g[e]},"process"==i(13)(d)?s=function(e){d.nextTick(a(_,e,1))}:v&&v.now?s=function(e){v.now(a(_,e,1))}:p?(r=(n=new p).port2,n.port1.onmessage=y,s=a(r.postMessage,r,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(s=function(e){u.postMessage(e+"","*")},u.addEventListener("message",y,!1)):s="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),_.call(e)}}:function(e){setTimeout(a(_,e,1),0)}),e.exports={set:h,clear:f}},function(e,t,i){"use strict";e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,i){"use strict";var s=i(6),n=i(2),r=i(35);e.exports=function(e,t){if(s(e),n(t)&&t.constructor===e)return t;var i=r.f(e);return(0,i.resolve)(t),i.promise}},function(e,t,i){"use strict";var s=i(1)("iterator"),n=!1;try{var r=[7][s]();r.return=function(){n=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!n)return!1;var i=!1;try{var r=[7],a=r[s]();a.next=function(){return{done:i=!0}},r[s]=function(){return a},e(r)}catch(e){}return i}},function(e,t,i){"use strict";var s=i(9),n=i(28),r=i(33),a=i(29),o=i(98);e.exports=function(e,t){var i=1==e,l=2==e,c=3==e,u=4==e,d=6==e,h=5==e||d,f=t||o;return function(t,o,p){for(var v,m,g=r(t),_=n(g),y=s(o,p,3),C=a(_.length),w=0,A=i?f(t,C):l?f(t,0):void 0;C>w;w++)if((h||w in _)&&(m=y(v=_[w],w,g),e))if(i)A[w]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:A.push(v)}else if(u)return!1;return d?-1:c||u?u:A}}},function(e,t,i){"use strict";var s=i(2);e.exports=function(e,t){if(!s(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.create(null),n="undefined"!=typeof navigator&&navigator.userAgent||"",r=/Trident/.test(n),a=/\b(iPad|iPhone|iPod)(?=;)/.test(n),o=/CriOS/.test(n),l=/Safari\//.test(n)&&!/(Chrome\/|Android\s)/.test(n);(r||o)&&(s.disableCreateObjectURL=!0),(l||a)&&(s.disableRange=!0,s.disableStream=!0);var c=Object.freeze(s);t.apiCompatibilityParams=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.create(null);s.workerPort=void 0===s.workerPort?null:s.workerPort,s.workerSrc=void 0===s.workerSrc?"":s.workerSrc,t.GlobalWorkerOptions=s},function(e,t,i){"use strict";var s=i(0),n=i(117),r=i(125),a=i(126),o=i(24),l=i(127),c=i(59),u=i(58);if(i(25)()){var d=i(128).PDFNodeStream;n.setPDFNetworkStreamFactory(function(e){return new d(e)})}else if("undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream){var h=i(130).PDFFetchStream;n.setPDFNetworkStreamFactory(function(e){return new h(e)})}else{var f=i(131).PDFNetworkStream;n.setPDFNetworkStreamFactory(function(e){return new f(e)})}t.build=n.build,t.version=n.version,t.getDocument=n.getDocument,t.LoopbackPort=n.LoopbackPort,t.PDFDataRangeTransport=n.PDFDataRangeTransport,t.PDFWorker=n.PDFWorker,t.renderTextLayer=r.renderTextLayer,t.AnnotationLayer=a.AnnotationLayer,t.createPromiseCapability=s.createPromiseCapability,t.PasswordResponses=s.PasswordResponses,t.InvalidPDFException=s.InvalidPDFException,t.MissingPDFException=s.MissingPDFException,t.SVGGraphics=l.SVGGraphics,t.NativeImageDecoding=s.NativeImageDecoding,t.UnexpectedResponseException=s.UnexpectedResponseException,t.OPS=s.OPS,t.VerbosityLevel=s.VerbosityLevel,t.UNSUPPORTED_FEATURES=s.UNSUPPORTED_FEATURES,t.createValidAbsoluteUrl=s.createValidAbsoluteUrl,t.createObjectURL=s.createObjectURL,t.removeNullCharacters=s.removeNullCharacters,t.shadow=s.shadow,t.createBlob=s.createBlob,t.Util=s.Util,t.RenderingCancelledException=o.RenderingCancelledException,t.getFilenameFromUrl=o.getFilenameFromUrl,t.LinkTarget=o.LinkTarget,t.addLinkAttributes=o.addLinkAttributes,t.GlobalWorkerOptions=c.GlobalWorkerOptions,t.apiCompatibilityParams=u.apiCompatibilityParams},function(e,t,i){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=i(18);if(!r._pdfjsCompatibilityChecked){r._pdfjsCompatibilityChecked=!0;var a=i(25),o="object"===("undefined"==typeof window?"undefined":s(window))&&"object"===("undefined"==typeof document?"undefined":s(document));!r.btoa&&a()&&(r.btoa=function(e){return n.from(e,"binary").toString("base64")}),!r.atob&&a()&&(r.atob=function(e){return n.from(e,"base64").toString("binary")}),o&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var e=document.getElementsByTagName("script");return e[e.length-1]},enumerable:!0,configurable:!0})),o&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),String.prototype.includes||i(62),Array.prototype.includes||i(67),Math.log2||(Math.log2=i(70)),Number.isNaN||(Number.isNaN=i(72)),Number.isInteger||(Number.isInteger=i(74)),r.Promise||(r.Promise=i(77)),r.WeakMap||(r.WeakMap=i(96)),function(){var e=!1;try{if("function"==typeof URL&&"object"===s(URL.prototype)&&"origin"in URL.prototype){var t=new URL("b","http://a");t.pathname="c%20d",e="http://a/c%20d"===t.href}}catch(e){}if(!e){var i=Object.create(null);i.ftp=21,i.file=0,i.gopher=70,i.http=80,i.https=443,i.ws=80,i.wss=443;var n=Object.create(null);n["%2e"]=".",n[".%2e"]="..",n["%2e."]="..",n["%2e%2e"]="..";var a,o=/[a-zA-Z]/,l=/[a-zA-Z0-9\+\-\.]/;g.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var e="";return""===this._username&&null===this._password||(e=this._username+(null!==this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){m.call(this),v.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){this._isInvalid||v.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){!this._isInvalid&&this._isRelative&&v.call(this,e,"host")},get hostname(){return this._host},set hostname(e){!this._isInvalid&&this._isRelative&&v.call(this,e,"hostname")},get port(){return this._port},set port(e){!this._isInvalid&&this._isRelative&&v.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){!this._isInvalid&&this._isRelative&&(this._path=[],v.call(this,e,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(e){!this._isInvalid&&this._isRelative&&(this._query="?","?"===e[0]&&(e=e.slice(1)),v.call(this,e,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"===this._fragment?"":this._fragment},set hash(e){this._isInvalid||(this._fragment="#","#"===e[0]&&(e=e.slice(1)),v.call(this,e,"fragment"))},get origin(){var e;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null";case"blob":try{return new g(this._schemeData).origin||"null"}catch(e){}return"null"}return(e=this.host)?this._scheme+"://"+e:""}};var c=r.URL;c&&(g.createObjectURL=function(e){return c.createObjectURL.apply(c,arguments)},g.revokeObjectURL=function(e){c.revokeObjectURL(e)}),r.URL=g}function u(e){return void 0!==i[e]}function d(){m.call(this),this._isInvalid=!0}function h(e){return""===e&&d.call(this),e.toLowerCase()}function f(e){var t=e.charCodeAt(0);return t>32&&t<127&&-1===[34,35,60,62,63,96].indexOf(t)?e:encodeURIComponent(e)}function p(e){var t=e.charCodeAt(0);return t>32&&t<127&&-1===[34,35,60,62,96].indexOf(t)?e:encodeURIComponent(e)}function v(e,t,s){function r(e){y.push(e)}var c=t||"scheme start",v=0,m="",g=!1,_=!1,y=[];e:for(;(e[v-1]!==a||0===v)&&!this._isInvalid;){var C=e[v];switch(c){case"scheme start":if(!C||!o.test(C)){if(t){r("Invalid scheme.");break e}m="",c="no scheme";continue}m+=C.toLowerCase(),c="scheme";break;case"scheme":if(C&&l.test(C))m+=C.toLowerCase();else{if(":"!==C){if(t){if(C===a)break e;r("Code point not allowed in scheme: "+C);break e}m="",v=0,c="no scheme";continue}if(this._scheme=m,m="",t)break e;u(this._scheme)&&(this._isRelative=!0),c="file"===this._scheme?"relative":this._isRelative&&s&&s._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"===C?(this._query="?",c="query"):"#"===C?(this._fragment="#",c="fragment"):C!==a&&"\t"!==C&&"\n"!==C&&"\r"!==C&&(this._schemeData+=f(C));break;case"no scheme":if(s&&u(s._scheme)){c="relative";continue}r("Missing scheme."),d.call(this);break;case"relative or authority":if("/"!==C||"/"!==e[v+1]){r("Expected /, got: "+C),c="relative";continue}c="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!==this._scheme&&(this._scheme=s._scheme),C===a){this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query=s._query,this._username=s._username,this._password=s._password;break e}if("/"===C||"\\"===C)"\\"===C&&r("\\ is an invalid code point."),c="relative slash";else if("?"===C)this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query="?",this._username=s._username,this._password=s._password,c="query";else{if("#"!==C){var w=e[v+1],A=e[v+2];("file"!==this._scheme||!o.test(C)||":"!==w&&"|"!==w||A!==a&&"/"!==A&&"\\"!==A&&"?"!==A&&"#"!==A)&&(this._host=s._host,this._port=s._port,this._username=s._username,this._password=s._password,this._path=s._path.slice(),this._path.pop()),c="relative path";continue}this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query=s._query,this._fragment="#",this._username=s._username,this._password=s._password,c="fragment"}break;case"relative slash":if("/"!==C&&"\\"!==C){"file"!==this._scheme&&(this._host=s._host,this._port=s._port,this._username=s._username,this._password=s._password),c="relative path";continue}"\\"===C&&r("\\ is an invalid code point."),c="file"===this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!==C){r("Expected '/', got: "+C),c="authority ignore slashes";continue}c="authority second slash";break;case"authority second slash":if(c="authority ignore slashes","/"!==C){r("Expected '/', got: "+C);continue}break;case"authority ignore slashes":if("/"!==C&&"\\"!==C){c="authority";continue}r("Expected authority, got: "+C);break;case"authority":if("@"===C){g&&(r("@ already seen."),m+="%40"),g=!0;for(var k=0;k<m.length;k++){var b=m[k];if("\t"!==b&&"\n"!==b&&"\r"!==b)if(":"!==b||null!==this._password){var I=f(b);null!==this._password?this._password+=I:this._username+=I}else this._password="";else r("Invalid whitespace in authority.")}m=""}else{if(C===a||"/"===C||"\\"===C||"?"===C||"#"===C){v-=m.length,m="",c="host";continue}m+=C}break;case"file host":if(C===a||"/"===C||"\\"===C||"?"===C||"#"===C){2!==m.length||!o.test(m[0])||":"!==m[1]&&"|"!==m[1]?0===m.length?c="relative path start":(this._host=h.call(this,m),m="",c="relative path start"):c="relative path";continue}"\t"===C||"\n"===C||"\r"===C?r("Invalid whitespace in file host."):m+=C;break;case"host":case"hostname":if(":"!==C||_){if(C===a||"/"===C||"\\"===C||"?"===C||"#"===C){if(this._host=h.call(this,m),m="",c="relative path start",t)break e;continue}"\t"!==C&&"\n"!==C&&"\r"!==C?("["===C?_=!0:"]"===C&&(_=!1),m+=C):r("Invalid code point in host/hostname: "+C)}else if(this._host=h.call(this,m),m="",c="port","hostname"===t)break e;break;case"port":if(/[0-9]/.test(C))m+=C;else{if(C===a||"/"===C||"\\"===C||"?"===C||"#"===C||t){if(""!==m){var x=parseInt(m,10);x!==i[this._scheme]&&(this._port=x+""),m=""}if(t)break e;c="relative path start";continue}"\t"===C||"\n"===C||"\r"===C?r("Invalid code point in port: "+C):d.call(this)}break;case"relative path start":if("\\"===C&&r("'\\' not allowed in path."),c="relative path","/"!==C&&"\\"!==C)continue;break;case"relative path":var P;if(C!==a&&"/"!==C&&"\\"!==C&&(t||"?"!==C&&"#"!==C))"\t"!==C&&"\n"!==C&&"\r"!==C&&(m+=f(C));else"\\"===C&&r("\\ not allowed in relative path."),(P=n[m.toLowerCase()])&&(m=P),".."===m?(this._path.pop(),"/"!==C&&"\\"!==C&&this._path.push("")):"."===m&&"/"!==C&&"\\"!==C?this._path.push(""):"."!==m&&("file"===this._scheme&&0===this._path.length&&2===m.length&&o.test(m[0])&&"|"===m[1]&&(m=m[0]+":"),this._path.push(m)),m="","?"===C?(this._query="?",c="query"):"#"===C&&(this._fragment="#",c="fragment");break;case"query":t||"#"!==C?C!==a&&"\t"!==C&&"\n"!==C&&"\r"!==C&&(this._query+=p(C)):(this._fragment="#",c="fragment");break;case"fragment":C!==a&&"\t"!==C&&"\n"!==C&&"\r"!==C&&(this._fragment+=C)}v++}}function m(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function g(e,t){void 0===t||t instanceof g||(t=new g(String(t))),this._url=e,m.call(this);var i=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");v.call(this,i,null,t)}}(),Object.values||(Object.values=i(112))}},function(e,t,i){"use strict";i(63),e.exports=i(5).String.includes},function(e,t,i){"use strict";var s=i(3),n=i(64);s(s.P+s.F*i(66)("includes"),"String",{includes:function(e){return!!~n(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,i){"use strict";var s=i(65),n=i(20);e.exports=function(e,t,i){if(s(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(n(e))}},function(e,t,i){"use strict";var s=i(2),n=i(13),r=i(1)("match");e.exports=function(e){var t;return s(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==n(e))}},function(e,t,i){"use strict";var s=i(1)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[s]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,i){"use strict";i(68),e.exports=i(5).Array.includes},function(e,t,i){"use strict";var s=i(3),n=i(43)(!0);s(s.P,"Array",{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i(44)("includes")},function(e,t,i){"use strict";var s=i(30),n=Math.max,r=Math.min;e.exports=function(e,t){return(e=s(e))<0?n(e+t,0):r(e,t)}},function(e,t,i){"use strict";i(71),e.exports=i(5).Math.log2},function(e,t,i){"use strict";var s=i(3);s(s.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,i){"use strict";i(73),e.exports=i(5).Number.isNaN},function(e,t,i){"use strict";var s=i(3);s(s.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,i){"use strict";i(75),e.exports=i(5).Number.isInteger},function(e,t,i){"use strict";var s=i(3);s(s.S,"Number",{isInteger:i(76)})},function(e,t,i){"use strict";var s=i(2),n=Math.floor;e.exports=function(e){return!s(e)&&isFinite(e)&&n(e)===e}},function(e,t,i){"use strict";i(45),i(78),i(50),i(87),i(94),i(95),e.exports=i(5).Promise},function(e,t,i){"use strict";var s=i(79)(!0);i(46)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=s(t,i),this._i+=e.length,{value:e,done:!1})})},function(e,t,i){"use strict";var s=i(30),n=i(20);e.exports=function(e){return function(t,i){var r,a,o=String(n(t)),l=s(i),c=o.length;return l<0||l>=c?e?"":void 0:(r=o.charCodeAt(l))<55296||r>56319||l+1===c||(a=o.charCodeAt(l+1))<56320||a>57343?e?o.charAt(l):r:e?o.slice(l,l+2):a-56320+(r-55296<<10)+65536}}},function(e,t,i){"use strict";var s=i(81),n=i(27),r=i(22),a={};i(10)(a,i(1)("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=s(a,{next:n(1,i)}),r(e,t+" Iterator")}},function(e,t,i){"use strict";var s=i(6),n=i(82),r=i(48),a=i(32)("IE_PROTO"),o=function(){},l=function(){var e,t=i(26)("iframe"),s=r.length;for(t.style.display="none",i(49).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;s--;)delete l.prototype[r[s]];return l()};e.exports=Object.create||function(e,t){var i;return null!==e?(o.prototype=s(e),i=new o,o.prototype=null,i[a]=e):i=l(),void 0===t?i:n(i,t)}},function(e,t,i){"use strict";var s=i(14),n=i(6),r=i(21);e.exports=i(11)?Object.defineProperties:function(e,t){n(e);for(var i,a=r(t),o=a.length,l=0;o>l;)s.f(e,i=a[l++],t[i]);return e}},function(e,t,i){"use strict";var s=i(8),n=i(16),r=i(43)(!1),a=i(32)("IE_PROTO");e.exports=function(e,t){var i,o=n(e),l=0,c=[];for(i in o)i!=a&&s(o,i)&&c.push(i);for(;t.length>l;)s(o,i=t[l++])&&(~r(c,i)||c.push(i));return c}},function(e,t,i){"use strict";var s=i(8),n=i(33),r=i(32)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),s(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,i){"use strict";var s=i(44),n=i(86),r=i(17),a=i(16);e.exports=i(46)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,n(1)):n(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),r.Arguments=r.Array,s("keys"),s("values"),s("entries")},function(e,t,i){"use strict";e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,i){"use strict";var s,n,r,a,o=i(47),l=i(4),c=i(9),u=i(31),d=i(3),h=i(2),f=i(15),p=i(34),v=i(23),m=i(51),g=i(52).set,_=i(92)(),y=i(35),C=i(53),w=i(54),A=l.TypeError,k=l.process,b=l.Promise,I="process"==u(k),x=function(){},P=n=y.f,S=!!function(){try{var e=b.resolve(1),t=(e.constructor={})[i(1)("species")]=function(e){e(x,x)};return(I||"function"==typeof PromiseRejectionEvent)&&e.then(x)instanceof t}catch(e){}}(),T=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},L=function(e,t){if(!e._n){e._n=!0;var i=e._c;_(function(){for(var s=e._v,n=1==e._s,r=0,a=function(t){var i,r,a,o=n?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{o?(n||(2==e._h&&R(e),e._h=1),!0===o?i=s:(u&&u.enter(),i=o(s),u&&(u.exit(),a=!0)),i===t.promise?c(A("Promise-chain cycle")):(r=T(i))?r.call(i,l,c):l(i)):c(s)}catch(e){u&&!a&&u.exit(),c(e)}};i.length>r;)a(i[r++]);e._c=[],e._n=!1,t&&!e._h&&E(e)})}},E=function(e){g.call(l,function(){var t,i,s,n=e._v,r=F(e);if(r&&(t=C(function(){I?k.emit("unhandledRejection",n,e):(i=l.onunhandledrejection)?i({promise:e,reason:n}):(s=l.console)&&s.error&&s.error("Unhandled promise rejection",n)}),e._h=I||F(e)?2:1),e._a=void 0,r&&t.e)throw t.v})},F=function(e){return 1!==e._h&&0===(e._a||e._c).length},R=function(e){g.call(l,function(){var t;I?k.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},N=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),L(t,!0))},B=function e(t){var i,s=this;if(!s._d){s._d=!0,s=s._w||s;try{if(s===t)throw A("Promise can't be resolved itself");(i=T(t))?_(function(){var n={_w:s,_d:!1};try{i.call(t,c(e,n,1),c(N,n,1))}catch(e){N.call(n,e)}}):(s._v=t,s._s=1,L(s,!1))}catch(e){N.call({_w:s,_d:!1},e)}}};S||(b=function(e){p(this,b,"Promise","_h"),f(e),s.call(this);try{e(c(B,this,1),c(N,this,1))}catch(e){N.call(this,e)}},(s=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(36)(b.prototype,{then:function(e,t){var i=P(m(this,b));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=I?k.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&L(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new s;this.promise=e,this.resolve=c(B,e,1),this.reject=c(N,e,1)},y.f=P=function(e){return e===b||e===a?new r(e):n(e)}),d(d.G+d.W+d.F*!S,{Promise:b}),i(22)(b,"Promise"),i(93)("Promise"),a=i(5).Promise,d(d.S+d.F*!S,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(o||!S),"Promise",{resolve:function(e){return w(o&&this===a?b:this,e)}}),d(d.S+d.F*!(S&&i(55)(function(e){b.all(e).catch(x)})),"Promise",{all:function(e){var t=this,i=P(t),s=i.resolve,n=i.reject,r=C(function(){var i=[],r=0,a=1;v(e,!1,function(e){var o=r++,l=!1;i.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,i[o]=e,--a||s(i))},n)}),--a||s(i)});return r.e&&n(r.v),i.promise},race:function(e){var t=this,i=P(t),s=i.reject,n=C(function(){v(e,!1,function(e){t.resolve(e).then(i.resolve,s)})});return n.e&&s(n.v),i.promise}})},function(e,t,i){"use strict";var s=i(6);e.exports=function(e,t,i,n){try{return n?t(s(i)[0],i[1]):t(i)}catch(t){var r=e.return;throw void 0!==r&&s(r.call(e)),t}}},function(e,t,i){"use strict";var s=i(17),n=i(1)("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(s.Array===e||r[n]===e)}},function(e,t,i){"use strict";var s=i(31),n=i(1)("iterator"),r=i(17);e.exports=i(5).getIteratorMethod=function(e){if(void 0!=e)return e[n]||e["@@iterator"]||r[s(e)]}},function(e,t,i){"use strict";e.exports=function(e,t,i){var s=void 0===i;switch(t.length){case 0:return s?e():e.call(i);case 1:return s?e(t[0]):e.call(i,t[0]);case 2:return s?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return s?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return s?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},function(e,t,i){"use strict";var s=i(4),n=i(52).set,r=s.MutationObserver||s.WebKitMutationObserver,a=s.process,o=s.Promise,l="process"==i(13)(a);e.exports=function(){var e,t,i,c=function(){var s,n;for(l&&(s=a.domain)&&s.exit();e;){n=e.fn,e=e.next;try{n()}catch(s){throw e?i():t=void 0,s}}t=void 0,s&&s.enter()};if(l)i=function(){a.nextTick(c)};else if(!r||s.navigator&&s.navigator.standalone)if(o&&o.resolve){var u=o.resolve();i=function(){u.then(c)}}else i=function(){n.call(s,c)};else{var d=!0,h=document.createTextNode("");new r(c).observe(h,{characterData:!0}),i=function(){h.data=d=!d}}return function(s){var n={fn:s,next:void 0};t&&(t.next=n),e||(e=n,i()),t=n}}},function(e,t,i){"use strict";var s=i(4),n=i(14),r=i(11),a=i(1)("species");e.exports=function(e){var t=s[e];r&&t&&!t[a]&&n.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,i){"use strict";var s=i(3),n=i(5),r=i(4),a=i(51),o=i(54);s(s.P+s.R,"Promise",{finally:function(e){var t=a(this,n.Promise||r.Promise),i="function"==typeof e;return this.then(i?function(i){return o(t,e()).then(function(){return i})}:e,i?function(i){return o(t,e()).then(function(){throw i})}:e)}})},function(e,t,i){"use strict";var s=i(3),n=i(35),r=i(53);s(s.S,"Promise",{try:function(e){var t=n.f(this),i=r(e);return(i.e?t.reject:t.resolve)(i.v),t.promise}})},function(e,t,i){"use strict";i(45),i(50),i(97),i(108),i(110),e.exports=i(5).WeakMap},function(e,t,i){"use strict";var s,n=i(56)(0),r=i(7),a=i(37),o=i(101),l=i(103),c=i(2),u=i(12),d=i(57),h=a.getWeak,f=Object.isExtensible,p=l.ufstore,v={},m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(e){if(c(e)){var t=h(e);return!0===t?p(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(d(this,"WeakMap"),e,t)}},_=e.exports=i(104)("WeakMap",m,g,l,!0,!0);u(function(){return 7!=(new _).set((Object.freeze||Object)(v),7).get(v)})&&(o((s=l.getConstructor(m,"WeakMap")).prototype,g),a.NEED=!0,n(["delete","has","get","set"],function(e){var t=_.prototype,i=t[e];r(t,e,function(t,n){if(c(t)&&!f(t)){this._f||(this._f=new s);var r=this._f[e](t,n);return"set"==e?this:r}return i.call(this,t,n)})}))},function(e,t,i){"use strict";var s=i(99);e.exports=function(e,t){return new(s(e))(t)}},function(e,t,i){"use strict";var s=i(2),n=i(100),r=i(1)("species");e.exports=function(e){var t;return n(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!n(t.prototype)||(t=void 0),s(t)&&null===(t=t[r])&&(t=void 0)),void 0===t?Array:t}},function(e,t,i){"use strict";var s=i(13);e.exports=Array.isArray||function(e){return"Array"==s(e)}},function(e,t,i){"use strict";var s=i(21),n=i(102),r=i(38),a=i(33),o=i(28),l=Object.assign;e.exports=!l||i(12)(function(){var e={},t={},i=Symbol(),s="abcdefghijklmnopqrst";return e[i]=7,s.split("").forEach(function(e){t[e]=e}),7!=l({},e)[i]||Object.keys(l({},t)).join("")!=s})?function(e,t){for(var i=a(e),l=arguments.length,c=1,u=n.f,d=r.f;l>c;)for(var h,f=o(arguments[c++]),p=u?s(f).concat(u(f)):s(f),v=p.length,m=0;v>m;)d.call(f,h=p[m++])&&(i[h]=f[h]);return i}:l},function(e,t,i){"use strict";t.f=Object.getOwnPropertySymbols},function(e,t,i){"use strict";var s=i(36),n=i(37).getWeak,r=i(6),a=i(2),o=i(34),l=i(23),c=i(56),u=i(8),d=i(57),h=c(5),f=c(6),p=0,v=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},g=function(e,t){return h(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var i=g(this,e);i?i[1]=t:this.a.push([e,t])},delete:function(e){var t=f(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,i,r){var c=e(function(e,s){o(e,c,t,"_i"),e._t=t,e._i=p++,e._l=void 0,void 0!=s&&l(s,i,e[r],e)});return s(c.prototype,{delete:function(e){if(!a(e))return!1;var i=n(e);return!0===i?v(d(this,t)).delete(e):i&&u(i,this._i)&&delete i[this._i]},has:function(e){if(!a(e))return!1;var i=n(e);return!0===i?v(d(this,t)).has(e):i&&u(i,this._i)}}),c},def:function(e,t,i){var s=n(r(t),!0);return!0===s?v(e).set(t,i):s[e._i]=i,e},ufstore:v}},function(e,t,i){"use strict";var s=i(4),n=i(3),r=i(7),a=i(36),o=i(37),l=i(23),c=i(34),u=i(2),d=i(12),h=i(55),f=i(22),p=i(105);e.exports=function(e,t,i,v,m,g){var _=s[e],y=_,C=m?"set":"add",w=y&&y.prototype,A={},k=function(e){var t=w[e];r(w,e,"delete"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,i){return t.call(this,0===e?0:e,i),this})};if("function"==typeof y&&(g||w.forEach&&!d(function(){(new y).entries().next()}))){var b=new y,I=b[C](g?{}:-0,1)!=b,x=d(function(){b.has(1)}),P=h(function(e){new y(e)}),S=!g&&d(function(){for(var e=new y,t=5;t--;)e[C](t,t);return!e.has(-0)});P||((y=t(function(t,i){c(t,y,e);var s=p(new _,t,y);return void 0!=i&&l(i,m,s[C],s),s})).prototype=w,w.constructor=y),(x||S)&&(k("delete"),k("has"),m&&k("get")),(S||I)&&k(C),g&&w.clear&&delete w.clear}else y=v.getConstructor(t,e,m,C),a(y.prototype,i),o.NEED=!0;return f(y,e),A[e]=y,n(n.G+n.W+n.F*(y!=_),A),g||v.setStrong(y,e,m),y}},function(e,t,i){"use strict";var s=i(2),n=i(106).set;e.exports=function(e,t,i){var r,a=t.constructor;return a!==i&&"function"==typeof a&&(r=a.prototype)!==i.prototype&&s(r)&&n&&n(e,r),e}},function(e,t,i){"use strict";var s=i(2),n=i(6),r=function(e,t){if(n(e),!s(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,s){try{(s=i(9)(Function.call,i(107).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,i){return r(e,i),t?e.__proto__=i:s(e,i),e}}({},!1):void 0),check:r}},function(e,t,i){"use strict";var s=i(38),n=i(27),r=i(16),a=i(41),o=i(8),l=i(40),c=Object.getOwnPropertyDescriptor;t.f=i(11)?c:function(e,t){if(e=r(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(o(e,t))return n(!s.f.call(e,t),e[t])}},function(e,t,i){"use strict";i(109)("WeakMap")},function(e,t,i){"use strict";var s=i(3);e.exports=function(e){s(s.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,i){"use strict";i(111)("WeakMap")},function(e,t,i){"use strict";var s=i(3),n=i(15),r=i(9),a=i(23);e.exports=function(e){s(s.S,e,{from:function(e){var t,i,s,o,l=arguments[1];return n(this),(t=void 0!==l)&&n(l),void 0==e?new this:(i=[],t?(s=0,o=r(l,arguments[2],2),a(e,!1,function(e){i.push(o(e,s++))})):a(e,!1,i.push,i),new this(i))}})}},function(e,t,i){"use strict";i(113),e.exports=i(5).Object.values},function(e,t,i){"use strict";var s=i(3),n=i(114)(!1);s(s.S,"Object",{values:function(e){return n(e)}})},function(e,t,i){"use strict";var s=i(21),n=i(16),r=i(38).f;e.exports=function(e){return function(t){for(var i,a=n(t),o=s(a),l=o.length,c=0,u=[];l>c;)r.call(a,i=o[c++])&&u.push(e?[i,a[i]]:a[i]);return u}}},function(e,t,i){"use strict";var s=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(e){e.close()}}),s=!0}catch(e){}t.ReadableStream=s?ReadableStream:i(116).ReadableStream},function(e,t,i){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){for(var i in t)e[i]=t[i]}(t,function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.i=function(e){return e},i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=7)}([function(e,t,i){var n="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":s(e)},r=i(1).assert;function a(e){return"string"==typeof e||"symbol"===(void 0===e?"undefined":n(e))}function o(e,t,i){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,i)}t.typeIsObject=function(e){return"object"===(void 0===e?"undefined":n(e))&&null!==e||"function"==typeof e},t.createDataProperty=function(e,i,s){r(t.typeIsObject(e)),Object.defineProperty(e,i,{value:s,writable:!0,enumerable:!0,configurable:!0})},t.createArrayFromList=function(e){return e.slice()},t.ArrayBufferCopy=function(e,t,i,s,n){new Uint8Array(e).set(new Uint8Array(i,s,n),t)},t.CreateIterResultObject=function(e,t){r("boolean"==typeof t);var i={};return Object.defineProperty(i,"value",{value:e,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(i,"done",{value:t,enumerable:!0,writable:!0,configurable:!0}),i},t.IsFiniteNonNegativeNumber=function(e){return!Number.isNaN(e)&&(e!==1/0&&!(e<0))},t.InvokeOrNoop=function(e,t,i){r(void 0!==e),r(a(t)),r(Array.isArray(i));var s=e[t];if(void 0!==s)return o(s,e,i)},t.PromiseInvokeOrNoop=function(e,i,s){r(void 0!==e),r(a(i)),r(Array.isArray(s));try{return Promise.resolve(t.InvokeOrNoop(e,i,s))}catch(e){return Promise.reject(e)}},t.PromiseInvokeOrPerformFallback=function(e,t,i,s,n){r(void 0!==e),r(a(t)),r(Array.isArray(i)),r(Array.isArray(n));var l=void 0;try{l=e[t]}catch(e){return Promise.reject(e)}if(void 0===l)return s.apply(null,n);try{return Promise.resolve(o(l,e,i))}catch(e){return Promise.reject(e)}},t.TransferArrayBuffer=function(e){return e.slice()},t.ValidateAndNormalizeHighWaterMark=function(e){if(e=Number(e),Number.isNaN(e)||e<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return e},t.ValidateAndNormalizeQueuingStrategy=function(e,i){if(void 0!==e&&"function"!=typeof e)throw new TypeError("size property of a queuing strategy must be a function");return{size:e,highWaterMark:i=t.ValidateAndNormalizeHighWaterMark(i)}}},function(e,t,i){function s(e){this.name="AssertionError",this.message=e||"",this.stack=(new Error).stack}s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,e.exports={rethrowAssertionErrorRejection:function(e){e&&e.constructor===s&&setTimeout(function(){throw e},0)},AssertionError:s,assert:function(e,t){if(!e)throw new s(t)}}},function(e,t,i){var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}();function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=i(0),a=r.InvokeOrNoop,o=r.PromiseInvokeOrNoop,l=r.ValidateAndNormalizeQueuingStrategy,c=r.typeIsObject,u=i(1),d=u.assert,h=u.rethrowAssertionErrorRejection,f=i(3),p=f.DequeueValue,v=f.EnqueueValueWithSize,m=f.PeekQueueValue,g=f.ResetQueue,_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=i.size,r=i.highWaterMark,a=void 0===r?1:r;if(n(this,e),this._state="writable",this._storedError=void 0,this._writer=void 0,this._writableStreamController=void 0,this._writeRequests=[],this._inFlightWriteRequest=void 0,this._closeRequest=void 0,this._inFlightCloseRequest=void 0,this._pendingAbortRequest=void 0,this._backpressure=!1,void 0!==t.type)throw new RangeError("Invalid type is specified");this._writableStreamController=new j(this,t,s,a),this._writableStreamController.__startSteps()}return s(e,[{key:"abort",value:function(e){return!1===C(this)?Promise.reject(q("abort")):!0===w(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):A(this,e)}},{key:"getWriter",value:function(){if(!1===C(this))throw q("getWriter");return y(this)}},{key:"locked",get:function(){if(!1===C(this))throw q("locked");return w(this)}}]),e}();function y(e){return new E(e)}function C(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function w(e){return d(!0===C(e),"IsWritableStreamLocked should only be used on known writable streams"),void 0!==e._writer}function A(e,t){var i=e._state;if("closed"===i)return Promise.resolve(void 0);if("errored"===i)return Promise.reject(e._storedError);var s=new TypeError("Requested to abort");if(void 0!==e._pendingAbortRequest)return Promise.reject(s);d("writable"===i||"erroring"===i,"state must be writable or erroring");var n=!1;"erroring"===i&&(n=!0,t=void 0);var r=new Promise(function(i,s){e._pendingAbortRequest={_resolve:i,_reject:s,_reason:t,_wasAlreadyErroring:n}});return!1===n&&b(e,s),r}function k(e,t){var i=e._state;"writable"!==i?(d("erroring"===i),I(e)):b(e,t)}function b(e,t){d(void 0===e._storedError,"stream._storedError === undefined"),d("writable"===e._state,"state must be writable");var i=e._writableStreamController;d(void 0!==i,"controller must not be undefined"),e._state="erroring",e._storedError=t;var s=e._writer;void 0!==s&&B(s,t),!1===S(e)&&!0===i._started&&I(e)}function I(e){d("erroring"===e._state,"stream._state === erroring"),d(!1===S(e),"WritableStreamHasOperationMarkedInFlight(stream) === false"),e._state="errored",e._writableStreamController.__errorSteps();for(var t=e._storedError,i=0;i<e._writeRequests.length;i++){e._writeRequests[i]._reject(t)}if(e._writeRequests=[],void 0!==e._pendingAbortRequest){var s=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,!0===s._wasAlreadyErroring)return s._reject(t),void T(e);e._writableStreamController.__abortSteps(s._reason).then(function(){s._resolve(),T(e)},function(t){s._reject(t),T(e)})}else T(e)}function x(e){d(void 0!==e._inFlightCloseRequest),e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0;var t=e._state;d("writable"===t||"erroring"===t),"erroring"===t&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var i=e._writer;void 0!==i&&function(e){d(void 0!==e._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),d(void 0!==e._closedPromise_reject,"writer._closedPromise_reject !== undefined"),d("pending"===e._closedPromiseState,"writer._closedPromiseState is pending"),e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}(i),d(void 0===e._pendingAbortRequest,"stream._pendingAbortRequest === undefined"),d(void 0===e._storedError,"stream._storedError === undefined")}function P(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function S(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}function T(e){d("errored"===e._state,'_stream_.[[state]] is `"errored"`'),void 0!==e._closeRequest&&(d(void 0===e._inFlightCloseRequest),e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&(V(t,e._storedError),t._closedPromise.catch(function(){}))}function L(e,t){d("writable"===e._state),d(!1===P(e));var i=e._writer;void 0!==i&&t!==e._backpressure&&(!0===t?function(e){d(void 0===e._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),d(void 0===e._readyPromise_reject,"writer._readyPromise_reject === undefined"),e._readyPromise=new Promise(function(t,i){e._readyPromise_resolve=t,e._readyPromise_reject=i}),e._readyPromiseState="pending"}(i):(d(!1===t),J(i))),e._backpressure=t}e.exports={AcquireWritableStreamDefaultWriter:y,IsWritableStream:C,IsWritableStreamLocked:w,WritableStream:_,WritableStreamAbort:A,WritableStreamDefaultControllerError:W,WritableStreamDefaultWriterCloseWithErrorPropagation:function(e){var t=e._ownerWritableStream;d(void 0!==t);var i=t._state;if(!0===P(t)||"closed"===i)return Promise.resolve();if("errored"===i)return Promise.reject(t._storedError);return d("writable"===i||"erroring"===i),R(e)},WritableStreamDefaultWriterRelease:D,WritableStreamDefaultWriterWrite:O,WritableStreamCloseQueuedOrInFlight:P};var E=function(){function e(t){if(n(this,e),!1===C(t))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===w(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;var i,s=t._state;if("writable"===s)!1===P(t)&&!0===t._backpressure?((i=this)._readyPromise=new Promise(function(e,t){i._readyPromise_resolve=e,i._readyPromise_reject=t}),i._readyPromiseState="pending"):K(this),Y(this);else if("erroring"===s)X(this,t._storedError),this._readyPromise.catch(function(){}),Y(this);else if("closed"===s)K(this),function(e){e._closedPromise=Promise.resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}(this);else{d("errored"===s,"state must be errored");var r=t._storedError;X(this,r),this._readyPromise.catch(function(){}),function(e,t){e._closedPromise=Promise.reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}(this,r),this._closedPromise.catch(function(){})}}return s(e,[{key:"abort",value:function(e){return!1===F(this)?Promise.reject(Q("abort")):void 0===this._ownerWritableStream?Promise.reject(z("abort")):function(e,t){var i=e._ownerWritableStream;return d(void 0!==i),A(i,t)}(this,e)}},{key:"close",value:function(){if(!1===F(this))return Promise.reject(Q("close"));var e=this._ownerWritableStream;return void 0===e?Promise.reject(z("close")):!0===P(e)?Promise.reject(new TypeError("cannot close an already-closing stream")):R(this)}},{key:"releaseLock",value:function(){if(!1===F(this))throw Q("releaseLock");var e=this._ownerWritableStream;void 0!==e&&(d(void 0!==e._writer),D(this))}},{key:"write",value:function(e){return!1===F(this)?Promise.reject(Q("write")):void 0===this._ownerWritableStream?Promise.reject(z("write to")):O(this,e)}},{key:"closed",get:function(){return!1===F(this)?Promise.reject(Q("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(!1===F(this))throw Q("desiredSize");if(void 0===this._ownerWritableStream)throw z("desiredSize");return function(e){var t=e._ownerWritableStream,i=t._state;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return M(t._writableStreamController)}(this)}},{key:"ready",get:function(){return!1===F(this)?Promise.reject(Q("ready")):this._readyPromise}}]),e}();function F(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function R(e){var t=e._ownerWritableStream;d(void 0!==t);var i=t._state;if("closed"===i||"errored"===i)return Promise.reject(new TypeError("The stream (in "+i+" state) is not in the writable state and cannot be closed"));d("writable"===i||"erroring"===i),d(!1===P(t));var s,n=new Promise(function(e,i){var s={_resolve:e,_reject:i};t._closeRequest=s});return!0===t._backpressure&&"writable"===i&&J(e),s=t._writableStreamController,v(s,"close",0),U(s),n}function N(e,t){"pending"===e._closedPromiseState?V(e,t):function(e,t){d(void 0===e._closedPromise_resolve,"writer._closedPromise_resolve === undefined"),d(void 0===e._closedPromise_reject,"writer._closedPromise_reject === undefined"),d("pending"!==e._closedPromiseState,"writer._closedPromiseState is not pending"),e._closedPromise=Promise.reject(t),e._closedPromiseState="rejected"}(e,t),e._closedPromise.catch(function(){})}function B(e,t){"pending"===e._readyPromiseState?function(e,t){d(void 0!==e._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),d(void 0!==e._readyPromise_reject,"writer._readyPromise_reject !== undefined"),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}(e,t):function(e,t){d(void 0===e._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),d(void 0===e._readyPromise_reject,"writer._readyPromise_reject === undefined"),e._readyPromise=Promise.reject(t),e._readyPromiseState="rejected"}(e,t),e._readyPromise.catch(function(){})}function D(e){var t=e._ownerWritableStream;d(void 0!==t),d(t._writer===e);var i=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");B(e,i),N(e,i),t._writer=void 0,e._ownerWritableStream=void 0}function O(e,t){var i=e._ownerWritableStream;d(void 0!==i);var s=i._writableStreamController,n=function(e,t){var i=e._strategySize;if(void 0===i)return 1;try{return i(t)}catch(t){return G(e,t),1}}(s,t);if(i!==e._ownerWritableStream)return Promise.reject(z("write to"));var r=i._state;if("errored"===r)return Promise.reject(i._storedError);if(!0===P(i)||"closed"===r)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===r)return Promise.reject(i._storedError);d("writable"===r);var a=function(e){return d(!0===w(e)),d("writable"===e._state),new Promise(function(t,i){var s={_resolve:t,_reject:i};e._writeRequests.push(s)})}(i);return function(e,t,i){var s={chunk:t};try{v(e,s,i)}catch(t){return void G(e,t)}var n=e._controlledWritableStream;if(!1===P(n)&&"writable"===n._state){var r=H(e);L(n,r)}U(e)}(s,t,n),a}var j=function(){function e(t,i,s,r){if(n(this,e),!1===C(t))throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==t._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");this._controlledWritableStream=t,this._underlyingSink=i,this._queue=void 0,this._queueTotalSize=void 0,g(this),this._started=!1;var a=l(s,r);this._strategySize=a.size,this._strategyHWM=a.highWaterMark,L(t,H(this))}return s(e,[{key:"error",value:function(e){if(!1===function(e){if(!c(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_underlyingSink"))return!1;return!0}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&W(this,e)}},{key:"__abortSteps",value:function(e){return o(this._underlyingSink,"abort",[e])}},{key:"__errorSteps",value:function(){g(this)}},{key:"__startSteps",value:function(){var e=this,t=a(this._underlyingSink,"start",[this]),i=this._controlledWritableStream;Promise.resolve(t).then(function(){d("writable"===i._state||"erroring"===i._state),e._started=!0,U(e)},function(t){d("writable"===i._state||"erroring"===i._state),e._started=!0,k(i,t)}).catch(h)}}]),e}();function M(e){return e._strategyHWM-e._queueTotalSize}function U(e){var t=e._controlledWritableStream;if(!1!==e._started&&void 0===t._inFlightWriteRequest){var i=t._state;if("closed"!==i&&"errored"!==i)if("erroring"!==i){if(0!==e._queue.length){var s=m(e);"close"===s?function(e){var t=e._controlledWritableStream;(function(e){d(void 0===e._inFlightCloseRequest),d(void 0!==e._closeRequest),e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),p(e),d(0===e._queue.length,"queue must be empty once the final write record is dequeued"),o(e._underlyingSink,"close",[]).then(function(){x(t)},function(e){!function(e,t){d(void 0!==e._inFlightCloseRequest),e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,d("writable"===e._state||"erroring"===e._state),void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),k(e,t)}(t,e)}).catch(h)}(e):function(e,t){var i=e._controlledWritableStream;(function(e){d(void 0===e._inFlightWriteRequest,"there must be no pending write request"),d(0!==e._writeRequests.length,"writeRequests must not be empty"),e._inFlightWriteRequest=e._writeRequests.shift()})(i),o(e._underlyingSink,"write",[t,e]).then(function(){!function(e){d(void 0!==e._inFlightWriteRequest),e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(i);var t=i._state;if(d("writable"===t||"erroring"===t),p(e),!1===P(i)&&"writable"===t){var s=H(e);L(i,s)}U(e)},function(e){!function(e,t){d(void 0!==e._inFlightWriteRequest),e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,d("writable"===e._state||"erroring"===e._state),k(e,t)}(i,e)}).catch(h)}(e,s.chunk)}}else I(t)}}function G(e,t){"writable"===e._controlledWritableStream._state&&W(e,t)}function H(e){return M(e)<=0}function W(e,t){var i=e._controlledWritableStream;d("writable"===i._state),b(i,t)}function q(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function Q(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function z(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Y(e){e._closedPromise=new Promise(function(t,i){e._closedPromise_resolve=t,e._closedPromise_reject=i,e._closedPromiseState="pending"})}function V(e,t){d(void 0!==e._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),d(void 0!==e._closedPromise_reject,"writer._closedPromise_reject !== undefined"),d("pending"===e._closedPromiseState,"writer._closedPromiseState is pending"),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function X(e,t){e._readyPromise=Promise.reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function K(e){e._readyPromise=Promise.resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}function J(e){d(void 0!==e._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),d(void 0!==e._readyPromise_reject,"writer._readyPromise_reject !== undefined"),e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}},function(e,t,i){var s=i(0).IsFiniteNonNegativeNumber,n=i(1).assert;t.DequeueValue=function(e){n("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),n(e._queue.length>0,"Spec-level failure: should never dequeue from an empty queue.");var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value},t.EnqueueValueWithSize=function(e,t,i){if(n("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]]."),i=Number(i),!s(i))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:i}),e._queueTotalSize+=i},t.PeekQueueValue=function(e){return n("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),n(e._queue.length>0,"Spec-level failure: should never peek at an empty queue."),e._queue[0].value},t.ResetQueue=function(e){n("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]]."),e._queue=[],e._queueTotalSize=0}},function(e,t,i){var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}();function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=i(0),a=r.ArrayBufferCopy,o=r.CreateIterResultObject,l=r.IsFiniteNonNegativeNumber,c=r.InvokeOrNoop,u=r.PromiseInvokeOrNoop,d=r.TransferArrayBuffer,h=r.ValidateAndNormalizeQueuingStrategy,f=r.ValidateAndNormalizeHighWaterMark,p=i(0),v=p.createArrayFromList,m=p.createDataProperty,g=p.typeIsObject,_=i(1),y=_.assert,C=_.rethrowAssertionErrorRejection,w=i(3),A=w.DequeueValue,k=w.EnqueueValueWithSize,b=w.ResetQueue,I=i(2),x=I.AcquireWritableStreamDefaultWriter,P=I.IsWritableStream,S=I.IsWritableStreamLocked,T=I.WritableStreamAbort,L=I.WritableStreamDefaultWriterCloseWithErrorPropagation,E=I.WritableStreamDefaultWriterRelease,F=I.WritableStreamDefaultWriterWrite,R=I.WritableStreamCloseQueuedOrInFlight,N=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=i.size,r=i.highWaterMark;n(this,e),this._state="readable",this._reader=void 0,this._storedError=void 0,this._disturbed=!1,this._readableStreamController=void 0;var a=t.type;if("bytes"===String(a))void 0===r&&(r=0),this._readableStreamController=new he(this,t,r);else{if(void 0!==a)throw new RangeError("Invalid type is specified");void 0===r&&(r=1),this._readableStreamController=new se(this,t,s,r)}}return s(e,[{key:"cancel",value:function(e){return!1===D(this)?Promise.reject(Te("cancel")):!0===O(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):G(this,e)}},{key:"getReader",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mode;if(!1===D(this))throw Te("getReader");if(void 0===e)return B(this);if("byob"===(e=String(e)))return new K(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(e,t){var i=e.writable,s=e.readable;return function(e){try{Promise.prototype.then.call(e,void 0,function(){})}catch(e){}}(this.pipeTo(i,t)),s}},{key:"pipeTo",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=i.preventClose,n=i.preventAbort,r=i.preventCancel;if(!1===D(this))return Promise.reject(Te("pipeTo"));if(!1===P(e))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(s=Boolean(s),n=Boolean(n),r=Boolean(r),!0===O(this))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(!0===S(e))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var a=B(this),o=x(e),l=!1,c=Promise.resolve();return new Promise(function(i,u){var d,h,f;if(m(t,a._closedPromise,function(t){!1===n?g(function(){return T(e,t)},!0,t):_(!0,t)}),m(e,o._closedPromise,function(e){!1===r?g(function(){return G(t,e)},!0,e):_(!0,e)}),d=t,h=a._closedPromise,f=function(){!1===s?g(function(){return L(o)}):_()},"closed"===d._state?f():h.then(f).catch(C),!0===R(e)||"closed"===e._state){var p=new TypeError("the destination writable stream closed before all data could be piped to it");!1===r?g(function(){return G(t,p)},!0,p):_(!0,p)}function v(){var e=c;return c.then(function(){return e!==c?v():void 0})}function m(e,t,i){"errored"===e._state?i(e._storedError):t.catch(i).catch(C)}function g(t,i,s){function n(){t().then(function(){return y(i,s)},function(e){return y(!0,e)}).catch(C)}!0!==l&&(l=!0,"writable"===e._state&&!1===R(e)?v().then(n):n())}function _(t,i){!0!==l&&(l=!0,"writable"===e._state&&!1===R(e)?v().then(function(){return y(t,i)}).catch(C):y(t,i))}function y(e,t){E(o),te(a),e?u(t):i(void 0)}(function e(){return c=Promise.resolve(),!0===l?Promise.resolve():o._readyPromise.then(function(){return ie(a).then(function(e){var t=e.value;!0!==e.done&&(c=F(o,t).catch(function(){}))})}).then(e)})().catch(function(e){c=Promise.resolve(),C(e)})})}},{key:"tee",value:function(){if(!1===D(this))throw Te("tee");var e=j(this,!1);return v(e)}},{key:"locked",get:function(){if(!1===D(this))throw Te("locked");return O(this)}}]),e}();function B(e){return new X(e)}function D(e){return!!g(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function O(e){return y(!0===D(e),"IsReadableStreamLocked should only be used on known readable streams"),void 0!==e._reader}function j(e,t){y(!0===D(e)),y("boolean"==typeof t);var i=B(e),s={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};s.promise=new Promise(function(e){s._resolve=e});var n=function(){return function e(){var t=e._reader,i=e._branch1,s=e._branch2,n=e._teeState;return ie(t).then(function(e){y(g(e));var t=e.value,r=e.done;if(y("boolean"==typeof r),!0===r&&!1===n.closedOrErrored&&(!1===n.canceled1&&ae(i),!1===n.canceled2&&ae(s),n.closedOrErrored=!0),!0!==n.closedOrErrored){var a=t,o=t;!1===n.canceled1&&oe(i,a),!1===n.canceled2&&oe(s,o)}})}}();n._reader=i,n._teeState=s,n._cloneForBranch2=t;var r=function(){return function e(t){var i=e._stream,s=e._teeState;s.canceled1=!0;s.reason1=t;if(!0===s.canceled2){var n=v([s.reason1,s.reason2]),r=G(i,n);s._resolve(r)}return s.promise}}();r._stream=e,r._teeState=s;var a=function(){return function e(t){var i=e._stream,s=e._teeState;s.canceled2=!0;s.reason2=t;if(!0===s.canceled1){var n=v([s.reason1,s.reason2]),r=G(i,n);s._resolve(r)}return s.promise}}();a._stream=e,a._teeState=s;var o=Object.create(Object.prototype);m(o,"pull",n),m(o,"cancel",r);var l=new N(o),c=Object.create(Object.prototype);m(c,"pull",n),m(c,"cancel",a);var u=new N(c);return n._branch1=l._readableStreamController,n._branch2=u._readableStreamController,i._closedPromise.catch(function(e){!0!==s.closedOrErrored&&(le(n._branch1,e),le(n._branch2,e),s.closedOrErrored=!0)}),[l,u]}function M(e){return y(!0===J(e._reader)),y("readable"===e._state||"closed"===e._state),new Promise(function(t,i){var s={_resolve:t,_reject:i};e._reader._readIntoRequests.push(s)})}function U(e){return y(!0===Z(e._reader)),y("readable"===e._state),new Promise(function(t,i){var s={_resolve:t,_reject:i};e._reader._readRequests.push(s)})}function G(e,t){return e._disturbed=!0,"closed"===e._state?Promise.resolve(void 0):"errored"===e._state?Promise.reject(e._storedError):(H(e),e._readableStreamController.__cancelSteps(t).then(function(){}))}function H(e){y("readable"===e._state),e._state="closed";var t=e._reader;if(void 0!==t){if(!0===Z(t)){for(var i=0;i<t._readRequests.length;i++){(0,t._readRequests[i]._resolve)(o(void 0,!0))}t._readRequests=[]}!function(e){y(void 0!==e._closedPromise_resolve),y(void 0!==e._closedPromise_reject),e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}(t)}}function W(e,t){y(!0===D(e),"stream must be ReadableStream"),y("readable"===e._state,"state must be readable"),e._state="errored",e._storedError=t;var i=e._reader;if(void 0!==i){if(!0===Z(i)){for(var s=0;s<i._readRequests.length;s++){i._readRequests[s]._reject(t)}i._readRequests=[]}else{y(J(i),"reader must be ReadableStreamBYOBReader");for(var n=0;n<i._readIntoRequests.length;n++){i._readIntoRequests[n]._reject(t)}i._readIntoRequests=[]}Fe(i,t),i._closedPromise.catch(function(){})}}function q(e,t,i){var s=e._reader;y(s._readRequests.length>0),s._readRequests.shift()._resolve(o(t,i))}function Q(e){return e._reader._readIntoRequests.length}function z(e){return e._reader._readRequests.length}function Y(e){var t=e._reader;return void 0!==t&&!1!==J(t)}function V(e){var t=e._reader;return void 0!==t&&!1!==Z(t)}e.exports={ReadableStream:N,IsReadableStreamDisturbed:function(e){return y(!0===D(e),"IsReadableStreamDisturbed should only be used on known readable streams"),e._disturbed},ReadableStreamDefaultControllerClose:ae,ReadableStreamDefaultControllerEnqueue:oe,ReadableStreamDefaultControllerError:le,ReadableStreamDefaultControllerGetDesiredSize:ue};var X=function(){function e(t){if(n(this,e),!1===D(t))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===O(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");$(this,t),this._readRequests=[]}return s(e,[{key:"cancel",value:function(e){return!1===Z(this)?Promise.reject(Ee("cancel")):void 0===this._ownerReadableStream?Promise.reject(Le("cancel")):ee(this,e)}},{key:"read",value:function(){return!1===Z(this)?Promise.reject(Ee("read")):void 0===this._ownerReadableStream?Promise.reject(Le("read from")):ie(this)}},{key:"releaseLock",value:function(){if(!1===Z(this))throw Ee("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");te(this)}}},{key:"closed",get:function(){return!1===Z(this)?Promise.reject(Ee("closed")):this._closedPromise}}]),e}(),K=function(){function e(t){if(n(this,e),!D(t))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===fe(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(O(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");$(this,t),this._readIntoRequests=[]}return s(e,[{key:"cancel",value:function(e){return J(this)?void 0===this._ownerReadableStream?Promise.reject(Le("cancel")):ee(this,e):Promise.reject(Re("cancel"))}},{key:"read",value:function(e){return J(this)?void 0===this._ownerReadableStream?Promise.reject(Le("read from")):ArrayBuffer.isView(e)?0===e.byteLength?Promise.reject(new TypeError("view must have non-zero byteLength")):function(e,t){var i=e._ownerReadableStream;if(y(void 0!==i),i._disturbed=!0,"errored"===i._state)return Promise.reject(i._storedError);return function(e,t){var i=e._controlledReadableStream,s=1;t.constructor!==DataView&&(s=t.constructor.BYTES_PER_ELEMENT);var n=t.constructor,r={buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:s,ctor:n,readerType:"byob"};if(e._pendingPullIntos.length>0)return r.buffer=d(r.buffer),e._pendingPullIntos.push(r),M(i);if("closed"===i._state){var a=new t.constructor(r.buffer,r.byteOffset,0);return Promise.resolve(o(a,!0))}if(e._queueTotalSize>0){if(!0===Ce(e,r)){var l=_e(r);return Ae(e),Promise.resolve(o(l,!1))}if(!0===e._closeRequested){var c=new TypeError("Insufficient bytes to fill elements in the given buffer");return Pe(e,c),Promise.reject(c)}}r.buffer=d(r.buffer),e._pendingPullIntos.push(r);var u=M(i);return ve(e),u}(i._readableStreamController,t)}(this,e):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(Re("read"))}},{key:"releaseLock",value:function(){if(!J(this))throw Re("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");te(this)}}},{key:"closed",get:function(){return J(this)?this._closedPromise:Promise.reject(Re("closed"))}}]),e}();function J(e){return!!g(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function Z(e){return!!g(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function $(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?function(e){e._closedPromise=new Promise(function(t,i){e._closedPromise_resolve=t,e._closedPromise_reject=i})}(e):"closed"===t._state?function(e){e._closedPromise=Promise.resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}(e):(y("errored"===t._state,"state must be errored"),function(e,t){e._closedPromise=Promise.reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}(e,t._storedError),e._closedPromise.catch(function(){}))}function ee(e,t){var i=e._ownerReadableStream;return y(void 0!==i),G(i,t)}function te(e){y(void 0!==e._ownerReadableStream),y(e._ownerReadableStream._reader===e),"readable"===e._ownerReadableStream._state?Fe(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){y(void 0===e._closedPromise_resolve),y(void 0===e._closedPromise_reject),e._closedPromise=Promise.reject(t)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._closedPromise.catch(function(){}),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function ie(e){var t=e._ownerReadableStream;return y(void 0!==t),t._disturbed=!0,"closed"===t._state?Promise.resolve(o(void 0,!0)):"errored"===t._state?Promise.reject(t._storedError):(y("readable"===t._state),t._readableStreamController.__pullSteps())}var se=function(){function e(t,i,s,r){if(n(this,e),!1===D(t))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==t._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");this._controlledReadableStream=t,this._underlyingSource=i,this._queue=void 0,this._queueTotalSize=void 0,b(this),this._started=!1,this._closeRequested=!1,this._pullAgain=!1,this._pulling=!1;var a=h(s,r);this._strategySize=a.size,this._strategyHWM=a.highWaterMark;var o=this,l=c(i,"start",[this]);Promise.resolve(l).then(function(){o._started=!0,y(!1===o._pulling),y(!1===o._pullAgain),re(o)},function(e){ce(o,e)}).catch(C)}return s(e,[{key:"close",value:function(){if(!1===ne(this))throw Ne("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");ae(this)}},{key:"enqueue",value:function(e){if(!1===ne(this))throw Ne("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");return oe(this,e)}},{key:"error",value:function(e){if(!1===ne(this))throw Ne("error");var t=this._controlledReadableStream;if("readable"!==t._state)throw new TypeError("The stream is "+t._state+" and so cannot be errored");le(this,e)}},{key:"__cancelSteps",value:function(e){return b(this),u(this._underlyingSource,"cancel",[e])}},{key:"__pullSteps",value:function(){var e=this._controlledReadableStream;if(this._queue.length>0){var t=A(this);return!0===this._closeRequested&&0===this._queue.length?H(e):re(this),Promise.resolve(o(t,!1))}var i=U(e);return re(this),i}},{key:"desiredSize",get:function(){if(!1===ne(this))throw Ne("desiredSize");return ue(this)}}]),e}();function ne(e){return!!g(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingSource")}function re(e){!1!==function(e){var t=e._controlledReadableStream;if("closed"===t._state||"errored"===t._state)return!1;if(!0===e._closeRequested)return!1;if(!1===e._started)return!1;if(!0===O(t)&&z(t)>0)return!0;if(ue(e)>0)return!0;return!1}(e)&&(!0!==e._pulling?(y(!1===e._pullAgain),e._pulling=!0,u(e._underlyingSource,"pull",[e]).then(function(){if(e._pulling=!1,!0===e._pullAgain)return e._pullAgain=!1,re(e)},function(t){ce(e,t)}).catch(C)):e._pullAgain=!0)}function ae(e){var t=e._controlledReadableStream;y(!1===e._closeRequested),y("readable"===t._state),e._closeRequested=!0,0===e._queue.length&&H(t)}function oe(e,t){var i=e._controlledReadableStream;if(y(!1===e._closeRequested),y("readable"===i._state),!0===O(i)&&z(i)>0)q(i,t,!1);else{var s=1;if(void 0!==e._strategySize){var n=e._strategySize;try{s=n(t)}catch(t){throw ce(e,t),t}}try{k(e,t,s)}catch(t){throw ce(e,t),t}}re(e)}function le(e,t){var i=e._controlledReadableStream;y("readable"===i._state),b(e),W(i,t)}function ce(e,t){"readable"===e._controlledReadableStream._state&&le(e,t)}function ue(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}var de=function(){function e(t,i){n(this,e),this._associatedReadableByteStreamController=t,this._view=i}return s(e,[{key:"respond",value:function(e){if(!1===pe(this))throw Be("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(e,t){if(t=Number(t),!1===l(t))throw new RangeError("bytesWritten must be a finite");y(e._pendingPullIntos.length>0),Ie(e,t)}(this._associatedReadableByteStreamController,e)}},{key:"respondWithNewView",value:function(e){if(!1===pe(this))throw Be("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");!function(e,t){y(e._pendingPullIntos.length>0);var i=e._pendingPullIntos[0];if(i.byteOffset+i.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=t.buffer,Ie(e,t.byteLength)}(this._associatedReadableByteStreamController,e)}},{key:"view",get:function(){return this._view}}]),e}(),he=function(){function e(t,i,s){if(n(this,e),!1===D(t))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");if(void 0!==t._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=t,this._underlyingByteSource=i,this._pullAgain=!1,this._pulling=!1,me(this),this._queue=this._queueTotalSize=void 0,b(this),this._closeRequested=!1,this._started=!1,this._strategyHWM=f(s);var r=i.autoAllocateChunkSize;if(void 0!==r&&(!1===Number.isInteger(r)||r<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");this._autoAllocateChunkSize=r,this._pendingPullIntos=[];var a=this,o=c(i,"start",[this]);Promise.resolve(o).then(function(){a._started=!0,y(!1===a._pulling),y(!1===a._pullAgain),ve(a)},function(e){"readable"===t._state&&Pe(a,e)}).catch(C)}return s(e,[{key:"close",value:function(){if(!1===fe(this))throw De("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");!function(e){var t=e._controlledReadableStream;if(y(!1===e._closeRequested),y("readable"===t._state),e._queueTotalSize>0)return void(e._closeRequested=!0);if(e._pendingPullIntos.length>0){var i=e._pendingPullIntos[0];if(i.bytesFilled>0){var s=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Pe(e,s),s}}H(t)}(this)}},{key:"enqueue",value:function(e){if(!1===fe(this))throw De("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");!function(e,t){var i=e._controlledReadableStream;y(!1===e._closeRequested),y("readable"===i._state);var s=t.buffer,n=t.byteOffset,r=t.byteLength,a=d(s);if(!0===V(i))if(0===z(i))ye(e,a,n,r);else{y(0===e._queue.length);var o=new Uint8Array(a,n,r);q(i,o,!1)}else!0===Y(i)?(ye(e,a,n,r),be(e)):(y(!1===O(i),"stream must not be locked"),ye(e,a,n,r))}(this,e)}},{key:"error",value:function(e){if(!1===fe(this))throw De("error");var t=this._controlledReadableStream;if("readable"!==t._state)throw new TypeError("The stream is "+t._state+" and so cannot be errored");Pe(this,e)}},{key:"__cancelSteps",value:function(e){this._pendingPullIntos.length>0&&(this._pendingPullIntos[0].bytesFilled=0);return b(this),u(this._underlyingByteSource,"cancel",[e])}},{key:"__pullSteps",value:function(){var e=this._controlledReadableStream;if(y(!0===V(e)),this._queueTotalSize>0){y(0===z(e));var t=this._queue.shift();this._queueTotalSize-=t.byteLength,Ae(this);var i=void 0;try{i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}catch(e){return Promise.reject(e)}return Promise.resolve(o(i,!1))}var s=this._autoAllocateChunkSize;if(void 0!==s){var n=void 0;try{n=new ArrayBuffer(s)}catch(e){return Promise.reject(e)}var r={buffer:n,byteOffset:0,byteLength:s,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(r)}var a=U(e);return ve(this),a}},{key:"byobRequest",get:function(){if(!1===fe(this))throw De("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos[0],t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled);this._byobRequest=new de(this,t)}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===fe(this))throw De("desiredSize");return Se(this)}}]),e}();function fe(e){return!!g(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingByteSource")}function pe(e){return!!g(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function ve(e){!1!==function(e){var t=e._controlledReadableStream;if("readable"!==t._state)return!1;if(!0===e._closeRequested)return!1;if(!1===e._started)return!1;if(!0===V(t)&&z(t)>0)return!0;if(!0===Y(t)&&Q(t)>0)return!0;if(Se(e)>0)return!0;return!1}(e)&&(!0!==e._pulling?(y(!1===e._pullAgain),e._pulling=!0,u(e._underlyingByteSource,"pull",[e]).then(function(){e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,ve(e))},function(t){"readable"===e._controlledReadableStream._state&&Pe(e,t)}).catch(C)):e._pullAgain=!0)}function me(e){ke(e),e._pendingPullIntos=[]}function ge(e,t){y("errored"!==e._state,"state must not be errored");var i=!1;"closed"===e._state&&(y(0===t.bytesFilled),i=!0);var s=_e(t);"default"===t.readerType?q(e,s,i):(y("byob"===t.readerType),function(e,t,i){var s=e._reader;y(s._readIntoRequests.length>0),s._readIntoRequests.shift()._resolve(o(t,i))}(e,s,i))}function _e(e){var t=e.bytesFilled,i=e.elementSize;return y(t<=e.byteLength),y(t%i==0),new e.ctor(e.buffer,e.byteOffset,t/i)}function ye(e,t,i,s){e._queue.push({buffer:t,byteOffset:i,byteLength:s}),e._queueTotalSize+=s}function Ce(e,t){var i=t.elementSize,s=t.bytesFilled-t.bytesFilled%i,n=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),r=t.bytesFilled+n,o=r-r%i,l=n,c=!1;o>s&&(l=o-t.bytesFilled,c=!0);for(var u=e._queue;l>0;){var d=u[0],h=Math.min(l,d.byteLength),f=t.byteOffset+t.bytesFilled;a(t.buffer,f,d.buffer,d.byteOffset,h),d.byteLength===h?u.shift():(d.byteOffset+=h,d.byteLength-=h),e._queueTotalSize-=h,we(e,h,t),l-=h}return!1===c&&(y(0===e._queueTotalSize,"queue must be empty"),y(t.bytesFilled>0),y(t.bytesFilled<t.elementSize)),c}function we(e,t,i){y(0===e._pendingPullIntos.length||e._pendingPullIntos[0]===i),ke(e),i.bytesFilled+=t}function Ae(e){y("readable"===e._controlledReadableStream._state),0===e._queueTotalSize&&!0===e._closeRequested?H(e._controlledReadableStream):ve(e)}function ke(e){void 0!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function be(e){for(y(!1===e._closeRequested);e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos[0];!0===Ce(e,t)&&(xe(e),ge(e._controlledReadableStream,t))}}function Ie(e,t){var i=e._pendingPullIntos[0],s=e._controlledReadableStream;if("closed"===s._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(e,t){t.buffer=d(t.buffer),y(0===t.bytesFilled,"bytesFilled must be 0");var i=e._controlledReadableStream;if(!0===Y(i))for(;Q(i)>0;)ge(i,xe(e))}(e,i)}else y("readable"===s._state),function(e,t,i){if(i.bytesFilled+t>i.byteLength)throw new RangeError("bytesWritten out of range");if(we(e,t,i),!(i.bytesFilled<i.elementSize)){xe(e);var s=i.bytesFilled%i.elementSize;if(s>0){var n=i.byteOffset+i.bytesFilled,r=i.buffer.slice(n-s,n);ye(e,r,0,r.byteLength)}i.buffer=d(i.buffer),i.bytesFilled-=s,ge(e._controlledReadableStream,i),be(e)}}(e,t,i)}function xe(e){var t=e._pendingPullIntos.shift();return ke(e),t}function Pe(e,t){var i=e._controlledReadableStream;y("readable"===i._state),me(e),b(e),W(i,t)}function Se(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Te(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}function Le(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Ee(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}function Fe(e,t){y(void 0!==e._closedPromise_resolve),y(void 0!==e._closedPromise_reject),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function Re(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}function Ne(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function Be(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function De(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}},function(e,t,i){var s=i(6),n=i(4),r=i(2);t.TransformStream=s.TransformStream,t.ReadableStream=n.ReadableStream,t.IsReadableStreamDisturbed=n.IsReadableStreamDisturbed,t.ReadableStreamDefaultControllerClose=n.ReadableStreamDefaultControllerClose,t.ReadableStreamDefaultControllerEnqueue=n.ReadableStreamDefaultControllerEnqueue,t.ReadableStreamDefaultControllerError=n.ReadableStreamDefaultControllerError,t.ReadableStreamDefaultControllerGetDesiredSize=n.ReadableStreamDefaultControllerGetDesiredSize,t.AcquireWritableStreamDefaultWriter=r.AcquireWritableStreamDefaultWriter,t.IsWritableStream=r.IsWritableStream,t.IsWritableStreamLocked=r.IsWritableStreamLocked,t.WritableStream=r.WritableStream,t.WritableStreamAbort=r.WritableStreamAbort,t.WritableStreamDefaultControllerError=r.WritableStreamDefaultControllerError,t.WritableStreamDefaultWriterCloseWithErrorPropagation=r.WritableStreamDefaultWriterCloseWithErrorPropagation,t.WritableStreamDefaultWriterRelease=r.WritableStreamDefaultWriterRelease,t.WritableStreamDefaultWriterWrite=r.WritableStreamDefaultWriterWrite},function(e,t,i){var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}();function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=i(1).assert,a=i(0),o=a.InvokeOrNoop,l=a.PromiseInvokeOrPerformFallback,c=a.PromiseInvokeOrNoop,u=a.typeIsObject,d=i(4),h=d.ReadableStream,f=d.ReadableStreamDefaultControllerClose,p=d.ReadableStreamDefaultControllerEnqueue,v=d.ReadableStreamDefaultControllerError,m=d.ReadableStreamDefaultControllerGetDesiredSize,g=i(2),_=g.WritableStream,y=g.WritableStreamDefaultControllerError;function C(e,t){if(!0===e._errored)throw new TypeError("TransformStream is already errored");if(!0===e._readableClosed)throw new TypeError("Readable side is already closed");var i=e._readableController;try{p(i,t)}catch(t){throw e._readableClosed=!0,A(e,t),e._storedError}!0===m(i)<=0&&!1===e._backpressure&&I(e,!0)}function w(e){r(!1===e._errored),r(!1===e._readableClosed);try{f(e._readableController)}catch(e){r(!1)}e._readableClosed=!0}function A(e,t){!1===e._errored&&k(e,t)}function k(e,t){r(!1===e._errored),e._errored=!0,e._storedError=t,!1===e._writableDone&&y(e._writableController,t),!1===e._readableClosed&&v(e._readableController,t)}function b(e){return r(void 0!==e._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),!1===e._backpressure?Promise.resolve():(r(!0===e._backpressure,"_backpressure should have been initialized"),e._backpressureChangePromise)}function I(e,t){r(e._backpressure!==t,"TransformStreamSetBackpressure() should be called only when backpressure is changed"),void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(t),e._backpressureChangePromise=new Promise(function(t){e._backpressureChangePromise_resolve=t}),e._backpressureChangePromise.then(function(e){r(e!==t,"_backpressureChangePromise should be fulfilled only when backpressure is changed")}),e._backpressure=t}function x(e,t){return C(t._controlledTransformStream,e),Promise.resolve()}function P(e){return!!u(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function S(e){return!!u(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}var T=function(){function e(t,i){n(this,e),this._transformStream=t,this._startPromise=i}return s(e,[{key:"start",value:function(e){var t=this._transformStream;return t._writableController=e,this._startPromise.then(function(){return b(t)})}},{key:"write",value:function(e){return function(e,t){r(!1===e._errored),r(!1===e._transforming),r(!1===e._backpressure),e._transforming=!0;var i=e._transformer,s=e._transformStreamController;return l(i,"transform",[t,s],x,[t,s]).then(function(){return e._transforming=!1,b(e)},function(t){return A(e,t),Promise.reject(t)})}(this._transformStream,e)}},{key:"abort",value:function(){var e=this._transformStream;e._writableDone=!0,k(e,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var e=this._transformStream;return r(!1===e._transforming),e._writableDone=!0,c(e._transformer,"flush",[e._transformStreamController]).then(function(){return!0===e._errored?Promise.reject(e._storedError):(!1===e._readableClosed&&w(e),Promise.resolve())}).catch(function(t){return A(e,t),Promise.reject(e._storedError)})}}]),e}(),L=function(){function e(t,i){n(this,e),this._transformStream=t,this._startPromise=i}return s(e,[{key:"start",value:function(e){var t=this._transformStream;return t._readableController=e,this._startPromise.then(function(){return r(void 0!==t._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),!0===t._backpressure?Promise.resolve():(r(!1===t._backpressure,"_backpressure should have been initialized"),t._backpressureChangePromise)})}},{key:"pull",value:function(){var e=this._transformStream;return r(!0===e._backpressure,"pull() should be never called while _backpressure is false"),r(void 0!==e._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),I(e,!1),e._backpressureChangePromise}},{key:"cancel",value:function(){var e=this._transformStream;e._readableClosed=!0,k(e,new TypeError("Readable side canceled"))}}]),e}(),E=function(){function e(t){if(n(this,e),!1===S(t))throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==t._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=t}return s(e,[{key:"enqueue",value:function(e){if(!1===P(this))throw R("enqueue");C(this._controlledTransformStream,e)}},{key:"close",value:function(){if(!1===P(this))throw R("close");!function(e){if(!0===e._errored)throw new TypeError("TransformStream is already errored");if(!0===e._readableClosed)throw new TypeError("Readable side is already closed");w(e)}(this._controlledTransformStream)}},{key:"error",value:function(e){if(!1===P(this))throw R("error");!function(e,t){if(!0===e._errored)throw new TypeError("TransformStream is already errored");k(e,t)}(this._controlledTransformStream,e)}},{key:"desiredSize",get:function(){if(!1===P(this))throw R("desiredSize");var e=this._controlledTransformStream._readableController;return m(e)}}]),e}(),F=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this._transformer=t;var i=t.readableStrategy,s=t.writableStrategy;this._transforming=!1,this._errored=!1,this._storedError=void 0,this._writableController=void 0,this._readableController=void 0,this._transformStreamController=void 0,this._writableDone=!1,this._readableClosed=!1,this._backpressure=void 0,this._backpressureChangePromise=void 0,this._backpressureChangePromise_resolve=void 0,this._transformStreamController=new E(this);var a=void 0,l=new Promise(function(e){a=e}),c=new L(this,l);this._readable=new h(c,i);var u=new T(this,l);this._writable=new _(u,s),r(void 0!==this._writableController),r(void 0!==this._readableController),I(this,m(this._readableController)<=0);var d=this,f=o(t,"start",[d._transformStreamController]);a(f),l.catch(function(e){!1===d._errored&&(d._errored=!0,d._storedError=e)})}return s(e,[{key:"readable",get:function(){if(!1===S(this))throw N("readable");return this._readable}},{key:"writable",get:function(){if(!1===S(this))throw N("writable");return this._writable}}]),e}();function R(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function N(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}e.exports={TransformStream:F}},function(e,t,i){e.exports=i(5)}]))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.build=t.version=t.setPDFNetworkStreamFactory=t.PDFPageProxy=t.PDFDocumentProxy=t.PDFWorker=t.PDFDataRangeTransport=t.LoopbackPort=t.getDocument=void 0;var n,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=s(0),l=s(24),c=s(118),u=s(58),d=s(119),h=s(18),f=(n=h)&&n.__esModule?n:{default:n},p=s(59),v=s(121),m=s(123),g=s(124);var _=65536,y=!1,C=void 0,w="undefined"!=typeof document&&document.currentScript?document.currentScript.src:null,A=null,k=!1;"undefined"==typeof window?(y=!0,k=!0):k=!0,"undefined"!=typeof requirejs&&requirejs.toUrl&&(C=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));var b,I="undefined"!=typeof requirejs&&requirejs.load;A=k?function(e){i.e(0).then(function(){var t;t=i("e9uu"),e(t.WorkerMessageHandler)}.bind(null,i)).catch(i.oe)}:I?function(e){requirejs(["pdfjs-dist/build/pdf.worker"],function(t){e(t.WorkerMessageHandler)})}:null;var x=function(){var e=0;function t(){this._capability=(0,o.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return t.prototype={get promise(){return this._capability.promise},destroy:function(){var e=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)})},then:function(e,t){return this.promise.then.apply(this.promise,arguments)}},t}(),P=function(){function e(e,t){this.length=e,this.initialData=t,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._readyCapability=(0,o.createPromiseCapability)()}return e.prototype={addRangeListener:function(e){this._rangeListeners.push(e)},addProgressListener:function(e){this._progressListeners.push(e)},addProgressiveReadListener:function(e){this._progressiveReadListeners.push(e)},onDataRange:function(e,t){for(var i=this._rangeListeners,s=0,n=i.length;s<n;++s)i[s](e,t)},onDataProgress:function(e){var t=this;this._readyCapability.promise.then(function(){for(var i=t._progressListeners,s=0,n=i.length;s<n;++s)i[s](e)})},onDataProgressiveRead:function(e){var t=this;this._readyCapability.promise.then(function(){for(var i=t._progressiveReadListeners,s=0,n=i.length;s<n;++s)i[s](e)})},transportReady:function(){this._readyCapability.resolve()},requestDataRange:function(e,t){(0,o.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")},abort:function(){}},e}(),S=function(){function e(e,t,i){this.pdfInfo=e,this.transport=t,this.loadingTask=i}return e.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(e){return this.transport.getPage(e)},getPageIndex:function(e){return this.transport.getPageIndex(e)},getDestinations:function(){return this.transport.getDestinations()},getDestination:function(e){return this.transport.getDestination(e)},getPageLabels:function(){return this.transport.getPageLabels()},getPageMode:function(){return this.transport.getPageMode()},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},destroy:function(){return this.loadingTask.destroy()},get loadingParams(){return this.transport.loadingParams}},e}(),T=function(){function e(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.pageIndex=e,this.pageInfo=t,this.transport=i,this._stats=s?new l.StatTimer:l.DummyStatTimer,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new R,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return e.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get userUnit(){return this.pageInfo.userUnit},get view(){return this.pageInfo.view},getViewport:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new o.PageViewport(this.view,e,t,0,0,i)},getAnnotations:function(e){var t=e&&e.intent||null;return this.annotationsPromise&&this.annotationsIntent===t||(this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,t),this.annotationsIntent=t),this.annotationsPromise},render:function(e){var t=this,i=this._stats;i.time("Overall"),this.pendingCleanup=!1;var s="print"===e.intent?"print":"display",n=e.canvasFactory||new l.DOMCanvasFactory,r=new g.WebGLContext({enable:e.enableWebGL});this.intentStates[s]||(this.intentStates[s]=Object.create(null));var a=this.intentStates[s];a.displayReadyCapability||(a.receivingOperatorList=!0,a.displayReadyCapability=(0,o.createPromiseCapability)(),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1},i.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:s,renderInteractiveForms:!0===e.renderInteractiveForms}));var c=function(e){var s=a.renderTasks.indexOf(u);s>=0&&a.renderTasks.splice(s,1),t.cleanupAfterRender&&(t.pendingCleanup=!0),t._tryCleanup(),e?u.capability.reject(e):u.capability.resolve(),i.timeEnd("Rendering"),i.timeEnd("Overall")},u=new B(c,e,this.objs,this.commonObjs,a.operatorList,this.pageNumber,n,r,this._pdfBug);u.useRequestAnimationFrame="print"!==s,a.renderTasks||(a.renderTasks=[]),a.renderTasks.push(u);var d=u.task;return a.displayReadyCapability.promise.then(function(e){t.pendingCleanup?c():(i.time("Rendering"),u.initializeGraphics(e),u.operatorListChanged())}).catch(c),d},getOperatorList:function(){this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var e,t=this.intentStates.oplist;return t.opListReadCapability||((e={}).operatorListChanged=function(){if(t.operatorList.lastChunk){t.opListReadCapability.resolve(t.operatorList);var i=t.renderTasks.indexOf(e);i>=0&&t.renderTasks.splice(i,1)}},t.receivingOperatorList=!0,t.opListReadCapability=(0,o.createPromiseCapability)(),t.renderTasks=[],t.renderTasks.push(e),t.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:"oplist"})),t.opListReadCapability.promise},streamTextContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:!0===e.normalizeWhitespace,combineTextItems:!0!==e.disableCombineTextItems},{highWaterMark:100,size:function(e){return e.items.length}})},getTextContent:function(e){e=e||{};var t=this.streamTextContent(e);return new Promise(function(e,i){var s=t.getReader(),n={items:[],styles:Object.create(null)};!function t(){s.read().then(function(i){var s=i.value;i.done?e(n):(o.Util.extendObj(n.styles,s.styles),o.Util.appendToArray(n.items,s.items),t())},i)}()})},_destroy:function(){this.destroyed=!0,this.transport.pageCache[this.pageIndex]=null;var e=[];return Object.keys(this.intentStates).forEach(function(t){"oplist"!==t&&this.intentStates[t].renderTasks.forEach(function(t){var i=t.capability.promise.catch(function(){});e.push(i),t.cancel()})},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(e)},cleanup:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.pendingCleanup=!0,this._tryCleanup(e)},_tryCleanup:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.pendingCleanup&&!Object.keys(this.intentStates).some(function(e){var t=this.intentStates[e];return 0!==t.renderTasks.length||t.receivingOperatorList},this)&&(Object.keys(this.intentStates).forEach(function(e){delete this.intentStates[e]},this),this.objs.clear(),this.annotationsPromise=null,e&&this._stats instanceof l.StatTimer&&(this._stats=new l.StatTimer),this.pendingCleanup=!1)},_startRenderPage:function(e,t){var i=this.intentStates[t];i.displayReadyCapability&&i.displayReadyCapability.resolve(e)},_renderPageChunk:function(e,t){var i,s,n=this.intentStates[t];for(i=0,s=e.length;i<s;i++)n.operatorList.fnArray.push(e.fnArray[i]),n.operatorList.argsArray.push(e.argsArray[i]);for(n.operatorList.lastChunk=e.lastChunk,i=0;i<n.renderTasks.length;i++)n.renderTasks[i].operatorListChanged();e.lastChunk&&(n.receivingOperatorList=!1,this._tryCleanup())},get stats(){return this._stats instanceof l.StatTimer?this._stats:null}},e}(),L=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._listeners=[],this._defer=t,this._deferred=Promise.resolve(void 0)}return r(e,[{key:"postMessage",value:function(e,t){var i=this;if(this._defer){var s=new WeakMap,n={data:function e(i){if("object"!==(void 0===i?"undefined":a(i))||null===i)return i;if(s.has(i))return s.get(i);var n,r;if((r=i.buffer)&&(0,o.isArrayBuffer)(r)){var l=t&&t.includes(r);return n=i===r?i:l?new i.constructor(r,i.byteOffset,i.byteLength):new i.constructor(i),s.set(i,n),n}for(var c in n=Array.isArray(i)?[]:{},s.set(i,n),i){for(var u,d=i;!(u=Object.getOwnPropertyDescriptor(d,c));)d=Object.getPrototypeOf(d);void 0!==u.value&&"function"!=typeof u.value&&(n[c]=e(u.value))}return n}(e)};this._deferred.then(function(){i._listeners.forEach(function(e){e.call(this,n)},i)})}else this._listeners.forEach(function(t){t.call(this,{data:e})},this)}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){var i=this._listeners.indexOf(t);this._listeners.splice(i,1)}},{key:"terminate",value:function(){this._listeners=[]}}]),e}(),E=function(){var e=0;function t(){if(p.GlobalWorkerOptions.workerSrc)return p.GlobalWorkerOptions.workerSrc;if(void 0!==C)return C;if(w)return w.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2");throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function i(){return"undefined"==typeof window?null:window.pdfjsWorker&&window.pdfjsWorker.WorkerMessageHandler}var s=void 0;var n=new WeakMap;function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,i=void 0===t?null:t,s=e.port,r=void 0===s?null:s,a=e.postMessageTransfers,l=void 0===a||a,c=e.verbosity,u=void 0===c?null:c;if(r&&n.has(r))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=i,this.destroyed=!1,this.postMessageTransfers=!1!==l,this.verbosity=(0,o.isNum)(u)?u:(0,o.getVerbosityLevel)(),this._readyCapability=(0,o.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,r)return n.set(r,this),void this._initializeFromPort(r);this._initialize()}return r.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initializeFromPort:function(e){this._port=e,this._messageHandler=new o.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()},_initialize:function(){var e,s,n=this;if("undefined"!=typeof Worker&&!y&&!i()){var r=t();try{(0,o.isSameOrigin)(window.location.href,r)||(e=new URL(r,window.location).href,s="importScripts('"+e+"');",r=URL.createObjectURL(new Blob([s])));var a=new Worker(r),l=new o.MessageHandler("main","worker",a),c=function(){a.removeEventListener("error",u),l.destroy(),a.terminate(),n.destroyed?n._readyCapability.reject(new Error("Worker was destroyed")):n._setupFakeWorker()},u=function(){n._webWorker||c()};a.addEventListener("error",u),l.on("test",function(e){(a.removeEventListener("error",u),n.destroyed)?c():e&&e.supportTypedArray?(n._messageHandler=l,n._port=a,n._webWorker=a,e.supportTransfers||(n.postMessageTransfers=!1),n._readyCapability.resolve(),l.send("configure",{verbosity:n.verbosity})):(n._setupFakeWorker(),l.destroy(),a.terminate())}),l.on("ready",function(e){if(a.removeEventListener("error",u),n.destroyed)c();else try{d()}catch(e){n._setupFakeWorker()}});var d=function(){var e=new Uint8Array([n.postMessageTransfers?255:0]);try{l.send("test",e,[e.buffer])}catch(t){(0,o.info)("Cannot use postMessage transfers"),e[0]=0,l.send("test",e)}};return void d()}catch(e){(0,o.info)("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function(){var n=this;y||((0,o.warn)("Setting up fake worker."),y=!0),function(){if(s)return s.promise;s=(0,o.createPromiseCapability)();var e=i();return e?(s.resolve(e),s.promise):((A||function(e){o.Util.loadScript(t(),function(){e(window.pdfjsWorker.WorkerMessageHandler)})})(s.resolve),s.promise)}().then(function(t){if(n.destroyed)n._readyCapability.reject(new Error("Worker was destroyed"));else{var i=Uint8Array!==Float32Array,s=new L(i);n._port=s;var r="fake"+e++,a=new o.MessageHandler(r+"_worker",r,s);t.setup(a,s);var l=new o.MessageHandler(r,r+"_worker",s);n._messageHandler=l,n._readyCapability.resolve()}})},destroy:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),n.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},r.fromPort=function(e){return n.has(e.port)?n.get(e.port):new r(e)},r.getWorkerSrc=function(){return t()},r}(),F=function(){function e(e,t,i,s,n){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new R,this.fontLoader=new c.FontLoader(t.docId),this._params=s,this.CMapReaderFactory=new n({baseUrl:s.cMapUrl,isCompressed:s.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,o.createPromiseCapability)(),this.setupMessageHandler()}return e.prototype={destroy:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,o.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t=[];this.pageCache.forEach(function(e){e&&t.push(e._destroy())}),this.pageCache=[],this.pagePromises=[];var i=this.messageHandler.sendWithPromise("Terminate",null);return t.push(i),Promise.all(t).then(function(){e.fontLoader.clear(),e._networkStream&&e._networkStream.cancelAllRequests(),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise},setupMessageHandler:function(){var e=this.messageHandler,t=this.loadingTask;e.on("GetReader",function(e,t){var i=this;(0,o.assert)(this._networkStream),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=function(e){i._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=function(){i._fullReader.read().then(function(e){var i=e.value;e.done?t.close():((0,o.assert)((0,o.isArrayBuffer)(i)),t.enqueue(new Uint8Array(i),1,[i]))}).catch(function(e){t.error(e)})},t.onCancel=function(e){i._fullReader.cancel(e)}},this),e.on("ReaderHeadersReady",function(e){var t=this,i=(0,o.createPromiseCapability)(),s=this._fullReader;return s.headersReady.then(function(){if(!s.isStreamingSupported||!s.isRangeSupported){if(t._lastProgress){var e=t.loadingTask;e.onProgress&&e.onProgress(t._lastProgress)}s.onProgress=function(e){var i=t.loadingTask;i.onProgress&&i.onProgress({loaded:e.loaded,total:e.total})}}i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise},this),e.on("GetRangeReader",function(e,t){(0,o.assert)(this._networkStream);var i=this._networkStream.getRangeReader(e.begin,e.end);t.onPull=function(){i.read().then(function(e){var i=e.value;e.done?t.close():((0,o.assert)((0,o.isArrayBuffer)(i)),t.enqueue(new Uint8Array(i),1,[i]))}).catch(function(e){t.error(e)})},t.onCancel=function(e){i.cancel(e)}},this),e.on("GetDoc",function(e){var t=e.pdfInfo;this.numPages=t.numPages;var i=this.loadingTask,s=new S(t,this,i);this.pdfDocument=s,i._capability.resolve(s)},this),e.on("PasswordRequest",function(e){var i=this;if(this._passwordCapability=(0,o.createPromiseCapability)(),t.onPassword){t.onPassword(function(e){i._passwordCapability.resolve({password:e})},e.code)}else this._passwordCapability.reject(new o.PasswordException(e.message,e.code));return this._passwordCapability.promise},this),e.on("PasswordException",function(e){t._capability.reject(new o.PasswordException(e.message,e.code))},this),e.on("InvalidPDF",function(e){this.loadingTask._capability.reject(new o.InvalidPDFException(e.message))},this),e.on("MissingPDF",function(e){this.loadingTask._capability.reject(new o.MissingPDFException(e.message))},this),e.on("UnexpectedResponse",function(e){this.loadingTask._capability.reject(new o.UnexpectedResponseException(e.message,e.status))},this),e.on("UnknownError",function(e){this.loadingTask._capability.reject(new o.UnknownErrorException(e.message,e.details))},this),e.on("DataLoaded",function(e){this.downloadInfoCapability.resolve(e)},this),e.on("PDFManagerReady",function(e){},this),e.on("StartRenderPage",function(e){if(!this.destroyed){var t=this.pageCache[e.pageIndex];t._stats.timeEnd("Page Request"),t._startRenderPage(e.transparency,e.intent)}},this),e.on("RenderPageChunk",function(e){this.destroyed||this.pageCache[e.pageIndex]._renderPageChunk(e.operatorList,e.intent)},this),e.on("commonobj",function(e){var t=this;if(!this.destroyed){var i=e[0],s=e[1];if(!this.commonObjs.hasData(i))switch(s){case"Font":var n=e[2],r=this._params;if("error"in n){var a=n.error;(0,o.warn)("Error during font loading: "+a),this.commonObjs.resolve(i,a);break}var l=null;r.pdfBug&&f.default.FontInspector&&f.default.FontInspector.enabled&&(l={registerFont:function(e,t){f.default.FontInspector.fontAdded(e,t)}});var u=new c.FontFaceObject(n,{isEvalSupported:r.isEvalSupported,disableFontFace:r.disableFontFace,fontRegistry:l});this.fontLoader.bind([u],function(e){t.commonObjs.resolve(i,u)});break;case"FontPath":this.commonObjs.resolve(i,e[2]);break;default:throw new Error("Got unknown common object type "+s)}}},this),e.on("obj",function(e){if(!this.destroyed){var t,i=e[0],s=e[1],n=e[2],r=this.pageCache[s];if(!r.objs.hasData(i))switch(n){case"JpegStream":return t=e[3],new Promise(function(e,i){var s=new Image;s.onload=function(){e(s)},s.onerror=function(){i(new Error("Error during JPEG image loading"))},s.src=t}).then(function(e){r.objs.resolve(i,e)});case"Image":t=e[3],r.objs.resolve(i,t);t&&"data"in t&&t.data.length>8e6&&(r.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type "+n)}}},this),e.on("DocProgress",function(e){if(!this.destroyed){var t=this.loadingTask;t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}},this),e.on("PageError",function(e){if(!this.destroyed){var t=this.pageCache[e.pageNum-1].intentStates[e.intent];if(!t.displayReadyCapability)throw new Error(e.error);if(t.displayReadyCapability.reject(e.error),t.operatorList){t.operatorList.lastChunk=!0;for(var i=0;i<t.renderTasks.length;i++)t.renderTasks[i].operatorListChanged()}}},this),e.on("UnsupportedFeature",function(e){if(!this.destroyed){var t=this.loadingTask;t.onUnsupportedFeature&&t.onUnsupportedFeature(e.featureId)}},this),e.on("JpegDecode",function(e){if(this.destroyed)return Promise.reject(new Error("Worker was destroyed"));if("undefined"==typeof document)return Promise.reject(new Error('"document" is not defined.'));var t=e[0],i=e[1];return 3!==i&&1!==i?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise(function(e,s){var n=new Image;n.onload=function(){var t=n.width,s=n.height,r=t*s,a=4*r,o=new Uint8Array(r*i),l=document.createElement("canvas");l.width=t,l.height=s;var c=l.getContext("2d");c.drawImage(n,0,0);var u,d,h=c.getImageData(0,0,t,s).data;if(3===i)for(u=0,d=0;u<a;u+=4,d+=3)o[d]=h[u],o[d+1]=h[u+1],o[d+2]=h[u+2];else if(1===i)for(u=0,d=0;u<a;u+=4,d++)o[d]=h[u];e({data:o,width:t,height:s})},n.onerror=function(){s(new Error("JpegDecode failed to load image"))},n.src=t})},this),e.on("FetchBuiltInCMap",function(e){return this.destroyed?Promise.reject(new Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:e.name})},this)},getData:function(){return this.messageHandler.sendWithPromise("GetData",null)},getPage:function(e){var t=this;if(!Number.isInteger(e)||e<=0||e>this.numPages)return Promise.reject(new Error("Invalid page request"));var i=e-1;if(i in this.pagePromises)return this.pagePromises[i];var s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(function(e){if(t.destroyed)throw new Error("Transport destroyed");var s=new T(i,e,t,t._params.pdfBug);return t.pageCache[i]=s,s});return this.pagePromises[i]=s,s},getPageIndex:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch(function(e){return Promise.reject(new Error(e))})},getAnnotations:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getDestination:function(e){return this.messageHandler.sendWithPromise("GetDestination",{id:e})},getPageLabels:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)},getPageMode:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){var e=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(t){return{info:t[0],metadata:t[1]?new v.Metadata(t[1]):null,contentDispositionFilename:e._fullReader?e._fullReader.filename:null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",null)},startCleanup:function(){var e=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var t=0,i=e.pageCache.length;t<i;t++){var s=e.pageCache[t];s&&s.cleanup()}e.commonObjs.clear(),e.fontLoader.clear()})},get loadingParams(){var e=this._params;return(0,o.shadow)(this,"loadingParams",{disableRange:e.disableRange,disableStream:e.disableStream,disableAutoFetch:e.disableAutoFetch,disableCreateObjectURL:e.disableCreateObjectURL})}},e}(),R=function(){function e(){this.objs=Object.create(null)}return e.prototype={ensureObj:function(e){if(this.objs[e])return this.objs[e];var t={capability:(0,o.createPromiseCapability)(),data:null,resolved:!1};return this.objs[e]=t,t},get:function(e,t){if(t)return this.ensureObj(e).capability.promise.then(t),null;var i=this.objs[e];if(!i||!i.resolved)throw new Error("Requesting object that isn't resolved yet "+e);return i.data},resolve:function(e,t){var i=this.ensureObj(e);i.resolved=!0,i.data=t,i.capability.resolve(t)},isResolved:function(e){var t=this.objs;return!!t[e]&&t[e].resolved},hasData:function(e){return this.isResolved(e)},getData:function(e){var t=this.objs;return t[e]&&t[e].resolved?t[e].data:null},clear:function(){this.objs=Object.create(null)}},e}(),N=function(){function e(e){this._internalRenderTask=e,this.onContinue=null}return e.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function(){this._internalRenderTask.cancel()},then:function(e,t){return this.promise.then.apply(this.promise,arguments)}},e}(),B=function(){var e=new WeakMap;function t(e,t,i,s,n,r,a,l){var c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];this.callback=e,this.params=t,this.objs=i,this.commonObjs=s,this.operatorListIdx=null,this.operatorList=n,this.pageNumber=r,this.canvasFactory=a,this.webGLContext=l,this._pdfBug=c,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this.useRequestAnimationFrame=!1,this.cancelled=!1,this.capability=(0,o.createPromiseCapability)(),this.task=new N(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}return t.prototype={initializeGraphics:function(t){if(this._canvas){if(e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");e.set(this._canvas,this)}if(!this.cancelled){this._pdfBug&&f.default.StepperManager&&f.default.StepperManager.enabled&&(this.stepper=f.default.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var i=this.params;this.gfx=new d.CanvasGraphics(i.canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,i.imageLayer),this.gfx.beginDrawing({transform:i.transform,viewport:i.viewport,transparency:t,background:i.background}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1,this.cancelled=!0,this._canvas&&e.delete(this._canvas),this.callback(new l.RenderingCancelledException("Rendering cancelled, page "+this.pageNumber,"canvas"))},operatorListChanged:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)},_continue:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())},_scheduleNext:function(){this.useRequestAnimationFrame&&"undefined"!=typeof window?window.requestAnimationFrame(this._nextBound):Promise.resolve(void 0).then(this._nextBound)},_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&e.delete(this._canvas),this.callback())))}},t}();t.version="2.0.489",t.build="7d7bc80e",t.getDocument=function(e){var t,i=new x;if("string"==typeof e)t={url:e};else if((0,o.isArrayBuffer)(e))t={data:e};else if(e instanceof P)t={range:e};else{if("object"!==(void 0===e?"undefined":a(e)))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=e}var s=Object.create(null),n=null,r=null,c=l.DOMCMapReaderFactory;for(var d in t)if("url"!==d||"undefined"==typeof window)if("range"!==d)if("worker"!==d)if("data"!==d||t[d]instanceof Uint8Array)"CMapReaderFactory"!==d?s[d]=t[d]:c=t[d];else{var h=t[d];if("string"==typeof h)s[d]=(0,o.stringToBytes)(h);else if("object"!==(void 0===h?"undefined":a(h))||null===h||isNaN(h.length)){if(!(0,o.isArrayBuffer)(h))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");s[d]=new Uint8Array(h)}else s[d]=new Uint8Array(h)}else r=t[d];else n=t[d];else s[d]=new URL(t[d],window.location).href;s.rangeChunkSize=s.rangeChunkSize||_,s.ignoreErrors=!0!==s.stopAtErrors,s.pdfBug=!0===s.pdfBug;var f=Object.values(o.NativeImageDecoding);if(void 0!==s.nativeImageDecoderSupport&&f.includes(s.nativeImageDecoderSupport)||(s.nativeImageDecoderSupport=o.NativeImageDecoding.DECODE),Number.isInteger(s.maxImageSize)||(s.maxImageSize=-1),"boolean"!=typeof s.isEvalSupported&&(s.isEvalSupported=!0),"boolean"!=typeof s.disableFontFace&&(s.disableFontFace=!1),"boolean"!=typeof s.disableRange&&(s.disableRange=u.apiCompatibilityParams.disableRange||!1),"boolean"!=typeof s.disableStream&&(s.disableStream=u.apiCompatibilityParams.disableStream||!1),"boolean"!=typeof s.disableAutoFetch&&(s.disableAutoFetch=!1),"boolean"!=typeof s.disableCreateObjectURL&&(s.disableCreateObjectURL=u.apiCompatibilityParams.disableCreateObjectURL||!1),(0,o.setVerbosityLevel)(s.verbosity),!r){var v={postMessageTransfers:s.postMessageTransfers,verbosity:s.verbosity},g=p.GlobalWorkerOptions.workerPort;g?(v.port=g,r=E.fromPort(v)):r=new E(v),i._worker=r}var y=i.docId;return r.promise.then(function(){if(i.destroyed)throw new Error("Loading aborted");return function(e,t,i,s){return e.destroyed?Promise.reject(new Error("Worker was destroyed")):(i&&(t.length=i.length,t.initialData=i.initialData),e.messageHandler.sendWithPromise("GetDocRequest",{docId:s,apiVersion:"2.0.489",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,disableCreateObjectURL:t.disableCreateObjectURL,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,nativeImageDecoderSupport:t.nativeImageDecoderSupport,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported}).then(function(t){if(e.destroyed)throw new Error("Worker was destroyed");return t}))}(r,s,n,y).then(function(e){if(i.destroyed)throw new Error("Loading aborted");var t=void 0;n?t=new m.PDFDataTransportStream({length:s.length,initialData:s.initialData,disableRange:s.disableRange,disableStream:s.disableStream},n):s.data||(t=b({url:s.url,length:s.length,httpHeaders:s.httpHeaders,withCredentials:s.withCredentials,rangeChunkSize:s.rangeChunkSize,disableRange:s.disableRange,disableStream:s.disableStream}));var a=new o.MessageHandler(y,e,r.port);a.postMessageTransfers=r.postMessageTransfers;var l=new F(a,i,t,s,c);i._transport=l,a.send("Ready",null)})}).catch(i._capability.reject),i},t.LoopbackPort=L,t.PDFDataRangeTransport=P,t.PDFWorker=E,t.PDFDocumentProxy=S,t.PDFPageProxy=T,t.setPDFNetworkStreamFactory=function(e){b=e},t.version="2.0.489",t.build="7d7bc80e"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var s=i(0);function n(e){this.docId=e,this.styleElement=null,this.nativeFontFaces=[],this.loadTestFontId=0,this.loadingContext={requests:[],nextRequestId:0}}n.prototype={insertRule:function(e){var t=this.styleElement;t||((t=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(t));var i=t.sheet;i.insertRule(e,i.cssRules.length)},clear:function(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null),this.nativeFontFaces.forEach(function(e){document.fonts.delete(e)}),this.nativeFontFaces.length=0}};Object.defineProperty(n.prototype,"loadTestFont",{get:function(){return(0,s.shadow)(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},configurable:!0}),n.prototype.addNativeFontFace=function(e){this.nativeFontFaces.push(e),document.fonts.add(e)},n.prototype.bind=function(e,t){for(var i=[],r=[],a=[],o=function(e){return e.loaded.catch(function(t){(0,s.warn)('Failed to load font "'+e.family+'": '+t)})},l=n.isFontLoadingAPISupported&&!n.isSyncFontLoadingSupported,c=0,u=e.length;c<u;c++){var d=e[c];if(!d.attached&&!1!==d.loading)if(d.attached=!0,l){var h=d.createNativeFontFace();h&&(this.addNativeFontFace(h),a.push(o(h)))}else{var f=d.createFontFaceRule();f&&(this.insertRule(f),i.push(f),r.push(d))}}var p=this.queueLoadingCallback(t);l?Promise.all(a).then(function(){p.complete()}):i.length>0&&!n.isSyncFontLoadingSupported?this.prepareFontLoadEvent(i,r,p):p.complete()},n.prototype.queueLoadingCallback=function(e){var t=this.loadingContext,i={id:"pdfjs-font-loading-"+t.nextRequestId++,complete:function(){for((0,s.assert)(!i.end,"completeRequest() cannot be called twice"),i.end=Date.now();t.requests.length>0&&t.requests[0].end;){var e=t.requests.shift();setTimeout(e.callback,0)}},callback:e,started:Date.now()};return t.requests.push(i),i},n.prototype.prepareFontLoadEvent=function(e,t,i){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function r(e,t,i,s){return e.substr(0,t)+s+e.substr(t+i)}var a,o,l=document.createElement("canvas");l.width=1,l.height=1;var c=l.getContext("2d"),u=0;var d="lt"+Date.now()+this.loadTestFontId++,h=this.loadTestFont,f=n(h=r(h,976,d.length,d),16);for(a=0,o=d.length-3;a<o;a+=4)f=f-1482184792+n(d,a)|0;a<d.length&&(f=f-1482184792+n(d+"XXX",a)|0),h=r(h,16,4,(0,s.string32)(f));var p='@font-face { font-family:"'+d+'";src:'+("url(data:font/opentype;base64,"+btoa(h)+");")+"}";this.insertRule(p);var v=[];for(a=0,o=t.length;a<o;a++)v.push(t[a].loadedName);v.push(d);var m=document.createElement("div");for(m.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),a=0,o=v.length;a<o;++a){var g=document.createElement("span");g.textContent="Hi",g.style.fontFamily=v[a],m.appendChild(g)}document.body.appendChild(m),function e(t,i){if(++u>30)return(0,s.warn)("Load test font never loaded."),void i();c.font="30px "+t,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?i():setTimeout(e.bind(null,t,i))}(d,function(){document.body.removeChild(m),i.complete()})},n.isFontLoadingAPISupported="undefined"!=typeof document&&!!document.fonts;Object.defineProperty(n,"isSyncFontLoadingSupported",{get:function(){return(0,s.shadow)(n,"isSyncFontLoadingSupported",function(){if("undefined"==typeof navigator)return!0;var e=!1,t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);return t&&t[1]>=14&&(e=!0),e}())},enumerable:!0,configurable:!0});var r={get value(){return(0,s.shadow)(this,"value",(0,s.isEvalSupported)())}},a=function(){function e(e,t){var i=t.isEvalSupported,s=void 0===i||i,n=t.disableFontFace,r=void 0!==n&&n,a=t.fontRegistry,o=void 0===a?null:a;for(var l in this.compiledGlyphs=Object.create(null),e)this[l]=e[l];this.isEvalSupported=!1!==s,this.disableFontFace=!0===r,this.fontRegistry=o}return e.prototype={createNativeFontFace:function(){if(!this.data||this.disableFontFace)return null;var e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e},createFontFaceRule:function(){if(!this.data||this.disableFontFace)return null;var e=(0,s.bytesToString)(new Uint8Array(this.data)),t=this.loadedName,i="url(data:"+this.mimetype+";base64,"+btoa(e)+");",n='@font-face { font-family:"'+t+'";src:'+i+"}";return this.fontRegistry&&this.fontRegistry.registerFont(this,i),n},getPathGenerator:function(e,t){if(!(t in this.compiledGlyphs)){var i,s,n,a=e.get(this.loadedName+"_path_"+t);if(this.isEvalSupported&&r.value){var o,l="";for(s=0,n=a.length;s<n;s++)o=void 0!==(i=a[s]).args?i.args.join(","):"",l+="c."+i.cmd+"("+o+");\n";this.compiledGlyphs[t]=new Function("c","size",l)}else this.compiledGlyphs[t]=function(e,t){for(s=0,n=a.length;s<n;s++)"scale"===(i=a[s]).cmd&&(i.args=[t,-t]),e[i.cmd].apply(e,i.args)}}return this.compiledGlyphs[t]}},e}();t.FontFaceObject=a,t.FontLoader=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var s=i(0),n=i(120),r=16,a={get value(){return(0,s.shadow)(a,"value",(0,s.isLittleEndian)())}};function o(e){e.mozCurrentTransform||(e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[],Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],i=e[1],s=e[2],n=e[3],r=e[4],a=e[5],o=t*n-i*s,l=i*s-t*n;return[n/o,i/l,s/l,t/o,(n*r-s*a)/l,(i*r-t*a)/o]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var i=this._transformMatrix;i[4]=i[0]*e+i[2]*t+i[4],i[5]=i[1]*e+i[3]*t+i[5],this._originalTranslate(e,t)},e.scale=function(e,t){var i=this._transformMatrix;i[0]=i[0]*e,i[1]=i[1]*e,i[2]=i[2]*t,i[3]=i[3]*t,this._originalScale(e,t)},e.transform=function(t,i,s,n,r,a){var o=this._transformMatrix;this._transformMatrix=[o[0]*t+o[2]*i,o[1]*t+o[3]*i,o[0]*s+o[2]*n,o[1]*s+o[3]*n,o[0]*r+o[2]*a+o[4],o[1]*r+o[3]*a+o[5]],e._originalTransform(t,i,s,n,r,a)},e.setTransform=function(t,i,s,n,r,a){this._transformMatrix=[t,i,s,n,r,a],e._originalSetTransform(t,i,s,n,r,a)},e.rotate=function(e){var t=Math.cos(e),i=Math.sin(e),s=this._transformMatrix;this._transformMatrix=[s[0]*t+s[2]*i,s[1]*t+s[3]*i,s[0]*-i+s[2]*t,s[1]*-i+s[3]*t,s[4],s[5]],this._originalRotate(e)})}var l=function(){function e(e){this.canvasFactory=e,this.cache=Object.create(null)}return e.prototype={getCanvas:function(e,t,i,s){var n;return void 0!==this.cache[e]?(n=this.cache[e],this.canvasFactory.reset(n,t,i),n.context.setTransform(1,0,0,1,0,0)):(n=this.canvasFactory.create(t,i),this.cache[e]=n),s&&o(n.context),n},clear:function(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}},e}();var c=function(){function e(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=s.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=s.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),u=function(){function e(e,t,i,s,n,r){this.ctx=e,this.current=new c,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=s,this.webGLContext=n,this.imageLayer=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new l(this.canvasFactory),e&&o(e),this.cachedGetSinglePixelWidth=null}function t(e,t){if("undefined"!=typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var i,n,o,l,c,u=t.height,d=t.width,h=u%r,f=(u-h)/r,p=0===h?f:f+1,v=e.createImageData(d,r),m=0,g=t.data,_=v.data;if(t.kind===s.ImageKind.GRAYSCALE_1BPP){var y=g.byteLength,C=new Uint32Array(_.buffer,0,_.byteLength>>2),w=C.length,A=d+7>>3,k=4294967295,b=a.value?4278190080:255;for(n=0;n<p;n++){for(l=n<f?r:h,i=0,o=0;o<l;o++){for(var I=y-m,x=0,P=I>A?d:8*I-7,S=-8&P,T=0,L=0;x<S;x+=8)L=g[m++],C[i++]=128&L?k:b,C[i++]=64&L?k:b,C[i++]=32&L?k:b,C[i++]=16&L?k:b,C[i++]=8&L?k:b,C[i++]=4&L?k:b,C[i++]=2&L?k:b,C[i++]=1&L?k:b;for(;x<P;x++)0===T&&(L=g[m++],T=128),C[i++]=L&T?k:b,T>>=1}for(;i<w;)C[i++]=0;e.putImageData(v,0,n*r)}}else if(t.kind===s.ImageKind.RGBA_32BPP){for(o=0,c=d*r*4,n=0;n<f;n++)_.set(g.subarray(m,m+c)),m+=c,e.putImageData(v,0,o),o+=r;n<p&&(c=d*h*4,_.set(g.subarray(m,m+c)),e.putImageData(v,0,o))}else{if(t.kind!==s.ImageKind.RGB_24BPP)throw new Error("bad image kind: "+t.kind);for(c=d*(l=r),n=0;n<p;n++){for(n>=f&&(c=d*(l=h)),i=0,o=c;o--;)_[i++]=g[m++],_[i++]=g[m++],_[i++]=g[m++],_[i++]=255;e.putImageData(v,0,n*r)}}}}function i(e,t){for(var i=t.height,s=t.width,n=i%r,a=(i-n)/r,o=0===n?a:a+1,l=e.createImageData(s,r),c=0,u=t.data,d=l.data,h=0;h<o;h++){for(var f=h<a?r:n,p=3,v=0;v<f;v++)for(var m=0,g=0;g<s;g++){if(!m){var _=u[c++];m=128}d[p]=_&m?0:255,p+=4,m>>=1}e.putImageData(l,0,h*r)}}function u(e,t){for(var i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],s=0,n=i.length;s<n;s++){var r=i[s];void 0!==e[r]&&(t[r]=e[r])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function d(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function h(e,t,i,s){for(var n=e.length,r=3;r<n;r+=4){var a=e[r];if(0===a)e[r-3]=t,e[r-2]=i,e[r-1]=s;else if(a<255){var o=255-a;e[r-3]=e[r-3]*a+t*o>>8,e[r-2]=e[r-2]*a+i*o>>8,e[r-1]=e[r-1]*a+s*o>>8}}}function f(e,t,i){for(var s=e.length,n=3;n<s;n+=4){var r=i?i[e[n]]:e[n];t[n]=t[n]*r*(1/255)|0}}function p(e,t,i){for(var s=e.length,n=3;n<s;n+=4){var r=77*e[n-3]+152*e[n-2]+28*e[n-1];t[n]=i?t[n]*i[r>>8]>>8:t[n]*r>>16}}function v(e,t,i,s){var n=t.canvas,r=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var a=t.backdrop||null;if(!t.transferMap&&s.isEnabled){var o=s.composeSMask({layer:i.canvas,mask:n,properties:{subtype:t.subtype,backdrop:a}});return e.setTransform(1,0,0,1,0,0),void e.drawImage(o,t.offsetX,t.offsetY)}!function(e,t,i,s,n,r,a){var o,l=!!r,c=l?r[0]:0,u=l?r[1]:0,d=l?r[2]:0;o="Luminosity"===n?p:f;for(var v=Math.min(s,Math.ceil(1048576/i)),m=0;m<s;m+=v){var g=Math.min(v,s-m),_=e.getImageData(0,m,i,g),y=t.getImageData(0,m,i,g);l&&h(_.data,c,u,d),o(_.data,y.data,a),e.putImageData(y,0,m)}}(r,i,n.width,n.height,t.subtype,a,t.transferMap),e.drawImage(n,0,0)}var m=["butt","round","square"],g=["miter","round","bevel"],_={},y={};for(var C in e.prototype={beginDrawing:function(e){var t=e.transform,i=e.viewport,s=e.transparency,n=e.background,r=void 0===n?null:n,a=this.ctx.canvas.width,o=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=r||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,a,o),this.ctx.restore(),s){var l=this.cachedCanvases.getCanvas("transparent",a,o,!0);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),d(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,i.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,i,n){var r=e.argsArray,a=e.fnArray,o=t||0,l=r.length;if(l===o)return o;for(var c,u=l-o>10&&"function"==typeof i,d=u?Date.now()+15:0,h=0,f=this.commonObjs,p=this.objs;;){if(void 0!==n&&o===n.nextBreakPoint)return n.breakIt(o,i),o;if((c=a[o])!==s.OPS.dependency)this[c].apply(this,r[o]);else for(var v=r[o],m=0,g=v.length;m<g;m++){var _=v[m],y="g"===_[0]&&"_"===_[1]?f:p;if(!y.isResolved(_))return y.get(_,i),o}if(++o===l)return o;if(u&&++h>10){if(Date.now()>d)return i(),o;h=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=m[e]},setLineJoin:function(e){this.ctx.lineJoin=g[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var i=this.ctx;void 0!==i.setLineDash&&(i.setLineDash(e),i.lineDashOffset=t)},setRenderingIntent:function(e){},setFlatness:function(e){},setGState:function(e){for(var t=0,i=e.length;t<i;t++){var s=e[t],n=s[0],r=s[1];switch(n){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=s[1];break;case"ca":this.current.fillAlpha=s[1],this.ctx.globalAlpha=s[1];break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=r?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=e.canvas.width,i=e.canvas.height,s="smaskGroupAt"+this.groupLevel,n=this.cachedCanvases.getCanvas(s,t,i,!0),r=this.ctx,a=r.mozCurrentTransform;this.ctx.save();var o=n.context;o.scale(1/e.scaleX,1/e.scaleY),o.translate(-e.offsetX,-e.offsetY),o.transform.apply(o,a),e.startTransformInverse=o.mozCurrentTransformInverse,u(r,o),this.ctx=o,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++},suspendSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),v(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),this.ctx.save(),u(e,this.ctx),this.current.resumeSMaskCtx=e;var t=s.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){var e=this.current.resumeSMaskCtx,t=this.ctx;this.ctx=e,this.groupStack.push(t),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),v(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),u(e,this.ctx);var t=s.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this.cachedGetSinglePixelWidth=null)},transform:function(e,t,i,s,n,r){this.ctx.transform(e,t,i,s,n,r),this.cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var i=this.ctx,n=this.current,r=n.x,a=n.y,o=0,l=0,c=e.length;o<c;o++)switch(0|e[o]){case s.OPS.rectangle:r=t[l++],a=t[l++];var u=t[l++],d=t[l++];0===u&&(u=this.getSinglePixelWidth()),0===d&&(d=this.getSinglePixelWidth());var h=r+u,f=a+d;this.ctx.moveTo(r,a),this.ctx.lineTo(h,a),this.ctx.lineTo(h,f),this.ctx.lineTo(r,f),this.ctx.lineTo(r,a),this.ctx.closePath();break;case s.OPS.moveTo:r=t[l++],a=t[l++],i.moveTo(r,a);break;case s.OPS.lineTo:r=t[l++],a=t[l++],i.lineTo(r,a);break;case s.OPS.curveTo:r=t[l+4],a=t[l+5],i.bezierCurveTo(t[l],t[l+1],t[l+2],t[l+3],r,a),l+=6;break;case s.OPS.curveTo2:i.bezierCurveTo(r,a,t[l],t[l+1],t[l+2],t[l+3]),r=t[l+2],a=t[l+3],l+=4;break;case s.OPS.curveTo3:r=t[l+2],a=t[l+3],i.bezierCurveTo(t[l],t[l+1],r,a,r,a),l+=4;break;case s.OPS.closePath:i.closePath()}n.setCurrentPoint(r,a)},closePath:function(){this.ctx.closePath()},stroke:function(e){e=void 0===e||e;var t=this.ctx,i=this.current.strokeColor;t.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth),t.globalAlpha=this.current.strokeAlpha,i&&i.hasOwnProperty("type")&&"Pattern"===i.type?(t.save(),t.strokeStyle=i.getPattern(t,this),t.stroke(),t.restore()):t.stroke(),e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e=void 0===e||e;var t=this.ctx,i=this.current.fillColor,s=!1;this.current.patternFill&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=i.getPattern(t,this),s=!0),this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill(),s&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=_},eoClip:function(){this.pendingClip=y},beginText:function(){this.current.textMatrix=s.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var i=0;i<e.length;i++){var s=e[i];t.setTransform.apply(t,s.transform),t.translate(s.x,s.y),s.addToPath(t,s.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){var i=this.commonObjs.get(e),n=this.current;if(!i)throw new Error("Can't find font for "+e);if(n.fontMatrix=i.fontMatrix?i.fontMatrix:s.FONT_IDENTITY_MATRIX,0!==n.fontMatrix[0]&&0!==n.fontMatrix[3]||(0,s.warn)("Invalid font matrix for font "+e),t<0?(t=-t,n.fontDirection=-1):n.fontDirection=1,this.current.font=i,this.current.fontSize=t,!i.isType3Font){var r=i.loadedName||"sans-serif",a=i.black?"900":i.bold?"bold":"normal",o=i.italic?"italic":"normal",l='"'+r+'", '+i.fallbackName,c=t<16?16:t>100?100:t;this.current.fontSizeScale=t/c;var u=o+" "+a+" "+c+"px "+l;this.ctx.font=u}},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,i,s,n,r){this.current.textMatrix=[e,t,i,s,n,r],this.current.textMatrixScale=Math.sqrt(e*e+t*t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(e,t,i,n){var r,a=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,d=c&s.TextRenderingMode.FILL_STROKE_MASK,h=!!(c&s.TextRenderingMode.ADD_TO_PATH_FLAG),f=o.patternFill&&l.data;((l.disableFontFace||h||f)&&(r=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||f?(a.save(),a.translate(t,i),a.beginPath(),r(a,u),n&&a.setTransform.apply(a,n),d!==s.TextRenderingMode.FILL&&d!==s.TextRenderingMode.FILL_STROKE||a.fill(),d!==s.TextRenderingMode.STROKE&&d!==s.TextRenderingMode.FILL_STROKE||a.stroke(),a.restore()):(d!==s.TextRenderingMode.FILL&&d!==s.TextRenderingMode.FILL_STROKE||a.fillText(e,t,i),d!==s.TextRenderingMode.STROKE&&d!==s.TextRenderingMode.FILL_STROKE||a.strokeText(e,t,i)),h)&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:a.mozCurrentTransform,x:t,y:i,fontSize:u,addToPath:r})},get isFontSubpixelAAEnabled(){var e=this.canvasFactory.create(10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,i=!1,n=3;n<t.length;n+=4)if(t[n]>0&&t[n]<255){i=!0;break}return(0,s.shadow)(this,"isFontSubpixelAAEnabled",i)},showText:function(e){var t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);var n=t.fontSize;if(0!==n){var r=this.ctx,a=t.fontSizeScale,o=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,d=e.length,h=i.vertical,f=h?1:-1,p=i.defaultVMetrics,v=n*t.fontMatrix[0],m=t.textRenderingMode===s.TextRenderingMode.FILL&&!i.disableFontFace&&!t.patternFill;r.save();var g=void 0;if(t.patternFill){r.save();var _=t.fillColor.getPattern(r,this);g=r.mozCurrentTransform,r.restore(),r.fillStyle=_}r.transform.apply(r,t.textMatrix),r.translate(t.x,t.y+t.textRise),c>0?r.scale(u,-1):r.scale(u,1);var y=t.lineWidth,C=t.textMatrixScale;if(0===C||0===y){var w=t.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;w!==s.TextRenderingMode.STROKE&&w!==s.TextRenderingMode.FILL_STROKE||(this.cachedGetSinglePixelWidth=null,y=.65*this.getSinglePixelWidth())}else y/=C;1!==a&&(r.scale(a,a),y/=a),r.lineWidth=y;var A,k=0;for(A=0;A<d;++A){var b=e[A];if((0,s.isNum)(b))k+=f*b*n/1e3;else{var I,x,P,S,T,L,E,F=!1,R=(b.isSpace?l:0)+o,N=b.fontChar,B=b.accent,D=b.width;if(h)T=b.vmetric||p,L=-(L=b.vmetric?T[1]:.5*D)*v,E=T[2]*v,D=T?-T[0]:D,I=L/a,x=(k+E)/a;else I=k/a,x=0;if(i.remeasure&&D>0){var O=1e3*r.measureText(N).width/n*a;if(D<O&&this.isFontSubpixelAAEnabled){var j=D/O;F=!0,r.save(),r.scale(j,1),I/=j}else D!==O&&(I+=(D-O)/2e3*n/a)}(b.isInFont||i.missingFile)&&(m&&!B?r.fillText(N,I,x):(this.paintChar(N,I,x,g),B&&(P=I+B.offset.x/a,S=x-B.offset.y/a,this.paintChar(B.fontChar,P,S,g)))),k+=D*v+R*c,F&&r.restore()}}h?t.y-=k*u:t.x+=k*u,r.restore()}},showType3Text:function(e){var t,i,n,r,a=this.ctx,o=this.current,l=o.font,c=o.fontSize,u=o.fontDirection,d=l.vertical?1:-1,h=o.charSpacing,f=o.wordSpacing,p=o.textHScale*u,v=o.fontMatrix||s.FONT_IDENTITY_MATRIX,m=e.length;if(!(o.textRenderingMode===s.TextRenderingMode.INVISIBLE)&&0!==c){for(this.cachedGetSinglePixelWidth=null,a.save(),a.transform.apply(a,o.textMatrix),a.translate(o.x,o.y),a.scale(p,u),t=0;t<m;++t)if(i=e[t],(0,s.isNum)(i))r=d*i*c/1e3,this.ctx.translate(r,0),o.x+=r*p;else{var g=(i.isSpace?f:0)+h,_=l.charProcOperatorList[i.operatorListId];if(_)this.processingType3=i,this.save(),a.scale(c,c),a.transform.apply(a,v),this.executeOperatorList(_),this.restore(),n=s.Util.applyTransform([i.width,0],v)[0]*c+g,a.translate(n,0),o.x+=n*p;else(0,s.warn)('Type3 character "'+i.operatorListId+'" is not available.')}a.restore(),this.processingType3=null}},setCharWidth:function(e,t){},setCharWidthAndBounds:function(e,t,i,s,n,r){this.ctx.rect(i,s,n-i,r-s),this.clip(),this.endPath()},getColorN_Pattern:function(t){var i,s=this;if("TilingPattern"===t[0]){var r=t[1],a=this.baseTransform||this.ctx.mozCurrentTransform.slice(),o={createCanvasGraphics:function(t){return new e(t,s.commonObjs,s.objs,s.canvasFactory,s.webGLContext)}};i=new n.TilingPattern(t,r,this.ctx,o,a)}else i=(0,n.getShadingPatternFromIR)(t);return i},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,i){var n=s.Util.makeCssRgb(e,t,i);this.ctx.strokeStyle=n,this.current.strokeColor=n},setFillRGBColor:function(e,t,i){var n=s.Util.makeCssRgb(e,t,i);this.ctx.fillStyle=n,this.current.fillColor=n,this.current.patternFill=!1},shadingFill:function(e){var t=this.ctx;this.save();var i=(0,n.getShadingPatternFromIR)(e);t.fillStyle=i.getPattern(t,this,!0);var r=t.mozCurrentTransformInverse;if(r){var a=t.canvas,o=a.width,l=a.height,c=s.Util.applyTransform([0,0],r),u=s.Util.applyTransform([0,l],r),d=s.Util.applyTransform([o,0],r),h=s.Util.applyTransform([o,l],r),f=Math.min(c[0],u[0],d[0],h[0]),p=Math.min(c[1],u[1],d[1],h[1]),v=Math.max(c[0],u[0],d[0],h[0]),m=Math.max(c[1],u[1],d[1],h[1]);this.ctx.fillRect(f,p,v-f,m-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,s.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,s.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){if(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,Array.isArray(t)&&4===t.length){var i=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],i,s),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(e){this.save();var t=this.ctx;e.isolated||(0,s.info)("TODO: Support non-isolated groups."),e.knockout&&(0,s.warn)("Knockout groups not supported.");var i=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var n=s.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform),r=[0,0,t.canvas.width,t.canvas.height];n=s.Util.intersect(n,r)||[0,0,0,0];var a=Math.floor(n[0]),o=Math.floor(n[1]),l=Math.max(Math.ceil(n[2])-a,1),c=Math.max(Math.ceil(n[3])-o,1),d=1,h=1;l>4096&&(d=l/4096,l=4096),c>4096&&(h=c/4096,c=4096);var f="groupAt"+this.groupLevel;e.smask&&(f+="_smask_"+this.smaskCounter++%2);var p=this.cachedCanvases.getCanvas(f,l,c,!0),v=p.context;v.scale(1/d,1/h),v.translate(-a,-o),v.transform.apply(v,i),e.smask?this.smaskStack.push({canvas:p.canvas,context:v,offsetX:a,offsetY:o,scaleX:d,scaleY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.scale(d,h)),u(t,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null},endGroup:function(e){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,i){if(this.save(),d(this.ctx),this.current=new c,Array.isArray(e)&&4===e.length){var s=e[2]-e[0],n=e[3]-e[1];this.ctx.rect(e[0],e[1],s,n),this.clip(),this.endPath()}this.transform.apply(this,t),this.transform.apply(this,i)},endAnnotation:function(){this.restore()},paintJpegXObject:function(e,t,i){var n=this.objs.get(e);if(n){this.save();var r=this.ctx;if(r.scale(1/t,-1/i),r.drawImage(n,0,0,n.width,n.height,0,-i,t,i),this.imageLayer){var a=r.mozCurrentTransformInverse,o=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:e,left:o[0],top:o[1],width:t/a[0],height:i/a[3]})}this.restore()}else(0,s.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(e){var t=this.ctx,s=e.width,n=e.height,r=this.current.fillColor,a=this.current.patternFill,o=this.processingType3;if(o&&void 0===o.compiled&&(o.compiled=s<=1e3&&n<=1e3?function(e){var t,i,s,n,r=e.width,a=e.height,o=r+1,l=new Uint8Array(o*(a+1)),c=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=r+7&-8,d=e.data,h=new Uint8Array(u*a),f=0;for(t=0,n=d.length;t<n;t++)for(var p=128,v=d[t];p>0;)h[f++]=v&p?0:255,p>>=1;var m=0;for(0!==h[f=0]&&(l[0]=1,++m),i=1;i<r;i++)h[f]!==h[f+1]&&(l[i]=h[f]?2:1,++m),f++;for(0!==h[f]&&(l[i]=2,++m),t=1;t<a;t++){s=t*o,h[(f=t*u)-u]!==h[f]&&(l[s]=h[f]?1:8,++m);var g=(h[f]?4:0)+(h[f-u]?8:0);for(i=1;i<r;i++)c[g=(g>>2)+(h[f+1]?4:0)+(h[f-u+1]?8:0)]&&(l[s+i]=c[g],++m),f++;if(h[f-u]!==h[f]&&(l[s+i]=h[f]?2:4,++m),m>1e3)return null}for(s=t*o,0!==h[f=u*(a-1)]&&(l[s]=8,++m),i=1;i<r;i++)h[f]!==h[f+1]&&(l[s+i]=h[f]?4:8,++m),f++;if(0!==h[f]&&(l[s+i]=4,++m),m>1e3)return null;var _=new Int32Array([0,o,-1,0,-o,0,0,0,1]),y=[];for(t=0;m&&t<=a;t++){for(var C=t*o,w=C+r;C<w&&!l[C];)C++;if(C!==w){var A,k=[C%o,t],b=l[C],I=C;do{var x=_[b];do{C+=x}while(!l[C]);5!==(A=l[C])&&10!==A?(b=A,l[C]=0):(b=A&51*b>>4,l[C]&=b>>2|b<<2),k.push(C%o),k.push(C/o|0),--m}while(I!==C);y.push(k),--t}}return function(e){e.save(),e.scale(1/r,-1/a),e.translate(0,-a),e.beginPath();for(var t=0,i=y.length;t<i;t++){var s=y[t];e.moveTo(s[0],s[1]);for(var n=2,o=s.length;n<o;n+=2)e.lineTo(s[n],s[n+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:s,height:n}):null),o&&o.compiled)o.compiled(t);else{var l=this.cachedCanvases.getCanvas("maskCanvas",s,n),c=l.context;c.save(),i(c,e),c.globalCompositeOperation="source-in",c.fillStyle=a?r.getPattern(c,this):r,c.fillRect(0,0,s,n),c.restore(),this.paintInlineImageXObject(l.canvas)}},paintImageMaskXObjectRepeat:function(e,t,s,n){var r=e.width,a=e.height,o=this.current.fillColor,l=this.current.patternFill,c=this.cachedCanvases.getCanvas("maskCanvas",r,a),u=c.context;u.save(),i(u,e),u.globalCompositeOperation="source-in",u.fillStyle=l?o.getPattern(u,this):o,u.fillRect(0,0,r,a),u.restore();for(var d=this.ctx,h=0,f=n.length;h<f;h+=2)d.save(),d.transform(t,0,0,s,n[h],n[h+1]),d.scale(1,-1),d.drawImage(c.canvas,0,0,r,a,0,-1,1,1),d.restore()},paintImageMaskXObjectGroup:function(e){for(var t=this.ctx,s=this.current.fillColor,n=this.current.patternFill,r=0,a=e.length;r<a;r++){var o=e[r],l=o.width,c=o.height,u=this.cachedCanvases.getCanvas("maskCanvas",l,c),d=u.context;d.save(),i(d,o),d.globalCompositeOperation="source-in",d.fillStyle=n?s.getPattern(d,this):s,d.fillRect(0,0,l,c),d.restore(),t.save(),t.transform.apply(t,o.transform),t.scale(1,-1),t.drawImage(u.canvas,0,0,l,c,0,-1,1,1),t.restore()}},paintImageXObject:function(e){var t=this.objs.get(e);t?this.paintInlineImageXObject(t):(0,s.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(e,t,i,n){var r=this.objs.get(e);if(r){for(var a=r.width,o=r.height,l=[],c=0,u=n.length;c<u;c+=2)l.push({transform:[t,0,0,i,n[c],n[c+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(r,l)}else(0,s.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(e){var i=e.width,s=e.height,n=this.ctx;this.save(),n.scale(1/i,-1/s);var r,a,o=n.mozCurrentTransformInverse,l=o[0],c=o[1],u=Math.max(Math.sqrt(l*l+c*c),1),d=o[2],h=o[3],f=Math.max(Math.sqrt(d*d+h*h),1);if("function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)r=e;else{var p=(a=this.cachedCanvases.getCanvas("inlineImage",i,s)).context;t(p,e),r=a.canvas}for(var v=i,m=s,g="prescale1";u>2&&v>1||f>2&&m>1;){var _=v,y=m;u>2&&v>1&&(u/=v/(_=Math.ceil(v/2))),f>2&&m>1&&(f/=m/(y=Math.ceil(m/2))),(p=(a=this.cachedCanvases.getCanvas(g,_,y)).context).clearRect(0,0,_,y),p.drawImage(r,0,0,v,m,0,0,_,y),r=a.canvas,v=_,m=y,g="prescale1"===g?"prescale2":"prescale1"}if(n.drawImage(r,0,0,v,m,0,-s,i,s),this.imageLayer){var C=this.getCanvasPosition(0,-s);this.imageLayer.appendImage({imgData:e,left:C[0],top:C[1],width:i/o[0],height:s/o[3]})}this.restore()},paintInlineImageXObjectGroup:function(e,i){var s=this.ctx,n=e.width,r=e.height,a=this.cachedCanvases.getCanvas("inlineImage",n,r);t(a.context,e);for(var o=0,l=i.length;o<l;o++){var c=i[o];if(s.save(),s.transform.apply(s,c.transform),s.scale(1,-1),s.drawImage(a.canvas,c.x,c.y,c.w,c.h,0,-1,1,1),this.imageLayer){var u=this.getCanvasPosition(c.x,c.y);this.imageLayer.appendImage({imgData:e,left:u[0],top:u[1],width:n,height:r})}s.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,s.warn)("Unsupported 'paintXObject' command.")},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){},beginMarkedContentProps:function(e,t){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===y?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth:function(e){if(null===this.cachedGetSinglePixelWidth){this.ctx.save();var t=this.ctx.mozCurrentTransformInverse;this.ctx.restore(),this.cachedGetSinglePixelWidth=Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1],t[2]*t[2]+t[3]*t[3]))}return this.cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var i=this.ctx.mozCurrentTransform;return[i[0]*e+i[2]*t+i[4],i[1]*e+i[3]*t+i[5]]}},s.OPS)e.prototype[s.OPS[C]]=e.prototype[C];return e}();t.CanvasGraphics=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.getShadingPatternFromIR=void 0;var s=i(0),n={RadialAxial:{fromIR:function(e){var t=e[1],i=e[2],s=e[3],n=e[4],r=e[5],a=e[6];return{type:"Pattern",getPattern:function(e){var o;"axial"===t?o=e.createLinearGradient(s[0],s[1],n[0],n[1]):"radial"===t&&(o=e.createRadialGradient(s[0],s[1],r,n[0],n[1],a));for(var l=0,c=i.length;l<c;++l){var u=i[l];o.addColorStop(u[0],u[1])}return o}}}}},r=function(){function e(e,t,i,s,n,r,a,o){var l,c=t.coords,u=t.colors,d=e.data,h=4*e.width;c[i+1]>c[s+1]&&(l=i,i=s,s=l,l=r,r=a,a=l),c[s+1]>c[n+1]&&(l=s,s=n,n=l,l=a,a=o,o=l),c[i+1]>c[s+1]&&(l=i,i=s,s=l,l=r,r=a,a=l);var f=(c[i]+t.offsetX)*t.scaleX,p=(c[i+1]+t.offsetY)*t.scaleY,v=(c[s]+t.offsetX)*t.scaleX,m=(c[s+1]+t.offsetY)*t.scaleY,g=(c[n]+t.offsetX)*t.scaleX,_=(c[n+1]+t.offsetY)*t.scaleY;if(!(p>=_))for(var y,C,w,A,k,b,I,x,P,S=u[r],T=u[r+1],L=u[r+2],E=u[a],F=u[a+1],R=u[a+2],N=u[o],B=u[o+1],D=u[o+2],O=Math.round(p),j=Math.round(_),M=O;M<=j;M++){M<m?(y=f-(f-v)*(P=M<p?0:p===m?1:(p-M)/(p-m)),C=S-(S-E)*P,w=T-(T-F)*P,A=L-(L-R)*P):(y=v-(v-g)*(P=M>_?1:m===_?0:(m-M)/(m-_)),C=E-(E-N)*P,w=F-(F-B)*P,A=R-(R-D)*P),k=f-(f-g)*(P=M<p?0:M>_?1:(p-M)/(p-_)),b=S-(S-N)*P,I=T-(T-B)*P,x=L-(L-D)*P;for(var U=Math.round(Math.min(y,k)),G=Math.round(Math.max(y,k)),H=h*M+4*U,W=U;W<=G;W++)P=(P=(y-W)/(y-k))<0?0:P>1?1:P,d[H++]=C-(C-b)*P|0,d[H++]=w-(w-I)*P|0,d[H++]=A-(A-x)*P|0,d[H++]=255}}function t(t,i,s){var n,r,a=i.coords,o=i.colors;switch(i.type){case"lattice":var l=i.verticesPerRow,c=Math.floor(a.length/l)-1,u=l-1;for(n=0;n<c;n++)for(var d=n*l,h=0;h<u;h++,d++)e(t,s,a[d],a[d+1],a[d+l],o[d],o[d+1],o[d+l]),e(t,s,a[d+l+1],a[d+1],a[d+l],o[d+l+1],o[d+1],o[d+l]);break;case"triangles":for(n=0,r=a.length;n<r;n+=3)e(t,s,a[n],a[n+1],a[n+2],o[n],o[n+1],o[n+2]);break;default:throw new Error("illegal figure")}}return function(e,i,s,n,r,a,o,l){var c,u,d,h,f=Math.floor(e[0]),p=Math.floor(e[1]),v=Math.ceil(e[2])-f,m=Math.ceil(e[3])-p,g=Math.min(Math.ceil(Math.abs(v*i[0]*1.1)),3e3),_=Math.min(Math.ceil(Math.abs(m*i[1]*1.1)),3e3),y=v/g,C=m/_,w={coords:s,colors:n,offsetX:-f,offsetY:-p,scaleX:1/y,scaleY:1/C},A=g+4,k=_+4;if(l.isEnabled)c=l.drawFigures({width:g,height:_,backgroundColor:a,figures:r,context:w}),(u=o.getCanvas("mesh",A,k,!1)).context.drawImage(c,2,2),c=u.canvas;else{var b=(u=o.getCanvas("mesh",A,k,!1)).context,I=b.createImageData(g,_);if(a){var x=I.data;for(d=0,h=x.length;d<h;d+=4)x[d]=a[0],x[d+1]=a[1],x[d+2]=a[2],x[d+3]=255}for(d=0;d<r.length;d++)t(I,r[d],w);b.putImageData(I,2,2),c=u.canvas}return{canvas:c,offsetX:f-2*y,offsetY:p-2*C,scaleX:y,scaleY:C}}}();n.Mesh={fromIR:function(e){var t=e[2],i=e[3],n=e[4],a=e[5],o=e[6],l=e[8];return{type:"Pattern",getPattern:function(e,c,u){var d;if(u)d=s.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(d=s.Util.singularValueDecompose2dScale(c.baseTransform),o){var h=s.Util.singularValueDecompose2dScale(o);d=[d[0]*h[0],d[1]*h[1]]}var f=r(a,d,t,i,n,u?null:l,c.cachedCanvases,c.webGLContext);return u||(e.setTransform.apply(e,c.baseTransform),o&&e.transform.apply(e,o)),e.translate(f.offsetX,f.offsetY),e.scale(f.scaleX,f.scaleY),e.createPattern(f.canvas,"no-repeat")}}}},n.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var a=function(){var e=1,t=2;function i(e,t,i,s,n){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=s,this.baseTransform=n,this.type="Pattern",this.ctx=i}return i.prototype={createPatternCanvas:function(e){var t=this.operatorList,i=this.bbox,n=this.xstep,r=this.ystep,a=this.paintType,o=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;(0,s.info)("TilingType: "+o);var u=i[0],d=i[1],h=i[2],f=i[3],p=[u,d],v=[u+n,d+r],m=v[0]-p[0],g=v[1]-p[1],_=s.Util.singularValueDecompose2dScale(this.matrix),y=s.Util.singularValueDecompose2dScale(this.baseTransform),C=[_[0]*y[0],_[1]*y[1]];m=Math.min(Math.ceil(Math.abs(m*C[0])),3e3),g=Math.min(Math.ceil(Math.abs(g*C[1])),3e3);var w=e.cachedCanvases.getCanvas("pattern",m,g,!0),A=w.context,k=c.createCanvasGraphics(A);k.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(k,a,l),this.setScale(m,g,n,r),this.transformToScale(k);var b=[1,0,0,1,-p[0],-p[1]];return k.transform.apply(k,b),this.clipBbox(k,i,u,d,h,f),k.executeOperatorList(t),w.canvas},setScale:function(e,t,i,s){this.scale=[e/i,t/s]},transformToScale:function(e){var t=this.scale,i=[t[0],0,0,t[1],0,0];e.transform.apply(e,i)},scaleToContext:function(){var e=this.scale;this.ctx.scale(1/e[0],1/e[1])},clipBbox:function(e,t,i,s,n,r){if(Array.isArray(t)&&4===t.length){var a=n-i,o=r-s;e.ctx.rect(i,s,a,o),e.clip(),e.endPath()}},setFillAndStrokeStyleToContext:function(i,n,r){var a=i.ctx,o=i.current;switch(n){case e:var l=this.ctx;a.fillStyle=l.fillStyle,a.strokeStyle=l.strokeStyle,o.fillColor=l.fillStyle,o.strokeColor=l.strokeStyle;break;case t:var c=s.Util.makeCssRgb(r[0],r[1],r[2]);a.fillStyle=c,a.strokeStyle=c,o.fillColor=c,o.strokeColor=c;break;default:throw new s.FormatError("Unsupported paint type: "+n)}},getPattern:function(e,t){var i=this.createPatternCanvas(t);return(e=this.ctx).setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix),this.scaleToContext(),e.createPattern(i,"repeat")}},i}();t.getShadingPatternFromIR=function(e){var t=n[e[0]];if(!t)throw new Error("Unknown IR type: "+e[0]);return t.fromIR(e)},t.TilingPattern=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),n=i(0),r=i(122);var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,n.assert)("string"==typeof t,"Metadata: input is not a string"),t=this._repair(t);var i=(new r.SimpleXMLParser).parseFromString(t);this._metadata=Object.create(null),i&&this._parse(i)}return s(e,[{key:"_repair",value:function(e){return e.replace(/>\\376\\377([^<]+)/g,function(e,t){for(var i=t.replace(/\\([0-3])([0-7])([0-7])/g,function(e,t,i,s){return String.fromCharCode(64*t+8*i+1*s)}).replace(/&(amp|apos|gt|lt|quot);/g,function(e,t){switch(t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: "+t+" isn't defined.")}),s="",n=0,r=i.length;n<r;n+=2){var a=256*i.charCodeAt(n)+i.charCodeAt(n+1);s+=a>=32&&a<127&&60!==a&&62!==a&&38!==a?String.fromCharCode(a):"&#x"+(65536+a).toString(16).substring(1)+";"}return">"+s})}},{key:"_parse",value:function(e){var t=e.documentElement;if("rdf:rdf"!==t.nodeName.toLowerCase())for(t=t.firstChild;t&&"rdf:rdf"!==t.nodeName.toLowerCase();)t=t.nextSibling;var i=t?t.nodeName.toLowerCase():null;if(t&&"rdf:rdf"===i&&t.hasChildNodes())for(var s=t.childNodes,n=0,r=s.length;n<r;n++){var a=s[n];if("rdf:description"===a.nodeName.toLowerCase())for(var o=0,l=a.childNodes.length;o<l;o++)if("#text"!==a.childNodes[o].nodeName.toLowerCase()){var c=a.childNodes[o],u=c.nodeName.toLowerCase();this._metadata[u]=c.textContent.trim()}}}},{key:"get",value:function(e){return this._metadata[e]||null}},{key:"getAll",value:function(){return this._metadata}},{key:"has",value:function(e){return void 0!==this._metadata[e]}}]),e}();t.Metadata=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],s=!0,n=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(s=(a=o.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function o(e,t){var i=e[t];return" "===i||"\n"===i||"\r"===i||"\t"===i}var l=function(){function e(){r(this,e)}return n(e,[{key:"_resolveEntities",value:function(e){return e.replace(/&([^;]+);/g,function(e,t){if("#x"===t.substring(0,2))return String.fromCharCode(parseInt(t.substring(2),16));if("#"===t.substring(0,1))return String.fromCharCode(parseInt(t.substring(1),10));switch(t){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return this.onResolveEntity(t)})}},{key:"_parseContent",value:function(e,t){var i,s=t,n=[];function r(){for(;s<e.length&&o(e,s);)++s}for(;s<e.length&&!o(e,s)&&">"!==e[s]&&"/"!==e[s];)++s;for(i=e.substring(t,s),r();s<e.length&&">"!==e[s]&&"/"!==e[s]&&"?"!==e[s];){r();for(var a,l="";s<e.length&&!o(e,s)&&"="!==e[s];)l+=e[s],++s;if(r(),"="!==e[s])return null;++s,r();var c=e[s];if('"'!==c&&"'"!==c)return null;var u=e.indexOf(c,++s);if(u<0)return null;a=e.substring(s,u),n.push({name:l,value:this._resolveEntities(a)}),s=u+1,r()}return{name:i,attributes:n,parsed:s-t}}},{key:"_parseProcessingInstruction",value:function(e,t){var i,s=t;for(;s<e.length&&!o(e,s)&&">"!==e[s]&&"/"!==e[s];)++s;i=e.substring(t,s),function(){for(;s<e.length&&o(e,s);)++s}();for(var n=s;s<e.length&&("?"!==e[s]||">"!==e[s+1]);)++s;return{name:i,value:e.substring(n,s),parsed:s-t}}},{key:"parseXml",value:function(e){for(var t=0;t<e.length;){var i=t;if("<"===e[t]){var s=void 0;switch(e[++i]){case"/":if(++i,(s=e.indexOf(">",i))<0)return void this.onError(a.UnterminatedElement);this.onEndElement(e.substring(i,s)),i=s+1;break;case"?":++i;var n=this._parseProcessingInstruction(e,i);if("?>"!==e.substring(i+n.parsed,i+n.parsed+2))return void this.onError(a.UnterminatedXmlDeclaration);this.onPi(n.name,n.value),i+=n.parsed+2;break;case"!":if("--"===e.substring(i+1,i+3)){if((s=e.indexOf("--\x3e",i+3))<0)return void this.onError(a.UnterminatedComment);this.onComment(e.substring(i+3,s)),i=s+3}else if("[CDATA["===e.substring(i+1,i+8)){if((s=e.indexOf("]]>",i+8))<0)return void this.onError(a.UnterminatedCdat);this.onCdata(e.substring(i+8,s)),i=s+3}else{if("DOCTYPE"!==e.substring(i+1,i+8))return void this.onError(a.MalformedElement);var r=e.indexOf("[",i+8),o=!1;if((s=e.indexOf(">",i+8))<0)return void this.onError(a.UnterminatedDoctypeDeclaration);if(r>0&&s>r){if((s=e.indexOf("]>",i+8))<0)return void this.onError(a.UnterminatedDoctypeDeclaration);o=!0}var l=e.substring(i+8,s+(o?1:0));this.onDoctype(l),i=s+(o?2:1)}break;default:var c=this._parseContent(e,i);if(null===c)return void this.onError(a.MalformedElement);var u=!1;if("/>"===e.substring(i+c.parsed,i+c.parsed+2))u=!0;else if(">"!==e.substring(i+c.parsed,i+c.parsed+1))return void this.onError(a.UnterminatedElement);this.onBeginElement(c.name,c.attributes,u),i+=c.parsed+(u?2:1)}}else{for(;i<e.length&&"<"!==e[i];)i++;var d=e.substring(t,i);this.onText(this._resolveEntities(d))}t=i}}},{key:"onResolveEntity",value:function(e){return"&"+e+";"}},{key:"onPi",value:function(e,t){}},{key:"onComment",value:function(e){}},{key:"onCdata",value:function(e){}},{key:"onDoctype",value:function(e){}},{key:"onText",value:function(e){}},{key:"onBeginElement",value:function(e,t,i){}},{key:"onEndElement",value:function(e){}},{key:"onError",value:function(e){}}]),e}(),c=function(){function e(t,i){r(this,e),this.nodeName=t,this.nodeValue=i,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return n(e,[{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}},{key:"firstChild",get:function(){return this.childNodes[0]}},{key:"nextSibling",get:function(){var e=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[e+1]}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map(function(e){return e.textContent}).join(""):this.nodeValue||""}}]),e}(),u=function(e){function t(){r(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._currentFragment=null,e._stack=null,e._errorCode=a.NoError,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l),n(t,[{key:"parseFromString",value:function(e){if(this._currentFragment=[],this._stack=[],this._errorCode=a.NoError,this.parseXml(e),this._errorCode===a.NoError)return{documentElement:s(this._currentFragment,1)[0]}}},{key:"onResolveEntity",value:function(e){switch(e){case"apos":return"'"}return function e(t,i,s){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,i);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,i,s)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(s):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onResolveEntity",this).call(this,e)}},{key:"onText",value:function(e){if(!function(e){for(var t=0,i=e.length;t<i;t++)if(!o(e,t))return!1;return!0}(e)){var t=new c("#text",e);this._currentFragment.push(t)}}},{key:"onCdata",value:function(e){var t=new c("#text",e);this._currentFragment.push(t)}},{key:"onBeginElement",value:function(e,t,i){var s=new c(e);s.childNodes=[],this._currentFragment.push(s),i||(this._stack.push(this._currentFragment),this._currentFragment=s.childNodes)}},{key:"onEndElement",value:function(e){this._currentFragment=this._stack.pop();for(var t=this._currentFragment[this._currentFragment.length-1],i=0,s=t.childNodes.length;i<s;i++)t.childNodes[i].parentNode=t}},{key:"onError",value:function(e){this._errorCode=e}}]),t}();t.SimpleXMLParser=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var s=i(0),n=function(){function e(e,t){var i=this;(0,s.assert)(t),this._queuedChunks=[];var n=e.initialData;if(n&&n.length>0){var r=new Uint8Array(n).buffer;this._queuedChunks.push(r)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(e,t){i._onReceiveData({begin:e,chunk:t})}),this._pdfDataRangeTransport.addProgressListener(function(e){i._onProgress({loaded:e})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(e){i._onReceiveData({chunk:e})}),this._pdfDataRangeTransport.transportReady()}function t(e,t){this._stream=e,this._done=!1,this._filename=null,this._queuedChunks=t||[],this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}function i(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return e.prototype={_onReceiveData:function(e){var t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{var i=this._rangeReaders.some(function(i){return i._begin===e.begin&&(i._enqueue(t),!0)});(0,s.assert)(i)}},_onProgress:function(e){if(this._rangeReaders.length>0){var t=this._rangeReaders[0];t.onProgress&&t.onProgress({loaded:e.loaded})}},_removeRangeReader:function(e){var t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)},getFullReader:function(){(0,s.assert)(!this._fullRequestReader);var e=this._queuedChunks;return this._queuedChunks=null,new t(this,e)},getRangeReader:function(e,t){var s=new i(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s},cancelAllRequests:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeReaders.slice(0).forEach(function(t){t.cancel(e)}),this._pdfDataRangeTransport.abort()}},t.prototype={_enqueue:function(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e))},get headersReady(){return this._headersReady},get filename(){return this._filename},get isRangeSupported(){return this._stream._isRangeSupported},get isStreamingSupported(){return this._stream._isStreamingSupported},get contentLength(){return this._stream._contentLength},read:function(){if(this._queuedChunks.length>0){var e=this._queuedChunks.shift();return Promise.resolve({value:e,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});var t=(0,s.createPromiseCapability)();return this._requests.push(t),t.promise},cancel:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[]}},i.prototype={_enqueue:function(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else this._requests.shift().resolve({value:e,done:!1}),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[];this._done=!0,this._stream._removeRangeReader(this)}},get isStreamingSupported(){return!1},read:function(){if(this._queuedChunk){var e=this._queuedChunk;return this._queuedChunk=null,Promise.resolve({value:e,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});var t=(0,s.createPromiseCapability)();return this._requests.push(t),t.promise},cancel:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}},e}();t.PDFDataTransportStream=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),n=i(0);var r=function(){function e(t){var i=t.enable,s=void 0!==i&&i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._enabled=!0===s}return s(e,[{key:"composeSMask",value:function(e){var t=e.layer,i=e.mask,s=e.properties;return a.composeSMask(t,i,s)}},{key:"drawFigures",value:function(e){var t=e.width,i=e.height,s=e.backgroundColor,n=e.figures,r=e.context;return a.drawFigures(t,i,s,n,r)}},{key:"clear",value:function(){a.cleanup()}},{key:"isEnabled",get:function(){var e=this._enabled;return e&&(e=a.tryInitGL()),(0,n.shadow)(this,"isEnabled",e)}}]),e}(),a=function(){function e(e,t,i){var s=e.createShader(i);if(e.shaderSource(s,t),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS)){var n=e.getShaderInfoLog(s);throw new Error("Error during shader compilation: "+n)}return s}function t(t,i){return e(t,i,t.VERTEX_SHADER)}function i(t,i){return e(t,i,t.FRAGMENT_SHADER)}function s(e,t){for(var i=e.createProgram(),s=0,n=t.length;s<n;++s)e.attachShader(i,t[s]);if(e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS)){var r=e.getProgramInfoLog(i);throw new Error("Error during program linking: "+r)}return i}function n(e,t,i){e.activeTexture(i);var s=e.createTexture();return e.bindTexture(e.TEXTURE_2D,s),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),s}var r,a;function o(){r||(a=document.createElement("canvas"),r=a.getContext("webgl",{premultipliedalpha:!1}))}var l="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",c="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",u=null;var d="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",h="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",f=null;return{tryInitGL:function(){try{return o(),!!r}catch(e){}return!1},composeSMask:function(e,d,h){var f=e.width,p=e.height;u||function(){var e,n;o(),e=a,a=null,n=r,r=null;var d=s(n,[t(n,l),i(n,c)]);n.useProgram(d);var h={};h.gl=n,h.canvas=e,h.resolutionLocation=n.getUniformLocation(d,"u_resolution"),h.positionLocation=n.getAttribLocation(d,"a_position"),h.backdropLocation=n.getUniformLocation(d,"u_backdrop"),h.subtypeLocation=n.getUniformLocation(d,"u_subtype");var f=n.getAttribLocation(d,"a_texCoord"),p=n.getUniformLocation(d,"u_image"),v=n.getUniformLocation(d,"u_mask"),m=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,m),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),n.STATIC_DRAW),n.enableVertexAttribArray(f),n.vertexAttribPointer(f,2,n.FLOAT,!1,0,0),n.uniform1i(p,0),n.uniform1i(v,1),u=h}();var v=u,m=v.canvas,g=v.gl;m.width=f,m.height=p,g.viewport(0,0,g.drawingBufferWidth,g.drawingBufferHeight),g.uniform2f(v.resolutionLocation,f,p),h.backdrop?g.uniform4f(v.resolutionLocation,h.backdrop[0],h.backdrop[1],h.backdrop[2],1):g.uniform4f(v.resolutionLocation,0,0,0,0),g.uniform1i(v.subtypeLocation,"Luminosity"===h.subtype?1:0);var _=n(g,e,g.TEXTURE0),y=n(g,d,g.TEXTURE1),C=g.createBuffer();return g.bindBuffer(g.ARRAY_BUFFER,C),g.bufferData(g.ARRAY_BUFFER,new Float32Array([0,0,f,0,0,p,0,p,f,0,f,p]),g.STATIC_DRAW),g.enableVertexAttribArray(v.positionLocation),g.vertexAttribPointer(v.positionLocation,2,g.FLOAT,!1,0,0),g.clearColor(0,0,0,0),g.enable(g.BLEND),g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA),g.clear(g.COLOR_BUFFER_BIT),g.drawArrays(g.TRIANGLES,0,6),g.flush(),g.deleteTexture(_),g.deleteTexture(y),g.deleteBuffer(C),m},drawFigures:function(e,n,l,c,u){f||function(){var e,n;o(),e=a,a=null,n=r,r=null;var l=s(n,[t(n,d),i(n,h)]);n.useProgram(l);var c={};c.gl=n,c.canvas=e,c.resolutionLocation=n.getUniformLocation(l,"u_resolution"),c.scaleLocation=n.getUniformLocation(l,"u_scale"),c.offsetLocation=n.getUniformLocation(l,"u_offset"),c.positionLocation=n.getAttribLocation(l,"a_position"),c.colorLocation=n.getAttribLocation(l,"a_color"),f=c}();var p=f,v=p.canvas,m=p.gl;v.width=e,v.height=n,m.viewport(0,0,m.drawingBufferWidth,m.drawingBufferHeight),m.uniform2f(p.resolutionLocation,e,n);var g,_,y,C=0;for(g=0,_=c.length;g<_;g++)switch(c[g].type){case"lattice":C+=((y=c[g].coords.length/c[g].verticesPerRow|0)-1)*(c[g].verticesPerRow-1)*6;break;case"triangles":C+=c[g].coords.length}var w=new Float32Array(2*C),A=new Uint8Array(3*C),k=u.coords,b=u.colors,I=0,x=0;for(g=0,_=c.length;g<_;g++){var P=c[g],S=P.coords,T=P.colors;switch(P.type){case"lattice":var L=P.verticesPerRow;y=S.length/L|0;for(var E=1;E<y;E++)for(var F=E*L+1,R=1;R<L;R++,F++)w[I]=k[S[F-L-1]],w[I+1]=k[S[F-L-1]+1],w[I+2]=k[S[F-L]],w[I+3]=k[S[F-L]+1],w[I+4]=k[S[F-1]],w[I+5]=k[S[F-1]+1],A[x]=b[T[F-L-1]],A[x+1]=b[T[F-L-1]+1],A[x+2]=b[T[F-L-1]+2],A[x+3]=b[T[F-L]],A[x+4]=b[T[F-L]+1],A[x+5]=b[T[F-L]+2],A[x+6]=b[T[F-1]],A[x+7]=b[T[F-1]+1],A[x+8]=b[T[F-1]+2],w[I+6]=w[I+2],w[I+7]=w[I+3],w[I+8]=w[I+4],w[I+9]=w[I+5],w[I+10]=k[S[F]],w[I+11]=k[S[F]+1],A[x+9]=A[x+3],A[x+10]=A[x+4],A[x+11]=A[x+5],A[x+12]=A[x+6],A[x+13]=A[x+7],A[x+14]=A[x+8],A[x+15]=b[T[F]],A[x+16]=b[T[F]+1],A[x+17]=b[T[F]+2],I+=12,x+=18;break;case"triangles":for(var N=0,B=S.length;N<B;N++)w[I]=k[S[N]],w[I+1]=k[S[N]+1],A[x]=b[T[N]],A[x+1]=b[T[N]+1],A[x+2]=b[T[N]+2],I+=2,x+=3}}l?m.clearColor(l[0]/255,l[1]/255,l[2]/255,1):m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT);var D=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,D),m.bufferData(m.ARRAY_BUFFER,w,m.STATIC_DRAW),m.enableVertexAttribArray(p.positionLocation),m.vertexAttribPointer(p.positionLocation,2,m.FLOAT,!1,0,0);var O=m.createBuffer();return m.bindBuffer(m.ARRAY_BUFFER,O),m.bufferData(m.ARRAY_BUFFER,A,m.STATIC_DRAW),m.enableVertexAttribArray(p.colorLocation),m.vertexAttribPointer(p.colorLocation,3,m.UNSIGNED_BYTE,!1,0,0),m.uniform2f(p.scaleLocation,u.scaleX,u.scaleY),m.uniform2f(p.offsetLocation,u.offsetX,u.offsetY),m.drawArrays(m.TRIANGLES,0,C),m.flush(),m.deleteBuffer(D),m.deleteBuffer(O),v},cleanup:function(){u&&u.canvas&&(u.canvas.width=0,u.canvas.height=0),f&&f.canvas&&(f.canvas.width=0,f.canvas.height=0),u=null,f=null}}}();t.WebGLContext=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var s,n=i(0),r=i(18),a=(s=r)&&s.__esModule?s:{default:s};var o=function(){var e=1e5,t=/\S/;var i=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];function s(e,s,r){var a,o=document.createElement("div"),l={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(e._textDivs.push(o),a=s.str,!t.test(a))return l.isWhitespace=!0,void e._textDivProperties.set(o,l);var c=n.Util.transform(e._viewport.transform,s.transform),u=Math.atan2(c[1],c[0]),d=r[s.fontName];d.vertical&&(u+=Math.PI/2);var h,f,p=Math.sqrt(c[2]*c[2]+c[3]*c[3]),v=p;if(d.ascent?v=d.ascent*v:d.descent&&(v=(1+d.descent)*v),0===u?(h=c[4],f=c[5]-v):(h=c[4]+v*Math.sin(u),f=c[5]-v*Math.cos(u)),i[1]=h,i[3]=f,i[5]=p,i[7]=d.fontFamily,l.style=i.join(""),o.setAttribute("style",l.style),o.textContent=s.str,e._fontInspectorEnabled&&(o.dataset.fontName=s.fontName),0!==u&&(l.angle=u*(180/Math.PI)),s.str.length>1&&(d.vertical?l.canvasWidth=s.height*e._viewport.scale:l.canvasWidth=s.width*e._viewport.scale),e._textDivProperties.set(o,l),e._textContentStream&&e._layoutText(o),e._enhanceTextSelection){var m=1,g=0;0!==u&&(m=Math.cos(u),g=Math.sin(u));var _,y,C=(d.vertical?s.height:s.width)*e._viewport.scale,w=p;0!==u?(_=[m,g,-g,m,h,f],y=n.Util.getAxialAlignedBoundingBox([0,0,C,w],_)):y=[h,f,h+C,f+w],e._bounds.push({left:y[0],top:y[1],right:y[2],bottom:y[3],div:o,size:[C,w],m:_})}}function r(t){if(!t._canceled){var i=t._textDivs,s=t._capability,n=i.length;if(n>e)return t._renderingDone=!0,void s.resolve();if(!t._textContentStream)for(var r=0;r<n;r++)t._layoutText(i[r]);t._renderingDone=!0,s.resolve()}}function o(e){for(var t=e._bounds,i=e._viewport,s=function(e,t,i){var s=i.map(function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}});l(e,s);var n=new Array(i.length);return s.forEach(function(e){var t=e.index;n[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}}),i.map(function(t,i){var r=n[i],a=s[i];a.x1=t.top,a.y1=e-r.right,a.x2=t.bottom,a.y2=e-r.left,a.index=i,a.x1New=void 0,a.x2New=void 0}),l(t,s),s.forEach(function(e){var t=e.index;n[t].top=e.x1New,n[t].bottom=e.x2New}),n}(i.width,i.height,t),r=0;r<s.length;r++){var a=t[r].div,o=e._textDivProperties.get(a);if(0!==o.angle){var c=s[r],u=t[r],d=u.m,h=d[0],f=d[1],p=[[0,0],[0,u.size[1]],[u.size[0],0],u.size],v=new Float64Array(64);p.forEach(function(e,t){var i=n.Util.applyTransform(e,d);v[t+0]=h&&(c.left-i[0])/h,v[t+4]=f&&(c.top-i[1])/f,v[t+8]=h&&(c.right-i[0])/h,v[t+12]=f&&(c.bottom-i[1])/f,v[t+16]=f&&(c.left-i[0])/-f,v[t+20]=h&&(c.top-i[1])/h,v[t+24]=f&&(c.right-i[0])/-f,v[t+28]=h&&(c.bottom-i[1])/h,v[t+32]=h&&(c.left-i[0])/-h,v[t+36]=f&&(c.top-i[1])/-f,v[t+40]=h&&(c.right-i[0])/-h,v[t+44]=f&&(c.bottom-i[1])/-f,v[t+48]=f&&(c.left-i[0])/f,v[t+52]=h&&(c.top-i[1])/-h,v[t+56]=f&&(c.right-i[0])/f,v[t+60]=h&&(c.bottom-i[1])/-h});var m=function(e,t,i){for(var s=0,n=0;n<i;n++){var r=e[t++];r>0&&(s=s?Math.min(r,s):r)}return s},g=1+Math.min(Math.abs(h),Math.abs(f));o.paddingLeft=m(v,32,16)/g,o.paddingTop=m(v,48,16)/g,o.paddingRight=m(v,0,16)/g,o.paddingBottom=m(v,16,16)/g,e._textDivProperties.set(a,o)}else o.paddingLeft=t[r].left-s[r].left,o.paddingTop=t[r].top-s[r].top,o.paddingRight=s[r].right-t[r].right,o.paddingBottom=s[r].bottom-t[r].bottom,e._textDivProperties.set(a,o)}}function l(e,t){t.sort(function(e,t){return e.x1-t.x1||e.index-t.index});var i=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];t.forEach(function(e){for(var t=0;t<i.length&&i[t].end<=e.y1;)t++;for(var s,n,r=i.length-1;r>=0&&i[r].start>=e.y2;)r--;var a,o,l=-1/0;for(a=t;a<=r;a++){var c;(c=(n=(s=i[a]).boundary).x2>e.x1?n.index>e.index?n.x1New:e.x1:void 0===n.x2New?(n.x2+e.x1)/2:n.x2New)>l&&(l=c)}for(e.x1New=l,a=t;a<=r;a++)void 0===(n=(s=i[a]).boundary).x2New?n.x2>e.x1?n.index>e.index&&(n.x2New=n.x2):n.x2New=l:n.x2New>l&&(n.x2New=Math.max(l,n.x2));var u=[],d=null;for(a=t;a<=r;a++){var h=(n=(s=i[a]).boundary).x2>e.x2?n:e;d===h?u[u.length-1].end=s.end:(u.push({start:s.start,end:s.end,boundary:h}),d=h)}for(i[t].start<e.y1&&(u[0].start=e.y1,u.unshift({start:i[t].start,end:e.y1,boundary:i[t].boundary})),e.y2<i[r].end&&(u[u.length-1].end=e.y2,u.push({start:e.y2,end:i[r].end,boundary:i[r].boundary})),a=t;a<=r;a++)if(void 0===(n=(s=i[a]).boundary).x2New){var f=!1;for(o=t-1;!f&&o>=0&&i[o].start>=n.y1;o--)f=i[o].boundary===n;for(o=r+1;!f&&o<i.length&&i[o].end<=n.y2;o++)f=i[o].boundary===n;for(o=0;!f&&o<u.length;o++)f=u[o].boundary===n;f||(n.x2New=l)}Array.prototype.splice.apply(i,[t,r-t+1].concat(u))}),i.forEach(function(t){var i=t.boundary;void 0===i.x2New&&(i.x2New=Math.max(e,i.x2))})}function c(e){var t=e.textContent,i=e.textContentStream,s=e.container,r=e.viewport,o=e.textDivs,l=e.textContentItemsStr,c=e.enhanceTextSelection;this._textContent=t,this._textContentStream=i,this._container=s,this._viewport=r,this._textDivs=o||[],this._textContentItemsStr=l||[],this._enhanceTextSelection=!!c,this._fontInspectorEnabled=!(!a.default.FontInspector||!a.default.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,n.createPromiseCapability)(),this._renderTimer=null,this._bounds=[]}return c.prototype={get promise(){return this._capability.promise},cancel:function(){this._reader&&(this._reader.cancel(new n.AbortException("text layer task cancelled")),this._reader=null),this._canceled=!0,null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject("canceled")},_processItems:function(e,t){for(var i=0,n=e.length;i<n;i++)this._textContentItemsStr.push(e[i].str),s(this,e[i],t)},_layoutText:function(e){var t=this._container,i=this._textDivProperties.get(e);if(!i.isWhitespace){var s=e.style.fontSize,n=e.style.fontFamily;s===this._layoutTextLastFontSize&&n===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=s+" "+n,this._lastFontSize=s,this._lastFontFamily=n);var r=this._layoutTextCtx.measureText(e.textContent).width,a="";0!==i.canvasWidth&&r>0&&(i.scale=i.canvasWidth/r,a="scaleX("+i.scale+")"),0!==i.angle&&(a="rotate("+i.angle+"deg) "+a),""!==a&&(i.originalTransform=a,e.style.transform=a),this._textDivProperties.set(e,i),t.appendChild(e)}},_render:function(e){var t=this,i=(0,n.createPromiseCapability)(),s=Object.create(null),a=document.createElement("canvas");if(a.mozOpaque=!0,this._layoutTextCtx=a.getContext("2d",{alpha:!1}),this._textContent){var o=this._textContent.items,l=this._textContent.styles;this._processItems(o,l),i.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function e(){t._reader.read().then(function(r){var a=r.value;r.done?i.resolve():(n.Util.extendObj(s,a.styles),t._processItems(a.items,s),e())},i.reject)}()}i.promise.then(function(){s=null,e?t._renderTimer=setTimeout(function(){r(t),t._renderTimer=null},e):r(t)},this._capability.reject)},expandTextDivs:function(e){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(o(this),this._bounds=null);for(var t=0,i=this._textDivs.length;t<i;t++){var s=this._textDivs[t],n=this._textDivProperties.get(s);if(!n.isWhitespace)if(e){var r="",a="";1!==n.scale&&(r="scaleX("+n.scale+")"),0!==n.angle&&(r="rotate("+n.angle+"deg) "+r),0!==n.paddingLeft&&(a+=" padding-left: "+n.paddingLeft/n.scale+"px;",r+=" translateX("+-n.paddingLeft/n.scale+"px)"),0!==n.paddingTop&&(a+=" padding-top: "+n.paddingTop+"px;",r+=" translateY("+-n.paddingTop+"px)"),0!==n.paddingRight&&(a+=" padding-right: "+n.paddingRight/n.scale+"px;"),0!==n.paddingBottom&&(a+=" padding-bottom: "+n.paddingBottom+"px;"),""!==a&&s.setAttribute("style",n.style+a),""!==r&&(s.style.transform=r)}else s.style.padding=0,s.style.transform=n.originalTransform||""}}}},function(e){var t=new c({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}}();t.renderTextLayer=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),n=i(24),r=i(0);function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(){l(this,e)}return s(e,null,[{key:"create",value:function(e){switch(e.data.annotationType){case r.AnnotationType.LINK:return new d(e);case r.AnnotationType.TEXT:return new h(e);case r.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new p(e);case"Btn":return e.data.radioButton?new m(e):e.data.checkBox?new v(e):new g(e);case"Ch":return new _(e)}return new f(e);case r.AnnotationType.POPUP:return new y(e);case r.AnnotationType.LINE:return new w(e);case r.AnnotationType.SQUARE:return new A(e);case r.AnnotationType.CIRCLE:return new k(e);case r.AnnotationType.POLYLINE:return new b(e);case r.AnnotationType.POLYGON:return new I(e);case r.AnnotationType.HIGHLIGHT:return new x(e);case r.AnnotationType.UNDERLINE:return new P(e);case r.AnnotationType.SQUIGGLY:return new S(e);case r.AnnotationType.STRIKEOUT:return new T(e);case r.AnnotationType.STAMP:return new L(e);case r.AnnotationType.FILEATTACHMENT:return new E(e);default:return new u(e)}}}]),e}(),u=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];l(this,e),this.isRenderable=i,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderInteractiveForms=t.renderInteractiveForms,this.svgFactory=t.svgFactory,i&&(this.container=this._createContainer(s))}return s(e,[{key:"_createContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data,i=this.page,s=this.viewport,n=document.createElement("section"),a=t.rect[2]-t.rect[0],o=t.rect[3]-t.rect[1];n.setAttribute("data-annotation-id",t.id);var l=r.Util.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]);if(n.style.transform="matrix("+s.transform.join(",")+")",n.style.transformOrigin=-l[0]+"px "+-l[1]+"px",!e&&t.borderStyle.width>0){n.style.borderWidth=t.borderStyle.width+"px",t.borderStyle.style!==r.AnnotationBorderStyleType.UNDERLINE&&(a-=2*t.borderStyle.width,o-=2*t.borderStyle.width);var c=t.borderStyle.horizontalCornerRadius,u=t.borderStyle.verticalCornerRadius;if(c>0||u>0){var d=c+"px / "+u+"px";n.style.borderRadius=d}switch(t.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:n.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:n.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:n.style.borderBottomStyle="solid"}t.color?n.style.borderColor=r.Util.makeCssRgb(0|t.color[0],0|t.color[1],0|t.color[2]):n.style.borderWidth=0}return n.style.left=l[0]+"px",n.style.top=l[1]+"px",n.style.width=a+"px",n.style.height=o+"px",n}},{key:"_createPopup",value:function(e,t,i){t||((t=document.createElement("div")).style.height=e.style.height,t.style.width=e.style.width,e.appendChild(t));var s=new C({container:e,trigger:t,color:i.color,title:i.title,contents:i.contents,hideWrapper:!0}).render();s.style.left=e.style.width,e.appendChild(s)}},{key:"render",value:function(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}}]),e}(),d=function(e){function t(e){l(this,t);var i=!!(e.data.url||e.data.dest||e.data.action);return a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i))}return o(t,u),s(t,[{key:"render",value:function(){this.container.className="linkAnnotation";var e=this.data,t=this.linkService,i=document.createElement("a");return(0,n.addLinkAttributes)(i,{url:e.url,target:e.newWindow?n.LinkTarget.BLANK:t.externalLinkTarget,rel:t.externalLinkRel}),e.url||(e.action?this._bindNamedAction(i,e.action):this._bindLink(i,e.dest)),this.container.appendChild(i),this.container}},{key:"_bindLink",value:function(e,t){var i=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&i.linkService.navigateTo(t),!1},t&&(e.className="internalLink")}},{key:"_bindNamedAction",value:function(e,t){var i=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return i.linkService.executeNamedAction(t),!1},e.className="internalLink"}}]),t}(),h=function(e){function t(e){l(this,t);var i=!!(e.data.hasPopup||e.data.title||e.data.contents);return a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i))}return o(t,u),s(t,[{key:"render",value:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}}]),t}(),f=function(e){function t(){return l(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,u),s(t,[{key:"render",value:function(){return this.container}}]),t}(),p=function(e){function t(e){l(this,t);var i=e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue;return a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i))}return o(t,f),s(t,[{key:"render",value:function(){this.container.className="textWidgetAnnotation";var e=null;if(this.renderInteractiveForms){if(this.data.multiLine?(e=document.createElement("textarea")).textContent=this.data.fieldValue:((e=document.createElement("input")).type="text",e.setAttribute("value",this.data.fieldValue)),e.disabled=this.data.readOnly,null!==this.data.maxLen&&(e.maxLength=this.data.maxLen),this.data.comb){var t=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;e.classList.add("comb"),e.style.letterSpacing="calc("+t+"px - 1ch)"}}else{(e=document.createElement("div")).textContent=this.data.fieldValue,e.style.verticalAlign="middle",e.style.display="table-cell";var i=null;this.data.fontRefName&&(i=this.page.commonObjs.getData(this.data.fontRefName)),this._setTextStyle(e,i)}return null!==this.data.textAlignment&&(e.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(e),this.container}},{key:"_setTextStyle",value:function(e,t){var i=e.style;if(i.fontSize=this.data.fontSize+"px",i.direction=this.data.fontDirection<0?"rtl":"ltr",t){i.fontWeight=t.black?t.bold?"900":"bold":t.bold?"bold":"normal",i.fontStyle=t.italic?"italic":"normal";var s=t.loadedName?'"'+t.loadedName+'", ':"",n=t.fallbackName||"Helvetica, sans-serif";i.fontFamily=s+n}}}]),t}(),v=function(e){function t(e){return l(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,e.renderInteractiveForms))}return o(t,f),s(t,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}]),t}(),m=function(e){function t(e){return l(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,e.renderInteractiveForms))}return o(t,f),s(t,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="radio",e.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}]),t}(),g=function(e){function t(){return l(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,d),s(t,[{key:"render",value:function(){var e=function e(t,i,s){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,i);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,i,s)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(s):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this);return e.className="buttonWidgetAnnotation pushButton",e}}]),t}(),_=function(e){function t(e){return l(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,e.renderInteractiveForms))}return o(t,f),s(t,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var e=document.createElement("select");e.disabled=this.data.readOnly,this.data.combo||(e.size=this.data.options.length,this.data.multiSelect&&(e.multiple=!0));for(var t=0,i=this.data.options.length;t<i;t++){var s=this.data.options[t],n=document.createElement("option");n.textContent=s.displayValue,n.value=s.exportValue,this.data.fieldValue.includes(s.displayValue)&&n.setAttribute("selected",!0),e.appendChild(n)}return this.container.appendChild(e),this.container}}]),t}(),y=function(e){function t(e){l(this,t);var i=!(!e.data.title&&!e.data.contents);return a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i))}return o(t,u),s(t,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon"].includes(this.data.parentType))return this.container;var e='[data-annotation-id="'+this.data.parentId+'"]',t=this.layer.querySelector(e);if(!t)return this.container;var i=new C({container:this.container,trigger:t,color:this.data.color,title:this.data.title,contents:this.data.contents}),s=parseFloat(t.style.left),n=parseFloat(t.style.width);return this.container.style.transformOrigin=-(s+n)+"px -"+t.style.top,this.container.style.left=s+n+"px",this.container.appendChild(i.render()),this.container}}]),t}(),C=function(){function e(t){l(this,e),this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.title=t.title,this.contents=t.contents,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}return s(e,[{key:"render",value:function(){var e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.setAttribute("hidden",!0);var t=document.createElement("div");t.className="popup";var i=this.color;if(i){var s=.7*(255-i[0])+i[0],n=.7*(255-i[1])+i[1],a=.7*(255-i[2])+i[2];t.style.backgroundColor=r.Util.makeCssRgb(0|s,0|n,0|a)}var o=this._formatContents(this.contents),l=document.createElement("h1");return l.textContent=this.title,this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),t.addEventListener("click",this._hide.bind(this,!0)),t.appendChild(l),t.appendChild(o),e.appendChild(t),e}},{key:"_formatContents",value:function(e){for(var t=document.createElement("p"),i=e.split(/(?:\r\n?|\n)/),s=0,n=i.length;s<n;++s){var r=i[s];t.appendChild(document.createTextNode(r)),s<n-1&&t.appendChild(document.createElement("br"))}return t}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),e}(),w=function(e){function t(e){l(this,t);var i=!!(e.data.hasPopup||e.data.title||e.data.contents);return a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,!0))}return o(t,u),s(t,[{key:"render",value:function(){this.container.className="lineAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],i=e.rect[3]-e.rect[1],s=this.svgFactory.create(t,i),n=this.svgFactory.createElement("svg:line");return n.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),n.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),n.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),n.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),n.setAttribute("stroke-width",e.borderStyle.width),n.setAttribute("stroke","transparent"),s.appendChild(n),this.container.append(s),this._createPopup(this.container,n,e),this.container}}]),t}(),A=function(e){function t(e){l(this,t);var i=!!(e.data.hasPopup||e.data.title||e.data.contents);return a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,!0))}return o(t,u),s(t,[{key:"render",value:function(){this.container.className="squareAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],i=e.rect[3]-e.rect[1],s=this.svgFactory.create(t,i),n=e.borderStyle.width,r=this.svgFactory.createElement("svg:rect");return r.setAttribute("x",n/2),r.setAttribute("y",n/2),r.setAttribute("width",t-n),r.setAttribute("height",i-n),r.setAttribute("stroke-width",n),r.setAttribute("stroke","transparent"),r.setAttribute("fill","none"),s.appendChild(r),this.container.append(s),this._createPopup(this.container,r,e),this.container}}]),t}(),k=function(e){function t(e){l(this,t);var i=!!(e.data.hasPopup||e.data.title||e.data.contents);return a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,!0))}return o(t,u),s(t,[{key:"render",value:function(){this.container.className="circleAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],i=e.rect[3]-e.rect[1],s=this.svgFactory.create(t,i),n=e.borderStyle.width,r=this.svgFactory.createElement("svg:ellipse");return r.setAttribute("cx",t/2),r.setAttribute("cy",i/2),r.setAttribute("rx",t/2-n/2),r.setAttribute("ry",i/2-n/2),r.setAttribute("stroke-width",n),r.setAttribute("stroke","transparent"),r.setAttribute("fill","none"),s.appendChild(r),this.container.append(s),this._createPopup(this.container,r,e),this.container}}]),t}(),b=function(e){function t(e){l(this,t);var i=!!(e.data.hasPopup||e.data.title||e.data.contents),s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,!0));return s.containerClassName="polylineAnnotation",s.svgElementName="svg:polyline",s}return o(t,u),s(t,[{key:"render",value:function(){this.container.className=this.containerClassName;for(var e=this.data,t=e.rect[2]-e.rect[0],i=e.rect[3]-e.rect[1],s=this.svgFactory.create(t,i),n=e.vertices,r=[],a=0,o=n.length;a<o;a++){var l=n[a].x-e.rect[0],c=e.rect[3]-n[a].y;r.push(l+","+c)}r=r.join(" ");var u=e.borderStyle.width,d=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",r),d.setAttribute("stroke-width",u),d.setAttribute("stroke","transparent"),d.setAttribute("fill","none"),s.appendChild(d),this.container.append(s),this._createPopup(this.container,d,e),this.container}}]),t}(),I=function(e){function t(e){l(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.containerClassName="polygonAnnotation",i.svgElementName="svg:polygon",i}return o(t,b),t}(),x=function(e){function t(e){l(this,t);var i=!!(e.data.hasPopup||e.data.title||e.data.contents);return a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,!0))}return o(t,u),s(t,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),t}(),P=function(e){function t(e){l(this,t);var i=!!(e.data.hasPopup||e.data.title||e.data.contents);return a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,!0))}return o(t,u),s(t,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),t}(),S=function(e){function t(e){l(this,t);var i=!!(e.data.hasPopup||e.data.title||e.data.contents);return a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,!0))}return o(t,u),s(t,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),t}(),T=function(e){function t(e){l(this,t);var i=!!(e.data.hasPopup||e.data.title||e.data.contents);return a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,!0))}return o(t,u),s(t,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),t}(),L=function(e){function t(e){l(this,t);var i=!!(e.data.hasPopup||e.data.title||e.data.contents);return a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,!0))}return o(t,u),s(t,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),t}(),E=function(e){function t(e){l(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,!0)),s=i.data.file;return i.filename=(0,n.getFilenameFromUrl)(s.filename),i.content=s.content,i.linkService.onFileAttachmentAnnotation({id:(0,r.stringToPDFString)(s.filename),filename:s.filename,content:s.content}),i}return o(t,u),s(t,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,r.warn)("Download cannot be started due to unavailable download manager")}}]),t}(),F=function(){function e(){l(this,e)}return s(e,null,[{key:"render",value:function(e){for(var t=0,i=e.annotations.length;t<i;t++){var s=e.annotations[t];if(s){var r=c.create({data:s,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderInteractiveForms:e.renderInteractiveForms||!1,svgFactory:new n.DOMSVGFactory});r.isRenderable&&e.div.appendChild(r.render())}}}},{key:"update",value:function(e){for(var t=0,i=e.annotations.length;t<i;t++){var s=e.annotations[t],n=e.div.querySelector('[data-annotation-id="'+s.id+'"]');n&&(n.style.transform="matrix("+e.viewport.transform.join(",")+")")}e.div.removeAttribute("hidden")}}]),e}();t.AnnotationLayer=F},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var a,o=r(0),l=r(24),c=r(25),u=(a=c)&&a.__esModule?a:{default:a};var d,h={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},f=function(){for(var e=new Uint8Array([137,80,78,71,13,10,26,10]),t=12,r=new Int32Array(256),a=0;a<256;a++){for(var l=a,c=0;c<8;c++)l=1&l?3988292384^l>>1&2147483647:l>>1&2147483647;r[a]=l}function d(e,t,i,s){var n=s,a=t.length;i[n]=a>>24&255,i[n+1]=a>>16&255,i[n+2]=a>>8&255,i[n+3]=255&a,i[n+=4]=255&e.charCodeAt(0),i[n+1]=255&e.charCodeAt(1),i[n+2]=255&e.charCodeAt(2),i[n+3]=255&e.charCodeAt(3),n+=4,i.set(t,n);var o=function(e,t,i){for(var s=-1,n=t;n<i;n++){var a=255&(s^e[n]);s=s>>>8^r[a]}return-1^s}(i,s+4,n+=t.length);i[n]=o>>24&255,i[n+1]=o>>16&255,i[n+2]=o>>8&255,i[n+3]=255&o}function h(e){var t=e.length,i=Math.ceil(t/65535),s=new Uint8Array(2+t+5*i+4),n=0;s[n++]=120,s[n++]=156;for(var r=0;t>65535;)s[n++]=0,s[n++]=255,s[n++]=255,s[n++]=0,s[n++]=0,s.set(e.subarray(r,r+65535),n),n+=65535,r+=65535,t-=65535;s[n++]=1,s[n++]=255&t,s[n++]=t>>8&255,s[n++]=255&~t,s[n++]=(65535&~t)>>8&255,s.set(e.subarray(r),n),n+=e.length-r;var a=function(e,t,i){for(var s=1,n=0,r=t;r<i;++r)n=(n+(s=(s+(255&e[r]))%65521))%65521;return n<<16|s}(e,0,e.length);return s[n++]=a>>24&255,s[n++]=a>>16&255,s[n++]=a>>8&255,s[n++]=255&a,s}function f(r,a,l,c){var f,p,v,m=r.width,g=r.height,_=r.data;switch(a){case o.ImageKind.GRAYSCALE_1BPP:p=0,f=1,v=m+7>>3;break;case o.ImageKind.RGB_24BPP:p=2,f=8,v=3*m;break;case o.ImageKind.RGBA_32BPP:p=6,f=8,v=4*m;break;default:throw new Error("invalid format")}var y,C,w=new Uint8Array((1+v)*g),A=0,k=0;for(y=0;y<g;++y)w[A++]=0,w.set(_.subarray(k,k+v),A),k+=v,A+=v;if(a===o.ImageKind.GRAYSCALE_1BPP&&c)for(A=0,y=0;y<g;y++)for(A++,C=0;C<v;C++)w[A++]^=255;var b=new Uint8Array([m>>24&255,m>>16&255,m>>8&255,255&m,g>>24&255,g>>16&255,g>>8&255,255&g,f,p,0,0,0]),I=function(e){if(!(0,u.default)())return h(e);try{var t;t=parseInt(s.versions.node)>=8?e:new n(e);var r=i("sEZp").deflateSync(t,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(e){(0,o.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return h(e)}(w),x=e.length+3*t+b.length+I.length,P=new Uint8Array(x),S=0;return P.set(e,S),d("IHDR",b,P,S+=e.length),d("IDATA",I,P,S+=t+b.length),S+=t+I.length,d("IEND",new Uint8Array(0),P,S),(0,o.createObjectURL)(P,"image/png",l)}return function(e,t,i){return f(e,void 0===e.kind?o.ImageKind.GRAYSCALE_1BPP:e.kind,t,i)}}(),p=function(){function e(){this.fontSizeScale=1,this.fontWeight=h.fontWeight,this.fontSize=0,this.textMatrix=o.IDENTITY_MATRIX,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=h.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}();t.SVGGraphics=d=function(){function e(e){if(Number.isInteger(e))return e.toString();var t=e.toFixed(10),i=t.length-1;if("0"!==t[i])return t;do{i--}while("0"===t[i]);return t.substr(0,"."===t[i]?i:i+1)}function t(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":"scale("+e(t[0])+" "+e(t[3])+")";if(t[0]===t[3]&&t[1]===-t[2])return"rotate("+e(180*Math.acos(t[0])/Math.PI)+")"}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return"translate("+e(t[4])+" "+e(t[5])+")";return"matrix("+e(t[0])+" "+e(t[1])+" "+e(t[2])+" "+e(t[3])+" "+e(t[4])+" "+e(t[5])+")"}function i(e,t,i){this.svgFactory=new l.DOMSVGFactory,this.current=new p,this.transformMatrix=o.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!i}var s="http://www.w3.org/1999/xlink",n=["butt","round","square"],r=["miter","round","bevel"],a=0,c=0;return i.prototype={save:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()},restore:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null},group:function(e){this.save(),this.executeOpTree(e),this.restore()},loadDependencies:function(e){for(var t=this,i=e.fnArray,s=i.length,n=e.argsArray,r=0;r<s;r++)if(o.OPS.dependency===i[r])for(var a=n[r],l=0,c=a.length;l<c;l++){var u,d=a[l];u="g_"===d.substring(0,2)?new Promise(function(e){t.commonObjs.get(d,e)}):new Promise(function(e){t.objs.get(d,e)}),this.current.dependencies.push(u)}return Promise.all(this.current.dependencies)},transform:function(e,t,i,s,n,r){var a=[e,t,i,s,n,r];this.transformMatrix=o.Util.transform(this.transformMatrix,a),this.tgrp=null},getSVG:function(e,t){var i=this;this.viewport=t;var s=this._initialize(t);return this.loadDependencies(e).then(function(){i.transformMatrix=o.IDENTITY_MATRIX;var t=i.convertOpList(e);return i.executeOpTree(t),s})},convertOpList:function(e){var t=e.argsArray,i=e.fnArray,s=i.length,n=[],r=[];for(var a in o.OPS)n[o.OPS[a]]=a;for(var l=0;l<s;l++){var c=i[l];r.push({fnId:c,fn:n[c],args:t[l]})}return function(e){for(var t=[],i=[],s=e.length,n=0;n<s;n++)"save"!==e[n].fn?"restore"===e[n].fn?t=i.pop():t.push(e[n]):(t.push({fnId:92,fn:"group",items:[]}),i.push(t),t=t[t.length-1].items);return t}(r)},executeOpTree:function(e){for(var t=e.length,i=0;i<t;i++){var s=e[i].fn,n=e[i].fnId,r=e[i].args;switch(0|n){case o.OPS.beginText:this.beginText();break;case o.OPS.dependency:break;case o.OPS.setLeading:this.setLeading(r);break;case o.OPS.setLeadingMoveText:this.setLeadingMoveText(r[0],r[1]);break;case o.OPS.setFont:this.setFont(r);break;case o.OPS.showText:case o.OPS.showSpacedText:this.showText(r[0]);break;case o.OPS.endText:this.endText();break;case o.OPS.moveText:this.moveText(r[0],r[1]);break;case o.OPS.setCharSpacing:this.setCharSpacing(r[0]);break;case o.OPS.setWordSpacing:this.setWordSpacing(r[0]);break;case o.OPS.setHScale:this.setHScale(r[0]);break;case o.OPS.setTextMatrix:this.setTextMatrix(r[0],r[1],r[2],r[3],r[4],r[5]);break;case o.OPS.setTextRise:this.setTextRise(r[0]);break;case o.OPS.setLineWidth:this.setLineWidth(r[0]);break;case o.OPS.setLineJoin:this.setLineJoin(r[0]);break;case o.OPS.setLineCap:this.setLineCap(r[0]);break;case o.OPS.setMiterLimit:this.setMiterLimit(r[0]);break;case o.OPS.setFillRGBColor:this.setFillRGBColor(r[0],r[1],r[2]);break;case o.OPS.setStrokeRGBColor:this.setStrokeRGBColor(r[0],r[1],r[2]);break;case o.OPS.setDash:this.setDash(r[0],r[1]);break;case o.OPS.setGState:this.setGState(r[0]);break;case o.OPS.fill:this.fill();break;case o.OPS.eoFill:this.eoFill();break;case o.OPS.stroke:this.stroke();break;case o.OPS.fillStroke:this.fillStroke();break;case o.OPS.eoFillStroke:this.eoFillStroke();break;case o.OPS.clip:this.clip("nonzero");break;case o.OPS.eoClip:this.clip("evenodd");break;case o.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case o.OPS.paintJpegXObject:this.paintJpegXObject(r[0],r[1],r[2]);break;case o.OPS.paintImageXObject:this.paintImageXObject(r[0]);break;case o.OPS.paintInlineImageXObject:this.paintInlineImageXObject(r[0]);break;case o.OPS.paintImageMaskXObject:this.paintImageMaskXObject(r[0]);break;case o.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(r[0],r[1]);break;case o.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case o.OPS.closePath:this.closePath();break;case o.OPS.closeStroke:this.closeStroke();break;case o.OPS.closeFillStroke:this.closeFillStroke();break;case o.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case o.OPS.nextLine:this.nextLine();break;case o.OPS.transform:this.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case o.OPS.constructPath:this.constructPath(r[0],r[1]);break;case o.OPS.endPath:this.endPath();break;case 92:this.group(e[i].items);break;default:(0,o.warn)("Unimplemented operator "+s)}}},setWordSpacing:function(e){this.current.wordSpacing=e},setCharSpacing:function(e){this.current.charSpacing=e},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(t,i,s,n,r,a){var o=this.current;this.current.textMatrix=this.current.lineMatrix=[t,i,s,n,r,a],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,o.xcoords=[],o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size",e(o.fontSize)+"px"),o.tspan.setAttributeNS(null,"y",e(-o.y)),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtElement.appendChild(o.tspan)},beginText:function(){this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.current.textMatrix=o.IDENTITY_MATRIX,this.current.lineMatrix=o.IDENTITY_MATRIX,this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.txtElement=this.svgFactory.createElement("svg:text"),this.current.txtgrp=this.svgFactory.createElement("svg:g"),this.current.xcoords=[]},moveText:function(t,i){var s=this.current;this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i,s.xcoords=[],s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size",e(s.fontSize)+"px"),s.tspan.setAttributeNS(null,"y",e(-s.y))},showText:function(i){var s=this.current,n=s.font,r=s.fontSize;if(0!==r){var a,l=s.charSpacing,c=s.wordSpacing,u=s.fontDirection,d=s.textHScale*u,f=i.length,p=n.vertical,v=r*s.fontMatrix[0],m=0;for(a=0;a<f;++a){var g=i[a];if(null!==g)if((0,o.isNum)(g))m+=-g*r*.001;else{var _=g.width,y=g.fontChar,C=_*v+((g.isSpace?c:0)+l)*u;g.isInFont||n.missingFile?(s.xcoords.push(s.x+m*d),s.tspan.textContent+=y,m+=C):m+=C}else m+=u*c}p?s.y-=m*d:s.x+=m*d,s.tspan.setAttributeNS(null,"x",s.xcoords.map(e).join(" ")),s.tspan.setAttributeNS(null,"y",e(-s.y)),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size",e(s.fontSize)+"px"),s.fontStyle!==h.fontStyle&&s.tspan.setAttributeNS(null,"font-style",s.fontStyle),s.fontWeight!==h.fontWeight&&s.tspan.setAttributeNS(null,"font-weight",s.fontWeight),s.fillColor!==h.fillColor&&s.tspan.setAttributeNS(null,"fill",s.fillColor);var w=s.textMatrix;0!==s.textRise&&((w=w.slice())[5]+=s.textRise),s.txtElement.setAttributeNS(null,"transform",t(w)+" scale(1, -1)"),s.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),s.txtElement.appendChild(s.tspan),s.txtgrp.appendChild(s.txtElement),this._ensureTransformGroup().appendChild(s.txtElement)}},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},addFontStyle:function(e){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=(0,o.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+e.loadedName+'"; src: url('+t+"); }\n"},setFont:function(t){var i=this.current,s=this.commonObjs.get(t[0]),n=t[1];this.current.font=s,this.embedFonts&&s.data&&!this.embeddedFonts[s.loadedName]&&(this.addFontStyle(s),this.embeddedFonts[s.loadedName]=s),i.fontMatrix=s.fontMatrix?s.fontMatrix:o.FONT_IDENTITY_MATRIX;var r=s.black?s.bold?"bolder":"bold":s.bold?"bold":"normal",a=s.italic?"italic":"normal";n<0?(n=-n,i.fontDirection=-1):i.fontDirection=1,i.fontSize=n,i.fontFamily=s.loadedName,i.fontWeight=r,i.fontStyle=a,i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"y",e(-i.y)),i.xcoords=[]},endText:function(){},setLineWidth:function(e){this.current.lineWidth=e},setLineCap:function(e){this.current.lineCap=n[e]},setLineJoin:function(e){this.current.lineJoin=r[e]},setMiterLimit:function(e){this.current.miterLimit=e},setStrokeAlpha:function(e){this.current.strokeAlpha=e},setStrokeRGBColor:function(e,t,i){var s=o.Util.makeCssRgb(e,t,i);this.current.strokeColor=s},setFillAlpha:function(e){this.current.fillAlpha=e},setFillRGBColor:function(e,t,i){var s=o.Util.makeCssRgb(e,t,i);this.current.fillColor=s,this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[]},setDash:function(e,t){this.current.dashArray=e,this.current.dashPhase=t},constructPath:function(t,i){var s=this.current,n=s.x,r=s.y;s.path=this.svgFactory.createElement("svg:path");for(var a=[],l=t.length,c=0,u=0;c<l;c++)switch(0|t[c]){case o.OPS.rectangle:n=i[u++],r=i[u++];var d=n+i[u++],h=r+i[u++];a.push("M",e(n),e(r),"L",e(d),e(r),"L",e(d),e(h),"L",e(n),e(h),"Z");break;case o.OPS.moveTo:n=i[u++],r=i[u++],a.push("M",e(n),e(r));break;case o.OPS.lineTo:n=i[u++],r=i[u++],a.push("L",e(n),e(r));break;case o.OPS.curveTo:n=i[u+4],r=i[u+5],a.push("C",e(i[u]),e(i[u+1]),e(i[u+2]),e(i[u+3]),e(n),e(r)),u+=6;break;case o.OPS.curveTo2:n=i[u+2],r=i[u+3],a.push("C",e(n),e(r),e(i[u]),e(i[u+1]),e(i[u+2]),e(i[u+3])),u+=4;break;case o.OPS.curveTo3:n=i[u+2],r=i[u+3],a.push("C",e(i[u]),e(i[u+1]),e(n),e(r),e(n),e(r)),u+=4;break;case o.OPS.closePath:a.push("Z")}s.path.setAttributeNS(null,"d",a.join(" ")),s.path.setAttributeNS(null,"fill","none"),this._ensureTransformGroup().appendChild(s.path),s.element=s.path,s.setCurrentPoint(n,r)},endPath:function(){if(this.pendingClip){var e=this.current,i="clippath"+a;a++;var s=this.svgFactory.createElement("svg:clipPath");s.setAttributeNS(null,"id",i),s.setAttributeNS(null,"transform",t(this.transformMatrix));var n=e.element.cloneNode();"evenodd"===this.pendingClip?n.setAttributeNS(null,"clip-rule","evenodd"):n.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,s.appendChild(n),this.defs.appendChild(s),e.activeClipUrl&&(e.clipGroup=null,this.extraStack.forEach(function(e){e.clipGroup=null})),e.activeClipUrl="url(#"+i+")",this.tgrp=null}},clip:function(e){this.pendingClip=e},closePath:function(){var e=this.current;if(e.path){var t=e.path.getAttributeNS(null,"d");t+="Z",e.path.setAttributeNS(null,"d",t)}},setLeading:function(e){this.current.leading=-e},setTextRise:function(e){this.current.textRise=e},setHScale:function(e){this.current.textHScale=e/100},setGState:function(e){for(var t=0,i=e.length;t<i;t++){var s=e[t],n=s[0],r=s[1];switch(n){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"Font":this.setFont(r);break;case"CA":this.setStrokeAlpha(r);break;case"ca":this.setFillAlpha(r);break;default:(0,o.warn)("Unimplemented graphic state "+n)}}},fill:function(){var e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha))},stroke:function(){var t=this.current;t.element&&(t.element.setAttributeNS(null,"stroke",t.strokeColor),t.element.setAttributeNS(null,"stroke-opacity",t.strokeAlpha),t.element.setAttributeNS(null,"stroke-miterlimit",e(t.miterLimit)),t.element.setAttributeNS(null,"stroke-linecap",t.lineCap),t.element.setAttributeNS(null,"stroke-linejoin",t.lineJoin),t.element.setAttributeNS(null,"stroke-width",e(t.lineWidth)+"px"),t.element.setAttributeNS(null,"stroke-dasharray",t.dashArray.map(e).join(" ")),t.element.setAttributeNS(null,"stroke-dashoffset",e(t.dashPhase)+"px"),t.element.setAttributeNS(null,"fill","none"))},eoFill:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()},fillStroke:function(){this.stroke(),this.fill()},eoFillStroke:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()},closeStroke:function(){this.closePath(),this.stroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.closePath(),this.eoFillStroke()},paintSolidColorImageMask:function(){var e=this.current,t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",e.fillColor),this._ensureTransformGroup().appendChild(t)},paintJpegXObject:function(t,i,n){var r=this.objs.get(t),a=this.svgFactory.createElement("svg:image");a.setAttributeNS(s,"xlink:href",r.src),a.setAttributeNS(null,"width",e(i)),a.setAttributeNS(null,"height",e(n)),a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y",e(-n)),a.setAttributeNS(null,"transform","scale("+e(1/i)+" "+e(-1/n)+")"),this._ensureTransformGroup().appendChild(a)},paintImageXObject:function(e){var t=this.objs.get(e);t?this.paintInlineImageXObject(t):(0,o.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(t,i){var n=t.width,r=t.height,a=f(t,this.forceDataSchema,!!i),o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",e(n)),o.setAttributeNS(null,"height",e(r)),this.current.element=o,this.clip("nonzero");var l=this.svgFactory.createElement("svg:image");l.setAttributeNS(s,"xlink:href",a),l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y",e(-r)),l.setAttributeNS(null,"width",e(n)+"px"),l.setAttributeNS(null,"height",e(r)+"px"),l.setAttributeNS(null,"transform","scale("+e(1/n)+" "+e(-1/r)+")"),i?i.appendChild(l):this._ensureTransformGroup().appendChild(l)},paintImageMaskXObject:function(t){var i=this.current,s=t.width,n=t.height,r=i.fillColor;i.maskId="mask"+c++;var a=this.svgFactory.createElement("svg:mask");a.setAttributeNS(null,"id",i.maskId);var o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",e(s)),o.setAttributeNS(null,"height",e(n)),o.setAttributeNS(null,"fill",r),o.setAttributeNS(null,"mask","url(#"+i.maskId+")"),this.defs.appendChild(a),this._ensureTransformGroup().appendChild(o),this.paintInlineImageXObject(t,a)},paintFormXObjectBegin:function(t,i){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),Array.isArray(i)&&4===i.length){var s=i[2]-i[0],n=i[3]-i[1],r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x",i[0]),r.setAttributeNS(null,"y",i[1]),r.setAttributeNS(null,"width",e(s)),r.setAttributeNS(null,"height",e(n)),this.current.element=r,this.clip("nonzero"),this.endPath()}},paintFormXObjectEnd:function(){},_initialize:function(e){var i=this.svgFactory.create(e.width,e.height),s=this.svgFactory.createElement("svg:defs");i.appendChild(s),this.defs=s;var n=this.svgFactory.createElement("svg:g");return n.setAttributeNS(null,"transform",t(e.transform)),i.appendChild(n),this.svg=n,i},_ensureClipGroup:function(){if(!this.current.clipGroup){var e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup},_ensureTransformGroup:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",t(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}},i}(),t.SVGGraphics=d},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),r=s(0),a=s(39);function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=i("8OiZ"),d=i("ylVj"),h=i("6L+D"),f=i("dQHe"),p=/^file:\/\/\/[a-zA-Z]:\//;var v=function(){function e(t){var i,s;c(this,e),this.source=t,this.url=(i=t.url,"file:"===(s=f.parse(i)).protocol||s.host?s:/^[a-z]:[/\\]/i.test(i)?f.parse("file:///"+i):(s.host||(s.protocol="file:"),s)),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequest=null,this._rangeRequestReaders=[]}return n(e,[{key:"getFullReader",value:function(){return(0,r.assert)(!this._fullRequest),this._fullRequest=this.isFsUrl?new w(this):new y(this),this._fullRequest}},{key:"getRangeReader",value:function(e,t){var i=this.isFsUrl?new A(this,e,t):new C(this,e,t);return this._rangeRequestReaders.push(i),i}},{key:"cancelAllRequests",value:function(e){this._fullRequest&&this._fullRequest.cancel(e),this._rangeRequestReaders.slice(0).forEach(function(t){t.cancel(e)})}}]),e}(),m=function(){function e(t){c(this,e),this._url=t.url,this._done=!1,this._errored=!1,this._reason=null,this.onProgress=null;var i=t.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}return n(e,[{key:"read",value:function(){var e=this;return this._readCapability.promise.then(function(){if(e._done)return Promise.resolve({value:void 0,done:!0});if(e._errored)return Promise.reject(e._reason);var t=e._readableStream.read();if(null===t)return e._readCapability=(0,r.createPromiseCapability)(),e.read();e._loaded+=t.length,e.onProgress&&e.onProgress({loaded:e._loaded,total:e._contentLength});var i=new Uint8Array(t).buffer;return Promise.resolve({value:i,done:!1})})}},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._errored=!0,this._reason=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",function(){t._readCapability.resolve()}),e.on("end",function(){e.destroy(),t._done=!0,t._readCapability.resolve()}),e.on("error",function(e){t._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._errored&&this._readableStream.destroy(this._reason)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}(),g=function(){function e(t){c(this,e),this._url=t.url,this._done=!1,this._errored=!1,this._reason=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)();var i=t.source;this._isStreamingSupported=!i.disableStream}return n(e,[{key:"read",value:function(){var e=this;return this._readCapability.promise.then(function(){if(e._done)return Promise.resolve({value:void 0,done:!0});if(e._errored)return Promise.reject(e._reason);var t=e._readableStream.read();if(null===t)return e._readCapability=(0,r.createPromiseCapability)(),e.read();e._loaded+=t.length,e.onProgress&&e.onProgress({loaded:e._loaded});var i=new Uint8Array(t).buffer;return Promise.resolve({value:i,done:!1})})}},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._errored=!0,this._reason=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",function(){t._readCapability.resolve()}),e.on("end",function(){e.destroy(),t._done=!0,t._readCapability.resolve()}),e.on("error",function(e){t._error(e)}),this._errored&&this._readableStream.destroy(this._reason)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}();function _(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var y=function(e){function t(e){c(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),s=function(t){i._headersCapability.resolve(),i._setReadableStream(t);var s=function(e){return i._readableStream.headers[e.toLowerCase()]},n=(0,a.validateRangeRequestCapabilities)({getResponseHeader:s,isHttp:e.isHttp,rangeChunkSize:i._rangeChunkSize,disableRange:i._disableRange}),r=n.allowRangeRequests,o=n.suggestedLength;i._isRangeSupported=r,i._contentLength=o||i._contentLength,i._filename=(0,a.extractFilenameFromHeader)(s)};return i._request=null,"http:"===i._url.protocol?i._request=d.request(_(i._url,e.httpHeaders),s):i._request=h.request(_(i._url,e.httpHeaders),s),i._request.on("error",function(e){i._errored=!0,i._reason=e,i._headersCapability.reject(e)}),i._request.end(),i}return l(t,m),t}(),C=function(e){function t(e,i,s){c(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));for(var r in n._httpHeaders={},e.httpHeaders){var a=e.httpHeaders[r];void 0!==a&&(n._httpHeaders[r]=a)}return n._httpHeaders.Range="bytes="+i+"-"+(s-1),n._request=null,"http:"===n._url.protocol?n._request=d.request(_(n._url,n._httpHeaders),function(e){n._setReadableStream(e)}):n._request=h.request(_(n._url,n._httpHeaders),function(e){n._setReadableStream(e)}),n._request.on("error",function(e){n._errored=!0,n._reason=e}),n._request.end(),n}return l(t,g),t}(),w=function(e){function t(e){c(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),s=decodeURIComponent(i._url.path);return p.test(i._url.href)&&(s=s.replace(/^\//,"")),u.lstat(s,function(e,t){if(e)return i._errored=!0,i._reason=e,void i._headersCapability.reject(e);i._contentLength=t.size,i._setReadableStream(u.createReadStream(s)),i._headersCapability.resolve()}),i}return l(t,m),t}(),A=function(e){function t(e,i,s){c(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=decodeURIComponent(n._url.path);return p.test(n._url.href)&&(r=r.replace(/^\//,"")),n._setReadableStream(u.createReadStream(r,{start:i,end:s-1})),n}return l(t,g),t}();t.PDFNodeStream=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],s=!0,n=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(s=(a=o.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.getFilenameFromContentDispositionHeader=function(e){var t=!0,i=a("filename\\*","i").exec(e);if(i){var n=c(i=i[1]);return l(n=d(n=u(n=unescape(n))))}if(i=function(e){for(var t=[],i=void 0,n=a("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(i=n.exec(e));){var r=i,o=s(r,4),l=o[1],d=o[2],h=o[3];if((l=parseInt(l,10))in t){if(0===l)break}else t[l]=[d,h]}for(var f=[],p=0;p<t.length&&p in t;++p){var v=s(t[p],2),m=v[0],g=v[1];g=c(g),m&&(g=unescape(g),0===p&&(g=u(g))),f.push(g)}return f.join("")}(e))return l(d(i));if(i=a("filename","i").exec(e)){var r=c(i=i[1]);return l(r=d(r))}function a(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function o(e,i){if(e){if(!/^[^\x00-\xFF]+$/.test(i))return i;try{for(var s=new TextDecoder(e,{fatal:!0}),n=new Array(i.length),r=0;r<i.length;++r)n[r]=i.charCodeAt(0);i=s.decode(new Uint8Array(n)),t=!1}catch(s){/^utf-?8$/i.test(e)&&(i=decodeURIComponent(escape(i)),t=!1)}}return i}function l(e){return t&&/[\x80-\xff]/.test(e)?o("utf-8",e):e}function c(e){if('"'===e.charAt(0)){for(var t=e.slice(1).split('\\"'),i=0;i<t.length;++i){var s=t[i].indexOf('"');-1!==s&&(t[i]=t[i].slice(0,s),t.length=i+1),t[i]=t[i].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function u(e){var t=e.indexOf("'");return-1===t?e:o(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function d(e){return"=?"!==e.slice(0,2)||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,i,s){if("q"===i||"Q"===i)return o(t,s=(s=s.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}));try{return atob(s)}catch(e){return s}})}return""}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),n=i(0),r=i(39);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return{method:"GET",headers:e,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}var l=function(){function e(t){a(this,e),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return s(e,[{key:"getFullReader",value:function(){return(0,n.assert)(!this._fullRequestReader),this._fullRequestReader=new c(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var i=new u(this,e,t);return this._rangeRequestReaders.push(i),i}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach(function(t){t.cancel(e)})}}]),e}(),c=function(){function e(t){var i=this;a(this,e),this._stream=t,this._reader=null,this._loaded=0,this._filename=null;var s=t.source;for(var l in this._withCredentials=s.withCredentials,this._contentLength=s.length,this._headersCapability=(0,n.createPromiseCapability)(),this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._headers=new Headers,this._stream.httpHeaders){var c=this._stream.httpHeaders[l];void 0!==c&&this._headers.append(l,c)}var u=s.url;fetch(u,o(this._headers,this._withCredentials)).then(function(e){if(!(0,r.validateResponseStatus)(e.status))throw(0,r.createResponseStatusError)(e.status,u);i._reader=e.body.getReader(),i._headersCapability.resolve();var t=function(t){return e.headers.get(t)},s=(0,r.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:i._stream.isHttp,rangeChunkSize:i._rangeChunkSize,disableRange:i._disableRange}),a=s.allowRangeRequests,o=s.suggestedLength;i._isRangeSupported=a,i._contentLength=o||i._contentLength,i._filename=(0,r.extractFilenameFromHeader)(t),!i._isStreamingSupported&&i._isRangeSupported&&i.cancel(new n.AbortException("streaming is disabled"))}).catch(this._headersCapability.reject),this.onProgress=null}return s(e,[{key:"read",value:function(){var e=this;return this._headersCapability.promise.then(function(){return e._reader.read().then(function(t){var i=t.value,s=t.done;if(s)return Promise.resolve({value:i,done:s});e._loaded+=i.byteLength,e.onProgress&&e.onProgress({loaded:e._loaded,total:e._contentLength});var n=new Uint8Array(i).buffer;return Promise.resolve({value:n,done:!1})})})}},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}(),u=function(){function e(t,i,s){var l=this;a(this,e),this._stream=t,this._reader=null,this._loaded=0;var c=t.source;for(var u in this._withCredentials=c.withCredentials,this._readCapability=(0,n.createPromiseCapability)(),this._isStreamingSupported=!c.disableStream,this._headers=new Headers,this._stream.httpHeaders){var d=this._stream.httpHeaders[u];void 0!==d&&this._headers.append(u,d)}var h=i+"-"+(s-1);this._headers.append("Range","bytes="+h);var f=c.url;fetch(f,o(this._headers,this._withCredentials)).then(function(e){if(!(0,r.validateResponseStatus)(e.status))throw(0,r.createResponseStatusError)(e.status,f);l._readCapability.resolve(),l._reader=e.body.getReader()}),this.onProgress=null}return s(e,[{key:"read",value:function(){var e=this;return this._readCapability.promise.then(function(){return e._reader.read().then(function(t){var i=t.value,s=t.done;if(s)return Promise.resolve({value:i,done:s});e._loaded+=i.byteLength,e.onProgress&&e.onProgress({loaded:e._loaded});var n=new Uint8Array(i).buffer;return Promise.resolve({value:n,done:!1})})})}},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}();t.PDFFetchStream=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkManager=t.PDFNetworkStream=void 0;var s,n=i(0),r=i(39),a=i(18),o=(s=a)&&s.__esModule?s:{default:s};function l(e,t){this.url=e,t=t||{},this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null),this.loadedRequests=Object.create(null)}function c(e){var t=e.response;return"string"!=typeof t?t:(0,n.stringToBytes)(t).buffer}var u=function(){try{var e=new XMLHttpRequest;return e.open("GET",o.default.location.href),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return!1}}();function d(e){this._source=e,this._manager=new l(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}function h(e,t){this._manager=e;var i={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:t.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=(0,n.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}function f(e,t,i){this._manager=e;var s={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=e.requestRange(t,i,s),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}l.prototype={requestRange:function(e,t,i){var s={begin:e,end:t};for(var n in i)s[n]=i[n];return this.request(s)},requestFull:function(e){return this.request(e)},request:function(e){var t=this.getXhr(),i=this.currXhrId++,s=this.pendingRequests[i]={xhr:t};for(var n in t.open("GET",this.url),t.withCredentials=this.withCredentials,this.httpHeaders){var r=this.httpHeaders[n];void 0!==r&&t.setRequestHeader(n,r)}if(this.isHttp&&"begin"in e&&"end"in e){var a=e.begin+"-"+(e.end-1);t.setRequestHeader("Range","bytes="+a),s.expectedStatus=206}else s.expectedStatus=200;return u&&!!e.onProgressiveData?(t.responseType="moz-chunked-arraybuffer",s.onProgressiveData=e.onProgressiveData,s.mozChunked=!0):t.responseType="arraybuffer",e.onError&&(t.onerror=function(i){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),i},onProgress:function(e,t){var i=this.pendingRequests[e];if(i){if(i.mozChunked){var s=c(i.xhr);i.onProgressiveData(s)}var n=i.onProgress;n&&n(t)}},onStateChange:function(e,t){var i=this.pendingRequests[e];if(i){var s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4===s.readyState&&e in this.pendingRequests)if(delete this.pendingRequests[e],0===s.status&&this.isHttp)i.onError&&i.onError(s.status);else{var n=s.status||200;if(200===n&&206===i.expectedStatus||n===i.expectedStatus){this.loadedRequests[e]=!0;var r=c(s);if(206===n){var a=s.getResponseHeader("Content-Range"),o=/bytes (\d+)-(\d+)\/(\d+)/.exec(a),l=parseInt(o[1],10);i.onDone({begin:l,chunk:r})}else i.onProgressiveData?i.onDone(null):r?i.onDone({begin:0,chunk:r}):i.onError&&i.onError(s.status)}else i.onError&&i.onError(s.status)}}},hasPendingRequests:function(){for(var e in this.pendingRequests)return!0;return!1},getRequestXhr:function(e){return this.pendingRequests[e].xhr},isStreamingRequest:function(e){return!!this.pendingRequests[e].onProgressiveData},isPendingRequest:function(e){return e in this.pendingRequests},isLoadedRequest:function(e){return e in this.loadedRequests},abortAllRequests:function(){for(var e in this.pendingRequests)this.abortRequest(0|e)},abortRequest:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}},d.prototype={_onRangeRequestReaderClosed:function(e){var t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)},getFullReader:function(){return(0,n.assert)(!this._fullRequestReader),this._fullRequestReader=new h(this._manager,this._source),this._fullRequestReader},getRangeReader:function(e,t){var i=new f(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i},cancelAllRequests:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach(function(t){t.cancel(e)})}},h.prototype={_onHeadersReceived:function(){var e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=function(e){return t.getResponseHeader(e)},s=(0,r.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),n=s.allowRangeRequests,a=s.suggestedLength;n&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(i);var o=this._manager;o.isStreamingRequest(e)?this._isStreamingSupported=!0:this._isRangeSupported&&o.abortRequest(e),this._headersReceivedCapability.resolve()},_onProgressiveData:function(e){this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._cachedChunks.push(e)},_onDone:function(e){e&&this._onProgressiveData(e.chunk),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[])},_onError:function(e){var t=this._url,i=(0,r.createResponseStatusError)(e,t);this._storedError=i,this._headersReceivedCapability.reject(i),this._requests.forEach(function(e){e.reject(i)}),this._requests=[],this._cachedChunks=[]},_onProgress:function(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})},get filename(){return this._filename},get isRangeSupported(){return this._isRangeSupported},get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},read:function(){if(this._storedError)return Promise.reject(this._storedError);if(this._cachedChunks.length>0){var e=this._cachedChunks.shift();return Promise.resolve({value:e,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});var t=(0,n.createPromiseCapability)();return this._requests.push(t),t.promise},cancel:function(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},f.prototype={_close:function(){this.onClosed&&this.onClosed(this)},_onDone:function(e){var t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t;this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._close()},_onProgress:function(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})},get isStreamingSupported(){return!1},read:function(){if(null!==this._queuedChunk){var e=this._queuedChunk;return this._queuedChunk=null,Promise.resolve({value:e,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});var t=(0,n.createPromiseCapability)();return this._requests.push(t),t.promise},cancel:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},t.PDFNetworkStream=d,t.NetworkManager=l}])},e.exports=r()}).call(t,i("9AUj"),i("V0EG"),i("7xR8").Buffer)},BC9n:function(e,t){},C4zT:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAAAcCAYAAAD7lUj9AAAACXBIWXMAAAsSAAALEgHS3X78AAAEL0lEQVRoge1aPW8TQRB9sUIDQjF1ipiKBsmmujKmByUSqWiSFEgUCOL6CkxxooxTIERDjn/g/AIfojqaOPADiAs6JOwC2qA5vXUm6z3fnWOjJM6TVnH2br9mZ968XXvh5OQEeeEF2AGSsmI1OZD62Mdx7s6uOEoFjFoGsOswqmANwNa8G1NjscC7YtgBgCUARwD6rF9lfT+j/VxhhAromRsAfsU+2o5nZR3yrEPsnzWsF6AG4DmA5djH42vDBvgO4D7/FU9ss3THcSgNLMZcZ9GU8S728WJWi7iIcFHBDfVZwn6TRYwn+OxoU+O7afh59U15Fi7DdgDcG9NmdYJx3k8yucsMlyr4oD7/AfCGXjrIsU5JansAPqq6A5t/5wEjHhv76HoBeuTIWwCi2EcTZ3nUxrGV0CL1vO14PxXUymXH866dTP8XuG6ZV1vsk2fYNLkVGV6lISOcZv4opY2GNn6e9zV20x54AY5i37mxs4aM+Zpj5DJsiROuewHa8pf1OvtXikzaC5L3TSIbGE/2giQSQiPPMvA59rFgCoA7pKOqFySK48LDeGxHTTRiMTtU1EP0RnRpVDmVVVnE0M0iHUqkeEHSpsP5tNmv/A01RbBOQjbk/9Ku7ug2oThudJhCP61x9EOt3lRtQzNuSXnpLGCSlg6fSccznqr7WnNsfNbxukZlY9qVHUZdZUmNLtrtkOP12d++F6AFeqxunIs/MqAXmvTHhFioD3oaOL86vb1XNIGZxItTD5No7Bnjk6rq6p0tGvWT8b4UtFh9V/qg58vcXolxbcNOA9Pob0lRkcERM/NEUAsXrLskII26T47PulSqmg1yOE1l8TyJKgW6vzJOE1oRFMn+mRtJo0aUkA9dkone3OIG5k2QKw5qkyRbXrTCfxpSRhvW9KcHz0M3RQ4UwzmPURwhPWw79kfln6IIpHlzCsQBNI0kOl/GKLGTPT4zoVLUEGkwCzWTHnCR00KPfGzGGVEbIvGYYJycqVSB0E+9wGX9AeWfpidZZ0ciNJFbsY8dTsB0qkO30LcCsluKc6qsE3LfpsSZ5rcMIbn4txcM74ptmIPOphcMP4Ma25yoqqw7tPhSjuNptGBk3C6Na27zGrLG4cnL4p3zeqw5EieyRIydkWE1Gnk3kzq0Szo4ZsTVrfaNFB424T5OZRhVI87S0KdIKp0K1UWZ/bWN47juY+XlH6rqASdboye7rgh7XEyX5RGAJ3y2JxGRx1BXCa67Ai0z/lIEZ2GFxXWluHEemXRZ4bo2fKk+35zCupaZdecKLo+1w3yg7g+6vL6zv9+qkCbqLLbn3r42LPCNPPoVwNusIyTlSp/6MFJ1TwE8o9b7MrMVXFDk/sEGvTKkN7q+/m7G/vD8PPco8ruCvgrxqvVsaQZ3DpcauX8JQ15tUFppDHgKufZWAwD/ACVmabndmdKYAAAAAElFTkSuQmCC"},CEk0:function(e,t){},DbkO:function(e,t){},Dr8r:function(e,t,i){"use strict";function s(e,t,i){var s=new Date;s.setSeconds(s.getSeconds()+i),document.cookie=e+"="+escape(t)+"; expires="+s.toGMTString()}t.b=s,t.a=function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!=t){t=t+e.length+1;var i=document.cookie.indexOf(";",t);return-1==i&&(i=document.cookie.length),unescape(document.cookie.substring(t,i))}}return""}},"Du/2":function(e,t,i){"use strict";i.d(t,"f",function(){return s}),i.d(t,"b",function(){return n}),i.d(t,"n",function(){return r}),i.d(t,"l",function(){return a}),i.d(t,"k",function(){return o}),i.d(t,"j",function(){return l}),i.d(t,"q",function(){return c}),i.d(t,"p",function(){return u}),i.d(t,"o",function(){return d}),i.d(t,"m",function(){return h}),i.d(t,"e",function(){return f}),i.d(t,"h",function(){return p}),i.d(t,"g",function(){return v}),i.d(t,"a",function(){return m}),i.d(t,"c",function(){return g}),i.d(t,"i",function(){return _}),i.d(t,"d",function(){return y}),i.d(t,"r",function(){return C});var s="SHOW_NEWPREJECTPOP",n="DETAILS_CHANGE",r="TASKTITLE_CHANGE",a="TASKSTAR_CHANGE",o="TASKREMIND_CHANGE",l="TASKITEM_CHANGE",c="TASK_POSITION",u="TASK_LIST",d="TASK_INDEX",h="TASKTIME_CHANGE",f="PROJECT_CHANGE",p="TASKDELCHANGE",v="STAGEINFO_CHANGE",m="CHECKEDLIST_CHANGE",g="FILELENGTH_CHANGE",_="TASKIDS_CHANGE",y="POWER_CHANGE",C="UNREAD_CHANGE"},DxyD:function(e,t,i){"use strict";(function(e){var s,n=i("ZLEe"),r=i.n(n),a=i("aA9S"),o=i.n(a),l=i("a3Yh"),c=i.n(l),u=i("3cXf"),d=i.n(u),h=i("+Llw"),f=i("kwUQ"),p=i("lMB+"),v=(i.n(p),i("9r/T")),m=(i.n(v),i("44qn"));i.n(m);t.a={components:{Reminder2:h.a,topBar:f.a},data:function(){return{reminder2Flag:!1,userId:"",activeName:"first",industryLists:[],profession:"",check:!0,checkTwo:!0,realName:"",personalImg:"",triangleShow:!1,radio:"",radio2:"",job:"",tell:"",year:"",month:"",day:"",password:"",erroPaw:"",repPassword:"",oldPwd:"",hintBoxShow:!1,email:"",emails:"",errorPwdTwo:"",hintName:!1,errorCode:"",emailCode:"",getcodeShow:!1,countdownTime:"300s",imgCodeShow:!1,imgCodes:"",imgCodeMain:"",hintPwd:!1,errorPwd:"",errorEmail:"",xwName:"",boundEmail:!1,hintimgCode:!1,wrongNumber:0,validate:"",errMessage:"",buttonMes:"",logInShow:!1,countDown:5,popBoxShow:0,yearNow:(new Date).getFullYear(),couponSelected:"",mySelf:"",saveShow:!1,makeSure:!1,popContent:"",unionid:""}},watch:{personalImg:function(e,t){console.log(1,e,2,t),this.saveShow=!0},realName:function(e,t){this.mySelf.realName!==e?this.saveShow=!0:this.saveShow=!1},profession:function(e){this.mySelf.industry!==e?this.saveShow=!0:this.saveShow=!1},job:function(e){this.mySelf.position!==e?this.saveShow=!0:this.saveShow=!1},tell:function(e){this.mySelf.mobi!==e?this.saveShow=!0:this.saveShow=!1},year:function(e){this.mySelf.birthday.split("-")[0]!==e?(this.saveShow=!0,console.log(this.mySelf.realName,e)):this.saveShow=!1},month:function(e){var t=this.mySelf.birthday.split("-");Number(t[1])!==e?this.saveShow=!0:this.saveShow=!1},day:function(e){this.mySelf.birthday.split("-")[2]!==e?this.saveShow=!0:this.saveShow=!1}},computed:{yearLists:function(){for(var e=[],t=this.yearNow;t>=1970;t--)e.push(t);return e},monthLists:function(){for(var e=[],t=1;t<=12;t++)e.push(t);return e},dayList:function(){if(this.month&&this.year){var e=0;switch(this.month){case 1:case 3:case 5:case 7:case 8:case 10:case 12:e=31;break;case 4:case 6:case 9:case 11:e=30;break;case 2:e=28,(this.year%4==0&&this.year%100!=0||this.year%400==0)&&(e=29)}return e}}},methods:(s={getCouponSelected:function(e){console.log(e)},reminderSure:function(){var e=this;this.reminder2Flag=!1;var t={userpkid:this.userId};this.$HTTP("post","/user_relieve_bindwx",t).then(function(t){e.$message("解除成功"),e.xwName=""})},reminderCancel:function(){this.reminder2Flag=!1},handleClick:function(e,t){this.erroPaw="",this.errorEmail=!1,this.imgCodes=!1},imgcodeFocus:function(){this.imgCodes=!1,this.erroPaw=""},codeFocus:function(){this.erroPaw="",this.errorCode=!1},saveMain:function(){var e=this;this.year&&(this.year,this.month,this.day);var t={userId:this.userId,pic:this.personalImg,realName:this.realName,industry:this.profession,position:this.job,mobi:this.tell,birthday:""};this.$HTTP("post","/user_update_info",t).then(function(t){200==t.code?(e.mySelf={userId:e.userId,pic:e.personalImg,realName:e.realName,industry:e.profession,position:e.job,mobi:e.tell,birthday:e.year+"-"+e.month+"-"+e.day},e.saveShow=!1,e.$message("信息修改成功")):e.$message("信息修改失败")})},pawdFocus:function(){this.errorPwd=!1,this.erroPaw="",this.triangleShow=!0},oldPawdFocus:function(){this.erroPaw=""},oldPwdAutofocus:function(){this.oldPwd||(this.erroPaw="请输入旧密码")},handleAvatarSuccess:function(e,t){this.personalImg=e},beforeAvatarUpload:function(e){e.type;var t=e.size/1024/1024<2;return t||this.$message.error("上传头像图片大小不能超过 2MB!"),t},getIndustry:function(){var e=this;this.$HTTP("post","/category_get",{categoryId:7}).then(function(t){e.industryLists=t.result})},getInfo:function(e){var t=this,i={userPkid:e};this.$HTTP("post","/user_get",i).then(function(e){var i=e.result;t.mySelf=e.result,t.realName=i.realName,t.personalImg=i.pic,t.emails=i.email,i.industry&&(t.profession=i.industry),t.job=i.position,t.tell=i.mobi;var s=i.birthday.split("-");t.year=s[0],t.month=Number(s[1]),t.day=s[2],t.xwName=i.nickname,t.unionid=i.unionid})},popoShow:function(e){var t=this;this.popBoxShow=!0;var i=window.setInterval(function(){t.countDown--,t.countDown<1&&(window.clearInterval(i),t.popBoxShow=!1,e?t.$router.push("/login"):t.boundEmail=!1,localStorage.setItem("staffInfo",""))},1e3)},amendMain:function(){var e=this;if(this.autofocusPw(),""==this.erroPaw){var t={userpkid:this.userId,oldPwd:this.oldPwd,pwd:this.password};this.$HTTP("post","/user_update_pwd2",t).then(function(t){2==t.code?e.erroPaw="旧密码输入错误，请核对后再输入":(e.popoShow(!0),e.popContent="密码修改成功,即将跳转到登录页面")})}},emailFocus:function(){this.errorEmail=!1,this.erroPaw=""},autofocusPw:function(){this.radio&&this.radio2||(this.erroPaw="密码格式不正确，请重新输入",this.errorPwd=!0),this.triangleShow=!1,""==this.password&&(this.erroPaw="请输入密码")},pwdInput:function(e){if(e.length>=6?this.radio=!0:this.radio=!1,!/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,21}$/.test(e))return this.radio2=!1,!1;this.radio2=!0},autofocusPwTw:function(){if(this.password!==this.repPassword)return this.erroPaw="两次输入的密码必须保持一致",void(this.errorPwdTwo=!0);this.erroPaw="",""==this.password&&(this.erroPaw="请输入密码",this.errorPwdTwo=!0)},getCode:function(e){var t=this;if(this.autofocusEm(this.email),this.erroMessage)return!1;if(this.emailExists(this.email),"number"==typeof e){this.num=e;var i=window.setInterval(function(){t.num--,t.countdownTime=t.num+"s",t.num<1&&(window.clearInterval(i),t.getcodeShow=!1)},1e3)}else{this.num=30,this.countdownTime=this.num+"s";var s=window.setInterval(function(){t.num--,t.countdownTime=t.num+"s",t.num<1&&(window.clearInterval(s),t.getcodeShow=!1)},1e3),n={name:this.name,email:this.email,num:(new Date).getTime()};localStorage.setItem("myCenterCode",d()(n))}},getEmailCode:function(e){var t=this,i={email:e};this.$HTTP("post","/user_code_get",i).then(function(e){t.CODES=e.result})},register:function(){if(this.autofocusEm(this.email),this.autofocusPw(),this.autofocusPwTw(),""!==this.erroPaw)return!1;if(this.$md5(this.emailCode)==this.CODES)if(console.log("图片校验码正确"),localStorage.getItem("wrongNum")<5)console.log("邮箱验证码正确，且不需要输入图片验证码");else{console.log("图片校验码错误，需要输入图片验证码");var e=this.imgCodeMain.toUpperCase();this.validate=this.validate.toUpperCase(),e==this.validate?console.log("需要输入图片验证码，但是图片验证码输入正确"):(console.log("需要输入图片验证码，但是图片验证码输入错误"),this.imgCodes=!0,this.erroPaw="图片验证码输入错误")}else this.erroPaw="验证码错误",this.errorCode=!0,this.wrongNumber++,localStorage.setItem("wrongNum",this.wrongNumber),localStorage.getItem("wrongNum")>=5&&(this.imgCodeShow=!0)},zhuce:function(){var e=this,t={realName:this.name,email:this.email,pwd:this.password};this.$HTTP("post","/user_register",t).then(function(t){200==t.code&&(e.$message("注册成功,请登录"),e.$router.push("/login"),localStorage.setItem("wrongNum",0),localStorage.setItem("myCenterCode",""))})},pawdFocusTwo:function(){this.errorPwdTwo=!1,this.erroPaw=""},autofocusEm:function(e){if(""==this.email)return this.errorEmail="请输入您的工作邮箱",this.erroPaw="请输入您的工作邮箱",!1;if(!/^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/.test(this.email))return this.erroPaw="请输入正确的邮箱格式",this.errorEmail=!0,!1;this.erroPaw="",this.errorEmail=!1},emailExists:function(e){var t=this,i={info:e};this.$HTTP("post","/user_exists_info",i).then(function(e){200==e.code?(t.getEmailCode(t.email),t.getcodeShow=!0):1==e.code&&(t.erroPaw="该邮箱已经绑定其他Eggs账户，请解绑后尝试绑定")})},autofocusCode:function(){if(""==this.emailCode)return this.erroPaw="验证码输入错误，请核对后再输入",this.errorCode=!0,!1},autofocusImgCode:function(){""==this.imgCodeMain&&(this.erroPaw="请输入图片验证码",this.imgCodes=!0)}},c()(s,"emailFocus",function(){this.errorEmail=!1,this.erroPaw=""}),c()(s,"imgcodeFocus",function(){this.imgCodes=!1,this.erroPaw=""}),c()(s,"pwFocus",function(){this.hintPw=!0}),c()(s,"confirmToSubmit",function(){if(this.autofocusEm(),this.autofocusCode(),this.autofocusPw(),this.autofocusPwTw(),!this.erroPaw)if(this.$md5(this.emailCode)==this.CODES)if(localStorage.getItem("wrongNum")<5)this.bindEmail();else{var e=this.imgCodeMain.toUpperCase();this.validate=this.validate.toUpperCase(),e==this.validate?this.bindEmail():(this.imgCodes=!0,this.erroPaw="动态验证码输入错误，请核对后再输入")}else this.erroPaw="验证码输入错误，请核对后再输入",this.errorCode=!0,this.wrongNumber++,localStorage.setItem("wrongNum",this.wrongNumber),localStorage.getItem("wrongNum")>=5&&(this.imgCodeShow=!0)}),c()(s,"bindEmail",function(){var e=this,t={userId:this.userId,email:this.email,pwd:this.password};this.$HTTP("post","/user_updateByUserId_emailAndPwd",t).then(function(t){200==t.code&&(localStorage.setItem("wrongNum",0),e.activeName="first",e.$message.success("邮箱及密码设置成功，下次您可以使用该邮箱及密码进行登录"))})}),c()(s,"changeBind",function(){if(this.autofocusEm(),this.$md5(this.emailCode)==this.CODES)if(localStorage.getItem("wrongNum")<5)this.changeBindEmail();else{var e=this.imgCodeMain.toUpperCase();this.validate=this.validate.toUpperCase(),e==this.validate?this.changeBindEmail():(this.imgCodes=!0,this.erroPaw="动态验证码输入错误，请核对后再输入")}else this.erroPaw="验证码输入错误，请核对后再输入",this.errorCode=!0,this.wrongNumber++,localStorage.setItem("wrongNum",this.wrongNumber),localStorage.getItem("wrongNum")>=5&&(this.imgCodeShow=!0)}),c()(s,"changeBindEmail",function(){var e=this,t={userPkid:this.userId,email:this.email};this.$HTTP("post","/user_binding_email",t).then(function(t){localStorage.setItem("wrongNum",0),localStorage.setItem("myCenterCode",""),e.popoShow(!1),e.popContent="邮箱更换成功，下次请使用"+e.emails+"登录，登录密码不变"})}),c()(s,"removeWxBind",function(){this.emails?(this.buttonMes="确认",this.errMessage="解除绑定后将无法继续使用该账号进行登录"):(this.buttonMes="解除绑定",this.errMessage="这是登录此账号的最后一个凭证了。解除绑定后，此账号数据将丢失，无法找回"),this.reminder2Flag=!0}),c()(s,"bindWx",function(e,t){var i=this,s={userId:this.userId,nickname:e,unionid:t};this.$HTTP("post","/user_binding_bindwx",s).then(function(e){i.xwName=e.result})}),s),created:function(){var e=this;if(localStorage.getItem("myCenterCode")){var t=JSON.parse(localStorage.getItem("myCenterCode"));this.name=t.name,this.email=t.email;var i=30-Math.ceil((new Date).getTime()/1e3-t.num/1e3);i>=0?this.getCode(i):(this.num=0,localStorage.setItem("myCenterCode",""))}if(localStorage.getItem("staffInfo")){var s=JSON.parse(localStorage.getItem("staffInfo"));this.userId=s.userPkid;var n=localStorage.getItem("wrongNum");this.imgCodeShow=n>=5,this.getInfo(this.userId),this.getIndustry()}else this.$router.push("/login");if(decodeURI(window.location.href).split("?")[1]){var a=decodeURI(window.location.href).split("?")[1].split("&");if("openid"==a[0].split("=")[0]){console.log(2322);var l=a[2].split("=")[1],c=a[4].split("=")[1],u={openid:a[0].split("=")[1],unionid:a[1].split("=")[1]},d=o()({},u);for(var h in u)u[h]=encodeURIComponent(u[h]);d.key="4951841F25AF0C695331B3F3C0369089";a&&function(t){for(var i=r()(t).sort(),s={},n=0;n<i.length;n++)s[i[n]]=t[i[n]];var a="";for(var o in s)s[o]=encodeURIComponent(s[o]),a+=o+"="+s[o]+"&";return a=(a=a.slice(0,a.length-1)).toLocaleUpperCase(),a=(a=e.$md5(a)).toLocaleUpperCase()}(d)==c&&(this.xwName=l)}if("state"==a[0].split("=")[0])if(1==a[0].split("=")[1])this.$message("该微信已经绑定其他Eggs账户，请解绑后尝试绑定");else if(0==a[0].split("=")[1]){var f=a[1].split("=")[1],p=a[2].split("=")[1];this.xwName=p,console.log("11111111"),this.bindWx(p,f)}}},mounted:function(){var t=this;this.$nextTick(function(){var i=t,s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";function n(e,t){if(e=Number(e),t=Number(t),isNaN(e)||isNaN(t))return Math.random();if(e>t){var i=e;e=t,t=i}return Math.round(Math.random()*(t-e)+e)}function r(){for(var e="",t=0;t<4;t++){var r=n(0,61);e+=s.charAt(r)}i.validate=e}r(),e("#validate").click(function(){r()})})}}}).call(t,i("L7Pj"))},EBPn:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABBCAYAAACel4eZAAAACXBIWXMAAAsSAAALEgHS3X78AAAC7ElEQVRoBe2b3W/SUBTAT29LAWEMZIRswtgys8Rp4tde5oP6pK+L/4D/mn+B8uqb0QcfnMYlbi5b3NyGc2QgHyuDUqDmdCtBtwEtX6fL/SWEhntP7vn13HtLaBF0XYfkynrQ53a9rtUbSz63rPg9cglGwEHuOFJrNLYA4Ony4kLeTgbCm09rQb9H3pgJB6M3QmOj8GjyYWtPOVE1PwCs2pViWJlYKDBymf+4CwDvcOZYDWQNHR4kwuODTtAOtqSYS2Q6GYXzWJZiwWuewhATtIMlKUYu/YvpWsopQnAmlezUyUlCyJPkyvqrdh2cJoS8bCflRCFoJ+VUIbhMipSQLIqSxZBzUqSEYqGARxAExWLYP1KkhKIBH8gSk22ENqVICUkig4eJSVlirGoj3JCyOmcHzpjHDY9uxuWNwyMtq1QaAFDSQde6GleHZ+SEEK8swf3pSRcel6s1d1nrzmc3W0iTFGoF5fDVDeliqeLk69CFcCHqcCHqcCHqcCHqcCHqcCHqcCHqcCHqcCHqcCHqcCHqcCHqXDmhnn8KLlc1eL+5d2n77akIrB0cweLMFIT9XuOz1J8ibKazMDsRMt4vwiu74PH8tOV8ehbCgZ/fmTOOd47yRoLz0TDMRk4fKSiW1dO2TK4ptJ3JgySKRh+z3+p+Gg4LCizNxSDgddvOZ+BTDpOLXQ9AVikbciiNVY2HAgMZbyhrCCvmEhnsZPKwnysakmZl+s1QhFAGq4RTCquDgoNiaLucuZbgbCNxtBCuG1xDWBmcbrhxDErKlhCe7bfffhiJdgJFUMBcN/fiUSPi6366ryImfa2Qeeuw9RZitnRirCFTBLd5vP7gSUHZ1ljsh+29IHzeTv28NTmR6KfYqPj+O7PLv8tRhwtR5+oJFctqlEAefSF/Uhlnaq2uDmGsoaDVGwJjAnzZzVJ/Fr0z6IAurKRqL1K5YvpX7ph6zpeCuaMDupD6/5BVlErVV1KrfklkH1FmeXEh/xd/9iOXCyrJbgAAAABJRU5ErkJggg=="},ERgZ:function(e,t){},EVfD:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAACXBIWXMAAAsSAAALEgHS3X78AAAB7ElEQVRIDWOcc/5r3ZPPfxu1RVmfsjMz/mEgEVx+/Zvn11+GkgZbngXYdDI2HPr031OZg0FHlJVUs8Fg0pkvH3/8YeBnYGBIxGYJE8jl5BqOBuY3HP6SgGEBOcFCiiVMVDQcqyW0sADFEhZKTWJiYODGYwnlPgjT5GLhYGb4zcrE8JaFieElMmZmZGij2Adi3EwMeaY8rI8//RVGlzvz/NdLii2AAVk+ZgyxW++YftAqkuFg1IJRC0YtGEwWvPzyj+Huu78oYuh8bABrWZS54QvYQBBocOZi+PLrP8P6q78YuNkZGZSFmBliDdkZGvZ+Y+BhY2S4+/YvQ4kdJ0PPoe8MbqqsDMce/mHo9kKU4DgLO5DBINBz+DsDNxsjQ6Y5B4OeJAtD3KrPDOI8jGC5EltOhvVXf4ItspJnZVh8/ifD9AAe8oIIGXz99R81qN7+Zdh9+xfYEpBPkQGKD2ac/AF3HSgIkIMI5DqG8z8ZXFXZwHjX7a9g34EMBwUNyPAYQ3aGrA1fwDTIVyDAuOnWjwfOCuzyhFwNsgQUL6A4gLv83V8UPjrY++DnQ6IrHJCLeNAMw2c4DDD9/PufarUaOgCZzXT19W/pK69/U91wkJkgs1lkeJnrt9/90fjo01+yGr/YAMjlIMNleJnrAVXjwEp8TGaNAAAAAElFTkSuQmCC"},FPhu:function(e,t,i){"use strict";var s=i("U4uA"),n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"notice_wrapper",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"notice_content"},[i("div",{staticClass:"notice_top"},[i("span",{staticClass:"fl"},[e._v("通知")]),e._v(" "),e.noticeList.length?i("span",{staticClass:"fr",on:{click:function(t){return t.stopPropagation(),e.clickAllRead(t)}}},[e._v("标记全部已读")]):i("span",{staticClass:"fr cur_dis"},[e._v("标记全部已读")])]),e._v(" "),i("div",{staticClass:"notice_list",attrs:{id:"noticeList"}},[e.noticeList.length?e._l(e.noticeList,function(t,s){return i("div",{key:t.Pkid,staticClass:"notice_every clearfix",on:{click:function(i){e.enterDetail(t,s)}}},[i("span",{staticClass:"left_header fl"},[i("img",{attrs:{src:t.userPic,alt:""}})]),e._v(" "),i("div",{staticClass:"right_detail fl"},[i("div",{staticClass:"notice_from"},[e._v(e._s(t.userName))]),e._v(" "),1===t.Type?i("div",{staticClass:"notice_type"},[e._v("已将你加入"),i("span",{class:t.Enabled?"mainColor_text":"read_style"},[e._v(e._s(t.Content))])]):2===t.Type?i("div",{staticClass:"notice_type"},[e._v("已将你移出"),i("span",{staticClass:"gray_night"},[e._v(e._s(t.Content))])]):3===t.Type?i("div",{staticClass:"notice_type"},[e._v("已将你加入"),i("span",{class:t.Enabled?"mainColor_text":"read_style"},[e._v(e._s(t.Content))]),e._v("阶段")]):4===t.Type?i("div",{staticClass:"notice_type"},[e._v("已将你移出"),i("span",{staticClass:"gray_night"},[e._v(e._s(t.Content))]),e._v("阶段")]):11===t.Type?i("div",{staticClass:"notice_type"},[e._v("评论"),i("span",{class:t.Enabled?"mainColor_text":"read_style"},[e._v(e._s(t.Content))]),e._v("："+e._s(t.Remarks))]):5===t.Type?i("div",{staticClass:"notice_type"},[e._v("评论"),i("span",{class:t.Enabled?"mainColor_text":"read_style"},[e._v(e._s(t.Content))]),e._v("："+e._s(t.Remarks))]):6===t.Type?i("div",{staticClass:"notice_type"},[e._v("在评论 "),i("span",[e._v(e._s(t.userName))]),e._v("的"),i("span",{class:t.Enabled?"mainColor_text":"read_style"},[e._v(e._s(t.Content))]),e._v("时@你："+e._s(t.Remarks))]):7===t.Type?i("div",{staticClass:"notice_type"},[e._v("已经完成工作并将文件移交给你")]):8===t.Type?i("div",{staticClass:"notice_type"},[e._v("已将"),i("span",{class:t.Enabled?"mainColor_text":"read_style"},[e._v(e._s(t.Content))]),e._v("交接给你")]):9===t.Type?i("div",{staticClass:"notice_type"},[e._v("已将"),i("span",{class:t.Enabled?"mainColor_text":"read_style"},[e._v(e._s(t.Content))]),e._v("归档")]):10===t.Type?i("div",{staticClass:"notice_type"},[e._v("已将"),i("span",{class:t.Enabled?"mainColor_text":"read_style"},[e._v(e._s(t.Content))]),e._v("从归档项目中恢复")]):e._e(),e._v(" "),i("div",{staticClass:"notice_time"},[e._v(e._s(t.showDate))])]),e._v(" "),i("i",{staticClass:"iconfont icon-yidu",on:{click:function(t){t.stopPropagation(),e.clickRead(s)}}}),e._v(" "),s<e.noticeList.length-1?i("div",{staticClass:"bottom_line"}):e._e()])}):i("div",{staticClass:"notice_empty"},[e._m(0),e._v(" "),i("p",[e._v("您还没有未读通知点击")]),e._v(" "),i("p",[e._v("点击"),i("span",{staticClass:"mainColor_text",on:{click:e.seeAllNotice}},[e._v("查看全部通知")]),e._v("查看所有通知")])])],2),e._v(" "),i("div",{staticClass:"notice_bottom"},[i("span",{staticClass:"fl",on:{click:e.seeAllNotice}},[e._v("查看全部通知")]),e._v(" "),i("el-tooltip",{attrs:{effect:"dark",content:"设置",placement:"top","open-delay":300}},[i("i",{staticClass:"iconfont icon-shezhi1 fr",on:{click:e.clickSet}})])],1)]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"empty_img"},[t("img",{attrs:{src:i("ba5N"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"arrow_div"},[t("div",{staticClass:"arrow_box"})])}]};var r=function(e){i("OXxz")},a=i("C7Lr")(s.a,n,!1,r,null,null);t.a=a.exports},FTiN:function(e,t){},G8L8:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAACXBIWXMAAAsSAAALEgHS3X78AAABp0lEQVRIDWOsrKquu3H9WqOdvcNTTi6uPwwkgoMH9vP8+P69ZN26dQuw6gwMDPy/c8/e/z/+/CcLx8TEfgCZERgYmPD//38GdMwEcrm9gxOpDscG5gcFBSWgizOREyykWMJERcOxWkILC1AsYaHUJCYmRm48llDug+q6BhZubu7fbGxsb9nY2F4iYxYWljaKfSCvoMgwZ8Fi1mtXrwijy23fuuUlxRbAgJa2DobYqZMnftAqkuFg1IJRC0YtoIMFBIuKr1+/MLx6+RLMFhMXZ+Dm5qGuBXt372a4f+8uw+VLlxh09fTAFoAs2rtnF9zi/KISBgtLK6z6CQaRX0Agg46eHpgdGR2LIldV28Dg7OLGcOXSJZz6CVoAcuXyJUsYUtIzwC5HBm3NDWCfmONwPQO+IAIZnJ+TCQl3Hm6Gk8ePgYMK3Qe6UN+RbAHI4OWr14EtAkU0CMDCnwEadMQAgpEMMVCcKMOwAabv375RrVZDByCzmbk4OXtFxUQZFBQUqWr4wQP7GNauXsXHoqGpVT9j6pTGa1eukNX4xeXyQwcPSGtoatUDAM7o1tLj+0o6AAAAAElFTkSuQmCC"},GWU5:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABBCAYAAACel4eZAAAACXBIWXMAAAsSAAALEgHS3X78AAACkUlEQVRoBe2bv0/bQBSAny92khKCTZWABANkgIGlUrfCkCx0YOwcqf9aJTJXHRnDQgekSllQpQyEAaQAVWLiUCfn5KrnFlRKmvpX6ufoPimSh3vy+/zO906XRBFCQK12beTzqY+cizf5vGrpeqoPMdBq2UXHEU0AqFSrK90gGSiHh21jaUn9ur29sLq5mY3D45Gjo2+WZY0WAaARVIphZUqlbOwyf/AKAOo4c/wGsvEYXm9tLcw6wSAEkmKapggyCs/xLcUKBc38jwkGwZcUI5f+ZDxLJUUIfkl9+tegJAkh5Vrt+sO0AUkTQt5Pk0qiEEyTSqoQ/E2KlFAmw1SfIc+kSAmVSi+yigKWz7AnUqSE1tczkM2ydIDQRylSQpqmwN6ekVZVZRgg3JXyO2dnjmGosL//Mt1oWLzdHo4VBfpCAPdyXyHEW3JCSC6Xgt1dXcPrbtfJcD72FNdsfm+TFPodrJhXLi8HdpL70ESkEHWkEHWkEHWkEHWkEHWkEHWkEHWkEHWkEHWkEHWkEHXmTij0QSPnAprNe09ji0UNisUgZ/HeCS1Ur3fANB3P48tlY6LU1dUA1tYyYdMJN+Vuboa+ZH7GPD13xwofH3fg5MSE09O7MOm4xHq2jQ8ERVAKubiwAX9zFGZaxiZ0dtZ3P1ET2yqH1ZkFsg9RJzahWfWj2IR2dnJuT8IviqMk1imHVTo4KLg7CGRjI9ySDWGXbby5rqu+mutD8g9ghcrl5ch2CqH7UKWyHMleLgoZiEIInzC+D1SQyzZ15k+o03FWCeQRCbe3XGe2PR7MgYsL50JhjMEXr8suZdABXVivN3p3fm63Wy07sTKYOzqgC6n/D/nFNEe5Xs9Z1DTlM8pUqyvdH6Og85CfNauBAAAAAElFTkSuQmCC"},GsIG:function(e,t,i){"use strict";var s=i("3a6B"),n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"other_view",attrs:{id:"otherView"},on:{click:function(e){e.stopPropagation()}}},[e.groupSortFlag?e._e():s("div",{staticClass:"top_header"},[s("div",{staticClass:"file_name header_item"},[s("span",{on:{click:function(t){e.sortHandle(0)}}},[e._v("文件")])]),e._v(" "),s("div",{staticClass:"file_from header_item"},[s("span",{on:{click:function(t){e.sortHandle(1)}}},[e._v("上传者")]),e._v(" "),1===e.sortType?s("i",{staticClass:"iconfont icon-jiantou_xiangxia",class:e.sortOrder?"":"sort_rotate"}):e._e()]),e._v(" "),s("div",{staticClass:"file_time header_item"},[s("span",{on:{click:function(t){e.sortHandle(2)}}},[e._v("上传日期")]),e._v(" "),2===e.sortType?s("i",{staticClass:"iconfont icon-jiantou_xiangxia",class:e.sortOrder?"":"sort_rotate"}):e._e()]),e._v(" "),e._m(0),e._v(" "),e._m(1)]),e._v(" "),s("div",{staticClass:"group_box",on:{dragenter:function(t){t.stopPropagation(),t.preventDefault(),e.parthDragEnter(0,!0)}}},[s("el-upload",{ref:1===e.uploadFrom?"fileUpload":"",staticClass:"file_empty_upload",attrs:{drag:!(!e.power||e.groupSortFlag||1!==e.uploadFrom),action:"/ProjectFile.ashx?myUserId="+e.ids.userId+"&projectId="+e.ids.projectId+"&stageTaskId="+e.ids.stageTaskId+"&filePartitionId=0","show-file-list":!1,multiple:!0,"on-error":e.uploadError,"on-success":e.uploadSuccess,"on-progress":e.uploadProgress,limit:99,"on-exceed":e.handleExceed,"before-upload":e.beforeUpload},nativeOn:{click:function(e){e.preventDefault()}}},[e.fileEmpty?[s("div",{staticClass:"file_empty",on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"empty_img"},[s("img",{attrs:{src:i("5UfR"),alt:""}})]),e._v(" "),e.power?s("p",{staticClass:"title"},[e._v("文件拖到此区域即可上传，支持批量上传")]):s("p",{staticClass:"title"},[e._v("暂无文件")])])]:0===e.sortType?[e.groupSortFlag?s("p",{staticClass:"mainColor_underline_text go_back_sort",on:{click:function(t){return t.stopPropagation(),e.backParthSort(t)}}},[e._v("退出分组排序")]):e._e(),e._v(" "),e.groupSortFlag?[s("draggable",{attrs:{options:{ghostClass:"ghost_parth_sort",dragClass:"drag_parth_sort",draggable:e.power&&e.parthsGroup.length>2?".draged":""}},on:{end:e.dragEndParth},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.parthsGroup,callback:function(t){e.parthsGroup=t},expression:"parthsGroup"}},e._l(e.parthsGroup,function(t){return t.pkid?s("div",{key:t.pkid,staticClass:"parths_group is_sort draged",attrs:{ids:t.pkid}},[s("i",{staticClass:"iconfont icon-paixu"}),e._v(" "),s("span",{staticClass:"group_name"},[e._v(e._s(t.groupName))])]):e._e()}),0)]:e._l(e.parthsGroup,function(t,i){return s("div",{key:t.pkid,staticClass:"parths_group",on:{dragenter:function(i){i.stopPropagation(),e.parthDragEnter(t.pkid)},click:function(e){e.stopPropagation()}}},[s("el-upload",{ref:2===e.uploadFrom?"fileUpload":"",refInFor:!0,staticClass:"file_empty_upload",attrs:{drag:!(!e.power||e.groupSortFlag),action:"/ProjectFile.ashx?myUserId="+e.ids.userId+"&projectId="+e.ids.projectId+"&stageTaskId="+e.ids.stageTaskId+"&filePartitionId="+t.pkid,"show-file-list":!1,multiple:!0,"on-error":e.uploadError,"on-success":e.uploadSuccess,"on-progress":e.uploadProgress,limit:99,"on-exceed":e.handleExceed,"before-upload":e.beforeUpload},nativeOn:{click:function(e){e.preventDefault()}}},[s("div",{staticClass:"group_top",on:{click:function(e){e.stopPropagation()}}},[t.edit?s("input",{directives:[{name:"model",rawName:"v-model",value:t.groupName,expression:"group.groupName"}],ref:t.createdGroup||t.edit?"createdGroup":"",refInFor:!0,staticClass:"group_name edit",attrs:{type:"text"},domProps:{value:t.groupName},on:{blur:function(i){e.groupTitleBlur(t)},keyup:function(i){if(!("button"in i)&&e._k(i.keyCode,"enter",13,i.key,"Enter"))return null;e.groupTitleBlur(t,!0)},input:function(i){i.target.composing||e.$set(t,"groupName",i.target.value)}}}):s("span",{staticClass:"group_name"},[e._v(e._s(t.groupName))]),e._v(" "),s("div",{staticClass:"group_operate"},[t.pkid&&(e.power||t.fileList.length)?s("el-dropdown",{staticClass:"fixed file_more",on:{"visible-change":function(i){e.visibleChangeGroup(i,t)}}},[s("span",{staticClass:"el-dropdown-link"},[s("i",{staticClass:"iconfont icon-gengduo1"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.power?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileGroupCommand("upload",i,t)}}},[s("el-upload",{ref:3===e.uploadFrom&&e.filePartitionId===t.pkid?"fileUpload":"",refInFor:!0,staticClass:"upload_file",attrs:{action:"/ProjectFile.ashx?myUserId="+e.userId+"&projectId="+e.projectId+"&stageTaskId="+e.stageTaskId+"&filePartitionId="+t.pkid,"show-file-list":!1,multiple:!0,"on-error":e.uploadError,"on-success":e.uploadSuccess,"on-progress":e.uploadProgress,limit:99,"on-exceed":e.handleExceed,"before-upload":e.beforeUpload}},[s("span",{staticClass:"slot_title",on:{click:function(i){e.handleClickUpload(t.pkid)}}},[e._v("上传")])])],1):e._e(),e._v(" "),t.fileList.length?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileGroupCommand("download",i,t)}}},[e._v("下载")]):e._e(),e._v(" "),t.fileList.length?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileGroupCommand("collect",i,t)}}},[e._v("收藏")]):e._e(),e._v(" "),e.power&&t.fileList.length&&1===e.stageList.length?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileGroupCommand("transfer",i,t)}}},[s("el-tooltip",{attrs:{effect:"dark",content:"没有可移交的阶段",placement:"top","open-delay":300}},[s("span",{staticClass:"cur_dis"},[e._v("整组移交")])])],1):e.power&&t.fileList.length&&t.fileList.length&&t.onlySelf?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileGroupCommand("transfer",i,t)}}},[e._v("\n                              整组移交\n                            ")]):e.power&&t.fileList.length&&!t.onlySelf?s("el-dropdown-item",[s("el-tooltip",{attrs:{effect:"dark",content:"您只能移交自己的文件",placement:"top","open-delay":300}},[s("span",{staticClass:"cur_dis"},[e._v("整组移交")])])],1):e._e(),e._v(" "),e.power?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileGroupCommand("rename",i,t)}}},[e._v("重命名")]):e._e(),e._v(" "),e.power?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileGroupCommand("delete",i,t)}}},[e._v("删除")]):e._e()],1)],1):e._e()],1)]),e._v(" "),s("div",{staticClass:"group_file",on:{click:function(e){e.stopPropagation()}}},e._l(t.fileList,function(n,r){return s("div",{key:n.FilePkid,staticClass:"every_files"},[s("div",{staticClass:"file_name every_common"},[s("el-checkbox",{on:{change:function(t){e.checkboxChange(t,n,0)}},model:{value:n.checked,callback:function(t){e.$set(n,"checked",t)},expression:"file.checked"}}),e._v(" "),s("img",{attrs:{src:1===n.FileType?e.fileTypeImg[1].src:n.UrlMin,alt:""},on:{click:function(t){e.enterTheDetails(r,i)}}}),e._v(" "),n.edit?s("input",{directives:[{name:"model",rawName:"v-model",value:n.FileTitle,expression:"file.FileTitle"}],staticClass:"edit",attrs:{id:"fileNameEdit"},domProps:{value:n.FileTitle},on:{input:[function(t){t.target.composing||e.$set(n,"FileTitle",t.target.value)},function(t){e.fileNameEditChange(t,n)}],blur:function(t){e.fileNameEditBlur(t,n)},keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.fileNameEditBlur(t,n,!0)}}}):s("span",{staticClass:"file_title",on:{click:function(t){e.enterTheDetails(r,i)}}},[e._v(e._s(n.FileName))])],1),e._v(" "),s("div",{staticClass:"file_from every_common",on:{click:function(t){e.enterTheDetails(r,i)}}},[s("span",[e._v(e._s(n.nickName?n.nickName:n.userName))])]),e._v(" "),s("div",{staticClass:"file_time every_common",on:{click:function(t){e.enterTheDetails(r,i)}}},[s("span",[e._v(e._s(n.formatTime))])]),e._v(" "),s("div",{staticClass:"file_message every_common",on:{click:function(t){e.enterTheDetails(r,i)}}},[s("i",{staticClass:"iconfont icon-pinglun"}),e._v(" "),n.Count?s("span",[e._v(e._s(n.Count))]):e._e()]),e._v(" "),s("div",{staticClass:"file_more every_common"},[s("el-dropdown",{},[s("span",{staticClass:"el-dropdown-link"},[s("i",{staticClass:"iconfont icon-gengduo"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("download",r,n,t.pkid,i)}}},[e._v("下载")]),e._v(" "),s("el-dropdown-item",{nativeOn:{click:function(t){e.fileCommand("collect",r,n,i)}}},[e._v("收藏")]),e._v(" "),n.isOwn&&1===e.stageList.length?s("el-dropdown-item",[s("el-tooltip",{attrs:{effect:"dark",content:"没有可移交的阶段",placement:"top","open-delay":300}},[s("span",{staticClass:"cur_dis"},[e._v("移交")])])],1):e._e(),e._v(" "),n.isOwn&&e.stageList.length>1?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("transfer",r,n,t.pkid,i)}}},[e._v("移交")]):e._e(),e._v(" "),n.isOwn?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("rename",r,n,t.pkid,i)}}},[e._v("重命名")]):e._e(),e._v(" "),n.isOwn?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("delete",r,n,t.pkid,i)}}},[e._v("删除")]):e._e()],1)],1)],1)])}),0)])],1)})]:[s("div",{staticClass:"no_group parths_group",on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"group_file"},e._l(e.fileList,function(t,i){return s("div",{key:t.FilePkid,staticClass:"every_files"},[s("div",{staticClass:"file_name every_common"},[s("el-checkbox",{on:{change:function(i){e.checkboxChange(i,t,1)}},model:{value:t.checked,callback:function(i){e.$set(t,"checked",i)},expression:"file.checked"}}),e._v(" "),s("img",{attrs:{src:1===t.FileType?e.fileTypeImg[1].src:t.UrlMin,alt:""},on:{click:function(i){e.enterTheDetails(t.index,t.groupIndex)}}}),e._v(" "),t.edit?s("input",{directives:[{name:"model",rawName:"v-model",value:t.FileTitle,expression:"file.FileTitle"}],staticClass:"edit",attrs:{id:"fileNameEdit"},domProps:{value:t.FileTitle},on:{input:[function(i){i.target.composing||e.$set(t,"FileTitle",i.target.value)},function(i){e.fileNameEditChange(i,t)}],blur:function(i){e.fileNameEditBlur(i,t)},keyup:function(i){if(!("button"in i)&&e._k(i.keyCode,"enter",13,i.key,"Enter"))return null;e.fileNameEditBlur(i,t,!0)}}}):s("span",{staticClass:"file_title",on:{click:function(i){e.enterTheDetails(t.index,t.groupIndex)}}},[e._v(e._s(t.FileName))])],1),e._v(" "),s("div",{staticClass:"file_from every_common",on:{click:function(i){e.enterTheDetails(t.index,t.groupIndex)}}},[s("span",[e._v(e._s(t.nickName?t.nickName:t.userName))])]),e._v(" "),s("div",{staticClass:"file_time every_common",on:{click:function(i){e.enterTheDetails(t.index,t.groupIndex)}}},[s("span",[e._v(e._s(t.formatTime))])]),e._v(" "),s("div",{staticClass:"file_message every_common",on:{click:function(i){e.enterTheDetails(t.index,t.groupIndex)}}},[s("i",{staticClass:"iconfont icon-pinglun"}),e._v(" "),t.Count?s("span",[e._v(e._s(t.Count))]):e._e()]),e._v(" "),s("div",{staticClass:"file_more every_common"},[s("el-dropdown",{},[s("span",{staticClass:"el-dropdown-link"},[s("i",{staticClass:"iconfont icon-gengduo"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("download",i,t,t.groupId,t.groupIndex)}}},[e._v("下载")]),e._v(" "),s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("collect",i,t,t.groupId,t.groupIndex)}}},[e._v("收藏")]),e._v(" "),t.isOwn&&1===e.stageList.length?s("el-dropdown-item",[s("el-tooltip",{attrs:{effect:"dark",content:"没有可移交的阶段",placement:"top","open-delay":300}},[s("span",{staticClass:"cur_dis"},[e._v("移交")])])],1):e._e(),e._v(" "),t.isOwn&&e.stageList.length>1?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("transfer",i,t,t.groupId,t.groupIndex)}}},[e._v("移交")]):e._e(),e._v(" "),t.isOwn?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("rename",i,t,t.groupId,t.groupIndex)}}},[e._v("重命名")]):e._e(),e._v(" "),t.isOwn?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("delete",i,t,t.groupId,t.groupIndex)}}},[e._v("删除")]):e._e()],1)],1)],1)])}),0)])]],2)],1),e._v(" "),s("transition",{attrs:{name:"fade1"}},[e.transferShow?s("transfer-view",{attrs:{default:e.transferDefaultStage,selectList:e.transferStageList},on:{handleCancle:e.transferCancel,handleSure:e.transferSure}}):e._e()],1),e._v(" "),s("transition",{attrs:{name:"fade1"}},[e.delGroupFlag?s("Reminder2",{attrs:{type:1,text:e.reminderText},on:{handleCancle:e.delGroupCancel,handleSure:e.delGroupSure}}):e._e()],1),e._v(" "),s("transition",{attrs:{name:"fade1"}},[e.delFileFlag?s("Reminder2",{attrs:{type:1,text:e.reminderText},on:{handleCancle:e.delFileCancel,handleSure:e.delFileSure}}):e._e()],1),e._v(" "),e.uploadProgressFlag?s("upload-progress",{attrs:{fileProgressList:e.fileProgressList},on:{closeProgress:e.closeProgress,handleCancel:e.cancelUpload,handleRe:e.reUpload}}):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"file_message header_item"},[t("i",{staticClass:"iconfont icon-pinglun"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"file_more header_item"},[t("i",{staticClass:"iconfont icon-gengduo"})])}]};var r=function(e){i("WMto")},a=i("C7Lr")(s.a,n,!1,r,null,null);t.a=a.exports},Gttd:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABBCAYAAACel4eZAAAACXBIWXMAAAsSAAALEgHS3X78AAADK0lEQVRoBe2bW0gUYRSAz8xuazqL64suuLpqQfWiQiDRQ2jeICxpB3qQjDKEiiLLzG4vXSgIuvlQWIlJEb1NForUQ2gPaT0E6osVXnO1CZJd2LGLMhtncERbXXdmZ9t/5f9gmdnZ/+yeb875/70zfr8feJ5PSnU4hGlJ2prqSPOlO50SRIG3XZ3JP6envwBAgSAIHj0ZMC6XKynd6Rwo21Vuzy8ojIbHPCePH/V9m5y0AkCvXikWK7O9sDjqMv+QCwCd2DlaA9nZ2dnNO8p2RjpBPeiSYjmO8xOjEIhmKXbDxk3e/5igHjRJscSlvzQhS8WKEMxJta40KJaEkHye51uCDYg1IWR/MKlYFIJgUrEqBMtJESWUmJho1hgSIEWUUGFxyVqTyeTTGLZIiiihvLwtYLPZLDpC56WIEkrgOKg/d8ESHx//R0e4IqW1ZyNORmYWXL952/L4UfNMf1+vzDCMJMvyTCiPK8tyKXFCSHJyCpyqP7sG90dHhuMkKbT3mx3tbSKRQgvBioXKh/c9v2L5eWhJqBDpUCHSoUKkQ4VIhwqRDhUiHSpEOlSIdKgQ6VAh0qFCpEOFSGfVCRn2UfDL1ufw7OmTgOMcZ4WGu/fguyjC+TOnoWLvPijf7YL+vj64duViwNiKykooKi7VnYdhQpgkXlR6ut9Bw60bIEk+RUYUReUWvI4MDw0qW1UQj1+9fAma7jdCdnYupNjtuvKISMthcmq1snNyIGvd+hVjsDo4Fhmak9VDRISwMlgVPMs1tXUhxeBJwDZcKKYHw79OwbmkJnaitk7ZBgMrqVYTT0D1ocMrxgTDUCGsCgohOLlDaTV1DhmFoS13Z24RwATDWanCISwhnCs1x44o+7g64cqF/Y9nPVoY1nLqyoTzp2IPv+g2rFZRSYmyr84PtR31Ls/LwTQ+eDhy4GB1hqH3GiVamptG6Ws50qFCpLP6hIYGB41dN6PI508DNtbr9fxeLUKSJDGs2Wz+2NHeRkA64YEO6GJKczheTE39qLLEWayZGn4oRBJdnW/g9asO0T0+vo2o/w9p5evYGDfhHrcmcFz3hNvNC4Lg+QsvURSEtDNVmgAAAABJRU5ErkJggg=="},HVQS:function(e,t){},IF9K:function(e,t){},IgQe:function(e,t){},Igbf:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAACXBIWXMAAAsSAAALEgHS3X78AAABcElEQVRIDe2WsU7CQBjHv7v2DKIBxNbFoTwELCRsMPMCDPoOzhIWX0MTeAIW5s6wsLCwtAMDHipijLXXWHNNaATaQ9qiC7+kSfPd9f+7uy9pi3q959vZjLU0LTUhBDmwI4ZhnTqOe9NoXDwEPYna7albLGagUEjtmu3R7dJX23azAHAdJMF85VHD17jvdB6vNgRRjmUXCU4wPFCyD8GKRI6bhBCcCCTxd1CpnMmEICZJ6EmS0PTnhTHcxd5BLidDva4SSu3z9bHx+GMaW7BEVY82apPJp7WvJvscBAfBQfAHAuGrYj53QNdfgDHXr2laCkqljHdPqQ2EYO99FIZwB8Ph20o4xzQtL3g0egddn3tzREQ+Ii74Df/bZH6+YfVqNQ/ptBQ6Z4mwybyZ/f4CGPvya5p27De1Vstv24BYQAiCcjkrHN8GZsxN7Ku2Ds/GpmldGoaVeDjP5NmyopDmYLBoUWpH+vkNgq+chysKaX4DKA2KMYj8COMAAAAASUVORK5CYII="},J7Nv:function(e,t){},"JYI+":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABBCAYAAACel4eZAAAACXBIWXMAAAsSAAALEgHS3X78AAADZ0lEQVRoge2bwWvTUBzHf0mbNF3X2Vm2OVFGRTYEYXYHdQNRBBUULw6G4MGT/4HH7TSPXvXsxYODDUUQ50EEYVKRzYngpoM6VGqH3eraurRNG/mma2ld1/VlnXsZ+UB5SZOX/j55v/drSFpB13UaGYv5/F7HRDqr9/u9jmR7iyNFu8CHxXRbWtO/ENG50SF/3EwEwvCjX762Fsfc6W53R2+Xazc8StyfjCeXk7lmIpo1KyViZIIBZddl/qGXiF4hc1g7ivk89Z08qux0gGYwJSW6JEHnRmEjzFLiYb/z938M0AxMUiJ34VenbimrCNG61OOtdrKSEDg7MhZ7UGsHqwmBm7WkrChEtaSsKkSbSXEl1CQLTsYuG6S4EgoeURRRoCRjtwoproR6DsrkUUTZRNeSFFdCiiTQ9QGv7HIKGRPdDSnWnN1xOnxOunXBJ7+YTWXD0WxeECiV1ylbz+fqun6ROyHgaxJpqN8rYTka11xqtr7r59CCGuVSqByMWL3M/cioVv4eqootxDu2EO/YQrxjC/GOLcQ7thDv2EK8Ywvxji3EO7YQ79hCvGML8c6eE9r2reCHr1cpvFR5Lz3QLtHgKS8psmCsT82v0cuPf0rbB3rcdP54U9VtoNXjoP4ehfoC7L9w2bZQJK4Zgd++ur8iQLwu93mMFu/dONNiiI6HEsY6Hp1ADP0BTsCxQzKtpHI0EUrSs+kUdfqc1NnKFmLDU654VouBYvQg3Ll+032rs47RGeh2G8sz4TTz5zf86cN0WDVajEaxjcxrdPfpsiHj84g0POiveYxiX4wWKw0RUjM63RmPldaROsU5ghbpNfV5rSSL5SvBZmO/mset87lQOQ0RKp9D1cBcwQvimFMQQ7uZ0Fo2XziuJDDHsuNl+97zuFEJaV0chQLzBOkEwWr8XCmkGvZjhVkIFQrpFVnR6tr/QKvDKAyfvheeA6OFDOYJBN1SZQiQREqCYID9V5bbTjlUr1q5jnI8TgmjXFOo8B6KQ3GOoUiA8u0YGYwka8kGwpN3ya+XTni6TNlwxuT71KJ9Lcc7thDv7D2hSFzr4CCOhvAtpu0TU6rOfknLKemsLoiiSNNvF1TLy8ABLmIskbs2E1ajs4vWHSjEDge4cPX/IVaWVnOeWCLX7JKEN5AZHfLH/wLG+VeYYAs3mgAAAABJRU5ErkJggg=="},KTKw:function(e,t){},LicG:function(e,t){},LpOn:function(e,t){},"LxJ+":function(e,t,i){"use strict";(function(e){var s=i("lC5x"),n=i.n(s),r=i("rVsN"),a=i.n(r),o=i("J0Oq"),l=i.n(o),c=i("HzJ8"),u=i.n(c),d=i("IHPB"),h=i.n(d),f=i("Jpdf"),p=i.n(f),v=i("NYhm"),m=i("+Llw");t.a={components:{draggable:p.a,AddPeople:v.a,Reminder2:m.a},data:function(){return{userId:JSON.parse(localStorage.getItem("staffInfo")).userPkid,friendList:[],usedList:[],groupList:[],inviteFlag:!1,moveGroupShow:!1,nowIndex:[0,void 0],addGroupFlag:!1,editGroupFlag:!1,delGroupFlag:!1,remarskFlag:!1,reminderText:"",inputValue:"",selectList:[],checkedList:[],batchRemoveFlag:!1,oldIndex:0}},watch:{checkedList:{handler:function(e){console.log(e)},deep:!0}},methods:{addFriend:function(){this.inviteFlag=!0},inviteCancel:function(){this.inviteFlag=!1},emailInvite:function(e){},listEnter:function(e,t){this.nowIndex=[e,t]},selectChange:function(e){var t=this.checkedList.findIndex(function(t){return t.pkid==e.pkid});-1==t&&e.checked?this.checkedList.push(e):-1==t||e.checked||this.checkedList.splice(t,1)},batchRemove:function(){var t=this;this.batchRemoveFlag=!0;e(document).bind("click",function i(s){t.batchRemoveFlag=!1,e(document).unbind("click",i)})},removeGroup:function(t,i){var s=this,n=[],r=!0,a=!1,o=void 0;try{for(var l,c=u()(this.checkedList);!(r=(l=c.next()).done);r=!0){var d=l.value;n.push(d.pkid)}}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}this.updateGroup(n,i).then(function(i){for(var n=function(i){for(var n=function(n){s.friendList[i].friendsList[n].checked&&(-1==s.friendList[t].friendsList.findIndex(function(e){return e.pkid==s.friendList[i].friendsList[n].pkid})?(s.friendList[t].friendsList.push(s.friendList[i].friendsList[n]),s.friendList[i].friendsList[n].checked=!1,s.friendList[i].friendsList.splice(n,1),s.friendList[i].friendsListCont=s.friendList[i].friendsList.length,s.friendList[t].friendsListCont=s.friendList[t].friendsList.length,s.friendList[t].extend||(s.friendList[t].extend=!0,e(".friend_group_list_every").eq(t).slideDown(400)),n--):s.friendList[i].friendsList[n].checked=!1);r=n},r=0;r<s.friendList[i].friendsList.length;r++)n(r)},r=0;r<s.friendList.length;r++)n(r);s.friendList=[].concat(h()(s.friendList)),s.checkedList=[]}).catch(function(e){console.log("async---err",e)})},addUsed:function(){var e=!0,t=!1,i=void 0;try{for(var s,n=u()(this.friendList);!(e=(s=n.next()).done);e=!0){var r=s.value,a=!0,o=!1,l=void 0;try{for(var c,d=u()(r.friendsList);!(a=(c=d.next()).done);a=!0){var h=c.value;h.checked&&!h.isUsed&&(this.usedList.push(h),h.isUsed=!0),h.checked=!1}}catch(e){o=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(o)throw l}}}}catch(e){t=!0,i=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw i}}this.checkedList=[]},visibleChange:function(){this.moveGroupShow&&(this.moveGroupShow=!1)},adds:function(e){"add_friend"==e?this.addFriend():"add_group"==e&&(this.reminderText="请输入分组名",this.addGroupFlag=!0)},reminderCancel1:function(){this.addGroupFlag=!1},reminderSure1:function(e){var t=this;this.addGroupFlag=!1;var i={myUserId:this.userId,title:e};this.$HTTP("post","/user_friends_group_add",i).then(function(e){var i=e.result,s={pkid:i.Pkid,groupName:i.Title,friendsListCont:0,friendsList:[],extend:!0};t.friendList.push(s),console.log("添加分组",e)}).catch(function(e){console.log("添加分组失败",e)})},delUsed:function(e,t){this.usedList.splice(e,1);var i=!0,s=!1,n=void 0;try{for(var r,a=u()(this.friendList);!(i=(r=a.next()).done);i=!0){var o=r.value,l=!0,c=!1,d=void 0;try{for(var f,p=u()(o.friendsList);!(l=(f=p.next()).done);l=!0){var v=f.value;v.pkid==t&&(v.isUsed=!1)}}catch(e){c=!0,d=e}finally{try{!l&&p.return&&p.return()}finally{if(c)throw d}}}}catch(e){s=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(s)throw n}}this.friendList=[].concat(h()(this.friendList))},extendClick:function(t,i){this.friendList[t].extend=!this.friendList[t].extend,this.friendList=[].concat(h()(this.friendList)),e(".friend_group_list_every").eq(t).slideToggle(400)},command1:function(e,t){var i=this.nowIndex;if(this.selectList=[],"remarks"==e)this.editGroupFlag=!0,this.inputValue=t.groupName;else if("mvoe"==e);else if("delete"==e)if(this.delGroupFlag=!0,t.friendsList.length){var s=!0,n=!1,r=void 0;try{for(var a,o=u()(this.friendList);!(s=(a=o.next()).done);s=!0){var l=a.value;this.selectList.push({value:l.pkid,label:l.groupName,disabled:!1})}}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}this.selectList[i[0]].disabled=!0,this.reminderText="该分组内已有好友，在删除该分组前，请选择将好友移动到其他分组"}else this.reminderText="您是否确认删除该分组？删除后不可恢复"},reminderCancel2:function(){this.editGroupFlag=!1},reminderSure2:function(e){var t=this;if(this.editGroupFlag=!1,e==this.inputValue);else{console.log("新的分组名",e);var i=this.nowIndex,s={friends_grouId:this.friendList[i[0]].pkid,title:e};this.$HTTP("post","/user_friends_group_update",s).then(function(s){console.log("修改组名",s),t.friendList[i[0]].groupName=e}).catch(function(e){console.log("修改组名失败",e)})}},dragStartParth:function(t,i){var s=this;i&&(this.oldIndex=i.oldIndex+1);for(var n=function(t){s.friendList[t].extend=!1,s.$nextTick(function(){e(".friend_group_list_every").eq(t).slideUp(400)})},r=t;r<this.friendList.length;r++)n(r)},dragEndParth:function(e){var t=this,i=(this.nowIndex,{friends_grouId:this.friendList[this.oldIndex].pkid,isSort:e.newIndex});this.$HTTP("post","/user_friends_group_update_isSort",i).then(function(e){console.log("移动分区成功",e),t.friendList=[].concat(h()(t.groupList))}).catch(function(e){console.log("移动分区失败",e)})},delGroupCancel:function(){this.delGroupFlag=!1},delGroupSure:function(t){var i=this,s=this.nowIndex[0],n=[].concat(h()(this.friendList)),r=n[s].pkid;if(""===t)this.delGroupHttp(r).then(function(e){n.splice(s,1),i.friendList=[].concat(h()(n))}).catch(function(e){console.log(e)});else{var a=n.findIndex(function(e){return e.pkid==t});if(-1!=a){n[a].friendsList=n[a].friendsList.concat(n[s].friendsList),n[a].friendsListCont=n[a].friendsList.length,n[a].extend||(n[a].extend=!0,e(".friend_group_list_every").eq(a).slideDown(400));var o=[],l=!0,c=!1,d=void 0;try{for(var f,p=u()(n[s].friendsList);!(l=(f=p.next()).done);l=!0){var v=f.value;o.push(v.pkid)}}catch(e){c=!0,d=e}finally{try{!l&&p.return&&p.return()}finally{if(c)throw d}}this.updateGroup(o,n[a].pkid).then(function(e){i.delGroupHttp(r).then(function(e){n.splice(s,1),i.friendList=[].concat(h()(n))}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}}},delGroupHttp:function(e){var t=this;return l()(n.a.mark(function i(){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",new a.a(function(i,s){var n={friendsGroupId:e};t.$HTTP("post","/user_friendsGroup_delete",n).then(function(e){i(e),t.delGroupFlag=!1}).catch(function(e){t.$message.error("删除好友分组失败，请检查网络"),s(e)})}));case 1:case"end":return i.stop()}},i,t)}))()},command2:function(e,t){var i=this.nowIndex;"remarks"==e?(this.remarskFlag=!0,this.inputValue=t.nickName):"mvoe"==e||"add_used"==e&&(this.usedList.push(t),this.friendList[i[0]].friendsList[i[1]].isUsed=!0)},moveMouseEnter:function(e){var t=this.nowIndex;if(this.groupList=[],e)this.groupList=this.friendList.concat();else for(var i in this.friendList)(i=Number(i))!=t[0]&&this.groupList.push(this.friendList[i]);this.moveGroupShow=!0},otherMouseEnter:function(){this.moveGroupShow=!1},remarsCancel:function(){this.remarskFlag=!1},remarsSure:function(e){var t=this,i=this.nowIndex;this.remarskFlag=!1;var s={friendsId:this.friendList[i[0]].friendsList[i[1]].pkid,nickName:e};this.$HTTP("post","/user_friends_update_nickname",s).then(function(s){console.log("修改备注名",s),t.friendList[i[0]].friendsList[i[1]].nickName=e}).catch(function(e){console.log("修改备注名失败",e)})},moveGroup2:function(t,i){var s=this.nowIndex;this.moveGroupShow=!1;var n=this.friendList.findIndex(function(e){return e.pkid==t});-1!=n&&(this.friendList[n].friendsList.push(i),this.friendList[s[0]].friendsList.splice(s[1],1),this.friendList[s[0]].friendsListCont=this.friendList[s[0]].friendsList.length,this.friendList[n].friendsListCont=this.friendList[n].friendsList.length,this.friendList[n].extend||(this.friendList[n].extend=!0,e(".friend_group_list_every").eq(n).slideDown(400))),this.updateGroup([i.pkid],t)},updateGroup:function(e,t){var i=this;return l()(n.a.mark(function s(){var r;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:r={vals:e.join(","),type:t},i.$HTTP("post","/user_friends_updateType",r).then(function(e){}).catch(function(e){console.log("移动分组失败",e)});case 2:case"end":return s.stop()}},s,i)}))()},getList:function(){var e=this,t={myUserId:this.userId};this.$HTTP("post","/user_friends_getlist",t).then(function(t){e.friendList=[].concat(h()(t.result));var i=!0,s=!1,n=void 0;try{for(var r,a=u()(e.friendList);!(i=(r=a.next()).done);i=!0){var o=r.value;0==o.pkid?o.extend=!0:o.extend=!1}}catch(e){s=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(s)throw n}}var l=!0,c=!1,d=void 0;try{for(var f,p=u()(e.friendList);!(l=(f=p.next()).done);l=!0){f.value.friendsList.map(function(e){return e.checked=!1})}}catch(e){c=!0,d=e}finally{try{!l&&p.return&&p.return()}finally{if(c)throw d}}e.dragStartParth(1),console.log("好友分组列表",e.friendList)}).catch(function(e){console.log("获取好友分组列表失败",e)})},getUserList:function(){this.usedList=[]}},created:function(){this.getList(),this.getUserList()},mounted:function(){}}}).call(t,i("L7Pj"))},"MK+o":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABBCAYAAACel4eZAAAACXBIWXMAAAsSAAALEgHS3X78AAADUElEQVRoge2bz08TQRSA30y723a7Qglqjdbww6jIAQxqIgQVL3joSe/Ef83IyYvxIB44cTDgQTBwEIRIQZFYI20pLWW73V3zJrQWWsruWmSWzJc06e7OvH3fzJvZhg3EsixIT4xHaLjltVUqDtJwS86ntubhFNA3ExesUmkFAEba4mMZNxmQ1NuXEaq2LsmdN6PS5a7T8KiQf/8uZ+7uqAAw71aK4sxIV7pPXeYQ/QAwhZXjtCMF0xyQO26cdIJucCVFiSRZ3CjU4liK+iLnt/9jgm5wJEW5S78+tqW8IgT7Um+Oa+QlIeRRemL8RaMGXhNCnjeS8qIQNJLyqhAcJcWVEJEDfoddaqS4EpJi3UEgJOew2wEproT8F2NA5KDsomtFiq+S80ugDDyUiV8quujOpJzW7IlDz0VAGXwia18+6cbWTxOA5MGydDv3tcAa5U4IoaEwhG4PS/jd3MkELN3ehBW/LSe5FKoGZ8x2218be15+DtVFCPGOEOIdIcQ7Qoh3hBDvCCHeEUK8I4R4RwjxjhDiHSHEO0KId86ckKs/Be/OToGxlTxwztcehVDfEBBJhmJiEbSVhYPXW9og0HsPzGwK9j5/rBuXhlQI9t5l8ZU7Iywmom98ZfHCw3EWv+lCZjbNAquPn7LjsgB+MCEjm2bnlfujTASPC7NTsDc/DeEHcZBi19j1wvw0lJLfK+2Qcl9tbRGUfaFiYgmIXz5WBppVcuUEcfTrgcniGwWzkIPj3iRgW4yHFYByOFjYT4p128qlKUJYEiyZ9kt1r2NiZiHPkrUzyoHrfZXS1TdWWT+565atXFy/TsGR3pl89TdQ9CpLpJrdD5OVI1xjWI52QBmcJRRClN4R23m5FqpeQ0dRvTacYlSVL5acD6K2InC5bePM4BrCGccBwc0GpexgSwhvgOVV3oFOEhRBgfK6CfYPsbvhDtk0oZpO+7vWUZQXf6M2LI6i1rQrpZLsXFkEn01yZw8bzMPPvnqQ3MLMWqBnoMONGG9oS3Pr4rcc7wgh3jl7QkY2Ze8R7AGMzO9WammadlaELF0nFCidK64vc5DOv8EcKJ2jZj77TP+xmtQ3E56VwdzRAV24+v8hpxi57bCZz6rEL8+gTFt8LPMHu2lW1/i61mAAAAAASUVORK5CYII="},MeSz:function(e,t,i){"use strict";var s=i("+Jwe"),n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"PMP"}},[i("div",{staticClass:"PMP_top"},[i("span",{staticClass:"topName"},[e._v("项目管理")]),e._v(" "),i("span",{staticClass:"main_button_bg mf-20",on:{click:e.newPro}},[e._v("新建项目")]),e._v(" "),e._m(0)]),e._v(" "),i("div",{staticClass:"middleMain"},[i("div",{staticClass:"iResponsible clearfix classify"},[i("p",{staticClass:"title"},[e._v("我负责的")]),e._v(" "),e._l(e.myResponsible,function(t,s){return i("div",{key:s,staticClass:"card fl",on:{click:function(i){e.enterTask(t)}}},[i("h2",[e._v(e._s(t.title))]),e._v(" "),t.isStar?i("i",{staticClass:"iconfont icon-star fr",on:{click:function(i){i.stopPropagation(),e.LightStar(t)}}}):i("i",{staticClass:"iconfont icon-shoucang fr",on:{click:function(i){i.stopPropagation(),e.LightStar(t)}}}),e._v(" "),i("div",{staticClass:"statisticalFigures"},[i("ul",{staticClass:"clearfix"},[i("li",[i("div",{staticClass:"num"},[e._v(e._s(t.createTaskCount))]),e._v(" "),i("div",[e._v("已创建任务")]),e._v(" "),i("span",{staticClass:"line"})]),e._v(" "),i("li",[i("div",{staticClass:"num"},[e._v(e._s(t.finishTaskCount))]),e._v(" "),i("div",[e._v("已完成任务")]),e._v(" "),i("span",{staticClass:"line"})]),e._v(" "),i("li",[i("div",{staticClass:"num"},[e._v(e._s(t.incompleteTtasksCount))]),e._v(" "),i("div",[e._v("已超时任务")])])])]),e._v(" "),i("div",{staticClass:"participantBottom"},[i("ul",{staticClass:"clearfix"},[t.userCount<5?i("div",[i("li",{staticClass:"lessThan5"},[i("img",{attrs:{src:t.creater.createrPic,alt:"赵珂"}})]),e._v(" "),e._l(t.userlist,function(e,t){return i("li",{key:t,staticClass:"lessThan5"},[i("img",{attrs:{src:e.image,alt:""}})])})],2):e._e(),e._v(" "),t.userCount>=5?i("div",{staticClass:"moreUser clearfix"},[i("li",{staticClass:"moreThan5",style:{"z-index":Math.abs(s-200)}},[i("img",{attrs:{src:t.creater.createrPic,alt:"赵珂"}})]),e._v(" "),e._l(t.userlist,function(e,t){return i("li",{key:t,staticClass:"moreThan5",style:{"z-index":Math.abs(t-100)}},[i("img",{attrs:{src:e.image,alt:""}})])}),e._v(" "),i("li",{staticClass:"nums fr"},[e._v("等"+e._s(t.userCount)+"人")])],2):e._e()]),e._v(" "),i("span",{staticClass:"moreButton",on:{click:function(e){e.stopPropagation()}}},[i("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"iconfont icon-gengduo fr"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.OtherfeatureLists,function(s,n){return i("el-dropdown-item",{key:n,attrs:{command:n,dataProjectid:t.projectid,classify:"myResponsible"}},[e._v(e._s(s.name))])}),1)],1)],1)])])}),e._v(" "),i("div",{staticClass:"card fl newCard",on:{click:e.newPro}},[i("i",{staticClass:"iconfont icon-jia"},[e._v(" 新建项目")])])],2),e._v(" "),e.I_participatein?i("div",{staticClass:"iJoined classify clearfix"},[i("div",{staticClass:"title",staticStyle:{height:"21px"}},[i("div",{staticClass:"fl"},[e._v("我参与的")]),e._v(" "),i("i",{staticClass:"iconfont icon-shaixuan fl"}),e._v(" "),i("el-select",{staticClass:"fl",attrs:{placeholder:"请选择"},on:{change:function(t){e.selectState(e.value)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),e._l(e.joinedAddList,function(t,s){return i("div",{key:s,staticClass:"card fl",on:{click:function(i){e.enterTask(t)}}},[i("h2",[e._v(e._s(t.title))]),e._v(" "),t.isStar?i("i",{staticClass:"iconfont icon-star fr",on:{click:function(i){i.stopPropagation(),e.LightStar(t)}}}):i("i",{staticClass:"iconfont icon-shoucang fr",on:{click:function(i){i.stopPropagation(),e.LightStar(t)}}}),e._v(" "),i("div",{staticClass:"statisticalFigures"},[i("ul",{staticClass:"clearfix"},[i("li",[i("div",{staticClass:"num"},[e._v(e._s(t.createTaskCount))]),e._v(" "),i("div",[e._v("我未完成的任务")])])])]),e._v(" "),i("div",{staticClass:"participantBottom"},[i("ul",{staticClass:"clearfix"},[t.userCount<5?i("div",[i("li",{staticClass:"lessThan5"},[i("img",{attrs:{src:t.creater.createrPic,alt:"赵珂"}})]),e._v(" "),e._l(t.userlist,function(e,t){return i("li",{key:t,staticClass:"lessThan5"},[i("img",{attrs:{src:e.image,alt:""}})])})],2):e._e(),e._v(" "),t.userCount>=5?i("div",{staticClass:"moreUser clearfix"},[i("li",{staticClass:"moreThan5",style:{"z-index":Math.abs(s-200)}},[i("img",{attrs:{src:t.creater.createrPic,alt:"赵珂"}})]),e._v(" "),e._l(t.userlist,function(e,t){return i("li",{key:t,staticClass:"moreThan5",style:{"z-index":Math.abs(t-100)}},[i("img",{attrs:{src:e.image,alt:""}})])}),e._v(" "),i("li",{staticClass:"nums fr"},[e._v("等"+e._s(t.userCount)+"人")])],2):e._e()]),e._v(" "),i("span",{staticClass:"moreButton",on:{click:function(e){e.stopPropagation()}}},[i("el-dropdown",{attrs:{trigger:"click","visible-change.stop":""},on:{command:e.handleCommand}},[i("span",{staticClass:"el-dropdown-link",on:{click:function(e){e.stopPropagation()}}},[i("i",{staticClass:"iconfont icon-gengduo fr"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.handoverSettings,function(s,n){return i("el-dropdown-item",{key:n,attrs:{command:n,dataProjectid:t.projectid,classify:"iParticipate"}},[e._v(e._s(s.name))])}),1)],1)],1)])])})],2):e._e(),e._v(" "),i("div",{staticClass:"filed classify clearfix"},[e.fillShowAll?i("div",{staticClass:"title cur active",on:{click:function(t){e.fillShowAll=!e.fillShowAll}}},[e._v("显示已归档项目("+e._s(e.fillLength)+")")]):e._e(),e._v(" "),e.fillShowAll?e._e():i("div",{staticClass:"titleBox"},[e._l(e.pigeonholeAndconnect,function(t,s){return i("span",{key:s,staticClass:"title cur",class:e.checkIndex==s?"active":"",on:{click:function(t){e.selectTitle(s)}}},[e._v(e._s(t.name)+"  ")])}),e._v(" "),e.showButton?i("span",{staticClass:"cur",on:{click:function(t){e.fillShowAll=!e.fillShowAll}}},[e._v("隐藏")]):e._e()],2),e._v(" "),e.fillShowAll?e._e():i("div",e._l(e.projectArchiveList,function(t,s){return i("div",{key:s,staticClass:"card fl",on:{click:function(i){e.enterTask(t)}}},[i("h2",[e._v(e._s(t.title))]),e._v(" "),t.isStar?i("i",{staticClass:"iconfont icon-star fr",on:{click:function(i){i.stopPropagation(),e.LightStar(t)}}}):i("i",{staticClass:"iconfont icon-shoucang fr",on:{click:function(i){i.stopPropagation(),e.LightStar(t)}}}),e._v(" "),i("div",{staticClass:"statisticalFigures"},[i("div",{staticClass:"num saveTime"},[e._v("归档日期："+e._s(t.saveTime))])]),e._v(" "),i("div",{staticClass:"participantBottom"},[i("ul",{staticClass:"clearfix"},[t.userCount<5?i("div",[i("li",{staticClass:"lessThan5"},[i("img",{attrs:{src:t.creater.createrPic,alt:"赵珂"}})]),e._v(" "),e._l(t.userlist,function(e,t){return i("li",{key:t,staticClass:"lessThan5"},[i("img",{attrs:{src:e.image,alt:""}})])})],2):e._e(),e._v(" "),t.userCount>=5?i("div",{staticClass:"moreUser clearfix"},[i("li",{staticClass:"moreThan5",style:{"z-index":Math.abs(s-200)}},[i("img",{attrs:{src:t.creater.createrPic,alt:"赵珂"}})]),e._v(" "),e._l(t.userlist,function(e,t){return i("li",{key:t,staticClass:"moreThan5",style:{"z-index":Math.abs(t-100)}},[i("img",{attrs:{src:e.image,alt:""}})])}),e._v(" "),i("li",{staticClass:"nums fr"},[e._v("等"+e._s(t.userCount)+"人")])],2):e._e()]),e._v(" "),i("span",{staticClass:"moreButton",on:{click:function(e){e.stopPropagation()}}},[i("el-dropdown",{attrs:{trigger:"click","visible-change.stop":""},on:{command:e.handleCommand}},[i("span",{staticClass:"el-dropdown-link",on:{click:function(e){e.stopPropagation()}}},[i("i",{staticClass:"iconfont icon-gengduo fr"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.ArchiveSettingsList,function(s,n){return i("el-dropdown-item",{key:n,attrs:{command:n,dataProjectid:t.projectid,classify:"iParticipate"}},[e._v(e._s(s.name))])}),1)],1)],1)])])}),0)])]),e._v(" "),e.itemInformationShow?i("Info",{attrs:{num:"itemInformation",projectId:e.projectId,classify:e.classify},on:{closePop:e.closeInfo}}):e._e(),e._v(" "),e.itemRecordShow?i("itemRecord",{attrs:{projectId:e.projectId},on:{closeItem:e.closeItemRecord}}):e._e(),e._v(" "),e.HandoverShow?i("projectHandover",{on:{closeHandover:e.closeHandover}}):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"fr"},[t("i",{staticClass:"iconfont icon-sousuo"}),this._v(" "),t("i",{staticClass:"iconfont icon-rili "})])}]};var r=function(e){i("1QFH")},a=i("C7Lr")(s.a,n,!1,r,null,null);t.a=a.exports},MsJb:function(e,t){},MzaG:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABBCAYAAACel4eZAAAACXBIWXMAAAsSAAALEgHS3X78AAADKUlEQVRoge2b32vaUBTHTxJngkqnraOCgoW29KEPhdWXPW1P+wP2D+xf218w9ifsbQ/KwAdBOwQLhVYoRCHaZDVmfDPj/JGoybXzRu4HSizNvZ5PzrknaaKS4zhUq9Wyqqp+tW37naqqhqZpA9oBuq6/GY/Hv4joQ6VS6UWJQKpWq1lN05r5fP44l8vtwmPKzc2NYVlWhojqUaVkZCaXy+1cZoErIvqOygk7UHYc520+n3/pAKMQSUpWFMXhRmGZ0FJyKpXq/8cAoxBKSuYufH82loqLEE2kvq3bKU5C4H2tVvuyaoe4CYHPq6TiKESrpOIqREFSXAkpipIIOWRJiiuhw8NDTZIkI+SwOSmuhA4ODiiRSCQjDJ1K8VZydHJykpRl+XeE4a5U2Jp9cTRNo/Pz8+T9/f2zYRhjIsL/Zs+bvK/jOB+5EwLJZJLK5fIrvDZNU7Vte6Nxj4+PXS6FZkHGNqXf75txPg/5IoR4RwjxjhDiHSHEO0KId4QQ7wgh3hFCvCOEeEcI8Y4Q4p29E9rKjcbRaESGMf/QIJv993z34eEBd0B9x2YyGdygn25ZYZ4BwbbbbVdqltPTUyqVStRsNqnb7a6dBzIYUygUmOJhEur1etRqtfwnTiRcWU/GLwPImpc5HBDMhVu/s9kNC5PQ7e3tNNjLy8ul+9CNRsPdFotFOjs7C5wHMvV63S1bZPv6+jpyTExNARkCfjL092mAu0XpeSyWJk2yiTnA4loMC3OXg8i6JwTe37GegkoU+3glGdRANoGp5BAA3hxH3a9D4VNeR0dH099XNQdk28temEcoizBlCGsH4Kj7lRLKyOtad3d3c2NmgczsemSBKUNY7AgGawU/q7qTt96QMXS/oNJD696ZEErq4uJiGpwXdBA4+mgQnU5nOZDJeYilZdM2TqwoKQQBmcXFjDIcDAaUTqddGa/80MIXP0XJzZUCTRZx2DM8ayaCEFfbvCOEeGf/hJ6eno45iGMrDIfD1/JoNLL2wMXFtm1JliTpp3eZH2fgABfZsqxPuq53dV2PrQ5ihwNcuPr+UFhM00zj6zmKovyATKVS6f0BOHlR2lB1C1sAAAAASUVORK5CYII="},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("+VlJ"),n=i("Dr8r"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"},on:{dragenter:function(e){e.preventDefault(),e.stopPropagation()},dragover:function(e){e.preventDefault(),e.stopPropagation()},dragleave:function(e){e.preventDefault(),e.stopPropagation()},drop:function(e){e.preventDefault(),e.stopPropagation()}}},[this.isRouterAlive?t("router-view"):this._e()],1)},staticRenderFns:[]};var a=i("C7Lr")({name:"App",provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0}},methods:{reload:function(){var e=this;this.isRouterAlive=!1,this.$nextTick(function(){e.isRouterAlive=!0})}}},r,!1,function(e){i("3ETo")},null,null).exports,o=i("KGCO"),l={data:function(){return{emPlace:"请输入您的工作邮箱",userName:"",passWord:"",checked:!1,loginType:!1,errorTitle:"",email:"",hintEmail:!1,nextPagetwo:!1,nextPage:!1}},watch:{userName:function(e){this.errorTitle&&(this.errorTitle="")},passWord:function(e){this.errorTitle&&(this.errorTitle="")}},mounted:function(){Object(n.a)("Uname")&&(this.userName=Object(n.a)("Uname")),Object(n.a)("userPwd")&&(this.passWord=Object(n.a)("userPwd")),this.userName&&this.passWord&&this.$refs.passWord.focus()},methods:{logIn:function(){this.$router.push("/login")},register:function(){Object(n.b)("registerEmail",""),this.$router.push("/register")},enter:function(e){var t=this;if(this.autofocusEm(this.email),!this.email||""!=this.errorTitle)return!1;var i={Email:this.email};this.$HTTP("post","/UnameEmail",i).then(function(e){0==e.result?(console.log(" this.nextPage = true;"),t.nextPage=!0):(console.log(" this.nextPage = false;"),t.nextPage=!1)}),this.$HTTP("post","/UnameExists",i).then(function(e){0==e.result?(console.log(" this.nextPagetwo = true;"),t.nextPagetwo=!0):(console.log(" this.nextPagetwo = false;"),t.nextPagetwo=!1)});setTimeout(function(e){if(1==t.nextPage&&1==t.nextPagetwo){setTimeout(function(e){t.$router.push("/register"),Object(n.b)("registerEmail",t.email,6e4)},2e3)}else 0!=t.nextPage&&0!=t.nextPagetwo||(t.$router.push("/login"),Object(n.b)("loginEmail",t.email,6e4))},100)},autofocusEm:function(e){this.hintEmail=!1,this.emPlace="请输入您的工作邮箱";""==this.email?this.errorTitle="请输入您的工作邮箱":/^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/.test(this.email)?this.errorTitle="":this.errorTitle="请输入正确的邮箱格式"},emailFocus:function(){this.emPlace="",this.hintEmail=!0,this.errorTitle="",this.eamilBoderRed=!1,this.hintPw=!1}},created:function(){console.log(localStorage.getItem("RememberYourPassword")),localStorage.getItem("staffInfo")&&Object(n.a)("RememberYourPassword")&&this.$router.push("/project/projectManage")}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"homeBox"}},[e._m(0),e._v(" "),s("div",{staticClass:"topNav"},[s("img",{staticClass:"company_logo",attrs:{src:i("C4zT"),height:"40px",alt:""}}),e._v(" "),s("span",{staticClass:"logon",on:{click:e.logIn}},[e._v("登录")]),e._v(" "),s("span",{staticClass:"register",on:{click:e.register}},[e._v("注册")])]),e._v(" "),s("div",{staticClass:"main_box"},[s("div",{staticClass:"main"},[s("img",{attrs:{src:i("2LIm"),width:"170px",alt:""}}),e._v(" "),s("div",{staticClass:"box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.hintEmail,expression:"hintEmail"}],staticClass:"hint"},[e._v("请输入您的工作邮箱")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"inputBox",attrs:{type:"text",placeholder:e.emPlace},domProps:{value:e.email},on:{blur:function(t){e.autofocusEm(e.email)},focus:e.emailFocus,keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.enter(t):null},input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),e.errorTitle?s("span",{staticClass:"error_title"},[e._v(e._s(e.errorTitle))]):e._e(),e._v(" "),s("i",{staticClass:"el-icon-back",on:{click:e.enter}})])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bgSvg_k"},[t("div",{staticClass:"grid_ke"}),this._v(" "),t("div",{staticClass:"svg"})])}]};var u=i("C7Lr")(l,c,!1,function(e){i("12IX")},null,null).exports,d=i("moUO"),h={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"loginBox"},[e._m(0),e._v(" "),s("div",{staticClass:"topNav"},[s("img",{staticClass:"company_logo",attrs:{src:i("C4zT"),alt:""}}),e._v(" "),s("router-link",{staticClass:"logon",attrs:{to:"/login",tag:"span"}},[e._v("登录")]),e._v(" "),s("span",{staticClass:"register",on:{click:e.register}},[e._v("注册")])],1),e._v(" "),s("div",{staticClass:"main_box"},[s("div",{staticClass:"main clearfix"},[s("p",[e._v("账户密码登录")]),e._v(" "),s("div",{staticClass:"email_div box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.hintEmail,expression:"hintEmail"}],staticClass:"hint"},[e._v("请输入邮箱账号")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],ref:"email",class:e.errorName?"inputBoxBlur":"inputBox",attrs:{type:"text",placeholder:e.emPlace},domProps:{value:e.email},on:{blur:function(t){e.autofocusEm(e.email)},focus:e.emailFocus,input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"passwrod_div box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.hintPw,expression:"hintPw"}],staticClass:"hint"},[e._v("请输入密码")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.passWord,expression:"passWord"}],staticClass:"inputBox",class:e.errorPassWord?"inputBoxBlur":"inputBox",attrs:{type:"password",placeholder:e.pwPlace},domProps:{value:e.passWord},on:{focus:e.pwFocus,blur:function(t){e.pwBlur()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.enterLogin(t):null},input:function(t){t.target.composing||(e.passWord=t.target.value)}}}),e._v(" "),e.errorTitle?s("span",{staticClass:"error_title"},[e._v(e._s(e.errorTitle)+"\n          "),e._v(" "),s("router-link",{directives:[{name:"show",rawName:"v-show",value:"该邮箱尚未注册,点击"==e.errorTitle,expression:"errorTitle=='该邮箱尚未注册,点击'"}],staticClass:"mainColor",attrs:{to:"/register",tag:"a"}},[e._v(" 前往注册")])],1):e._e()]),e._v(" "),s("div",{staticStyle:{color:"#999999","margin-top":"30px"}},[s("el-checkbox",{staticClass:"next",staticStyle:{color:"#a0a0a0"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("下次自动登录")]),e._v(" "),s("div",{staticClass:"fr"},[s("span",{staticClass:"forgetPassword cur ",on:{click:e.forgetPwd}},[e._v("忘记密码？")]),e._v(" "),s("span",{staticClass:"line"}),e._v(" "),s("span",{staticClass:"register cur",on:{click:function(t){e.register()}}},[e._v("注册")])])],1),e._v(" "),e.email&&e.passWord?s("span",{staticClass:"loginButton",on:{click:e.enterLogin}},[e._v("确认登录 →")]):s("span",{staticClass:"loginButtonNo cur"},[e._v("确认登录 →")]),e._v(" "),s("p",{staticClass:"otherType"},[e._v("你也可以用以下方式登录")]),e._v(" "),e._m(1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bgSvg_k"},[t("div",{staticClass:"grid_ke"}),this._v(" "),t("div",{staticClass:"svg"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("a",{staticClass:"weixin cur",attrs:{href:"http://server.apexgame.cn/wecharCode.ashx"}},[t("i",{staticClass:"iconfont icon-weixin1"})])}]};var f=function(e){i("KTKw")},p=i("C7Lr")(d.a,h,!1,f,null,null).exports,v=i("3cXf"),m=i.n(v),g={data:function(){return{navList:[{id:"01",name:"iconfont icon-gongzuotai",path:"/workbench",menuSelected:!1,prompt:"工作台"},{id:"02",name:"iconfont icon-gongdan",path:"/project",menuSelected:!0,prompt:"项目"},{id:"03",name:"icon-wenjian1",path:"/personalDocuments",menuSelected:!1,prompt:"个人文档"}],menuSelected:"01"}},methods:{checkNav:function(e,t){Math.random().toFixed(4);this.menuSelected=e.id,this.$router.push(e.path),localStorage.setItem("menuSelected",this.menuSelected)}},created:function(){this.menuSelected="02"},mounted:function(){}},_={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"k_leftNav"}},[i("div",{staticClass:"middleNav"},[i("ul",{staticClass:"navLists"},e._l(e.navList,function(t,s){return i("li",{key:s,staticClass:"list",class:{checkNav:e.menuSelected==t.id},on:{click:function(i){e.checkNav(t)}}},[i("i",{staticClass:"iconfont ",class:t.name}),e._v(" "),i("p",{staticClass:"names cur"},[e._v(e._s(t.prompt))])])}),0)])])},staticRenderFns:[]};var y=i("C7Lr")(g,_,!1,function(e){i("IF9K")},null,null).exports,C=i("kwUQ"),w=i("qO4h"),A={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"all_notice"},[i("div",{staticClass:"all_notice_top"},[i("span",{staticClass:"fl top_fl"},[e._v("全部通知")]),e._v(" "),i("i",{staticClass:"iconfont icon-guanbijiantou fr",on:{click:e.returnBack}}),e._v(" "),e.isAllRead?i("span",{staticClass:"fr top_fr",on:{click:e.clickAllRead}},[e._v("标记全部已读")]):i("span",{staticClass:"fr top_fr cur_dis"},[e._v("标记全部已读")])]),e._v(" "),i("div",{staticClass:"all_notice_list"},[e._l(e.noticeList,function(t,s){return i("div",{key:t.Pkid,staticClass:"all_notice_every clearfix",class:!t.Enabled&&"is_read",on:{click:function(i){e.enterDetail(t,s)}}},[i("span",{staticClass:"left_header fl"},[i("img",{attrs:{src:t.userPic,alt:""}})]),e._v(" "),i("div",{staticClass:"right_detail fl"},[i("div",{staticClass:"right_detail_top"},[i("span",{staticClass:"notice_from"},[e._v(e._s(t.userName))]),e._v(" "),1!==t.Type&&2!==t.Type&&9!==t.Type?i("span",{staticClass:"location"},[e._v(e._s(t.ProjectTitle))]):e._e()]),e._v(" "),1===t.Type?i("div",{staticClass:"notice_type"},[e._v("已将你加入"),i("span",{class:t.Enabled?"mainColor_text":"read_style"},[e._v(e._s(t.Content))])]):2===t.Type?i("div",{staticClass:"notice_type"},[e._v("已将你移出"),i("span",{staticClass:"gray_night"},[e._v(e._s(t.Content))])]):3===t.Type?i("div",{staticClass:"notice_type"},[e._v("已将你加入"),i("span",{class:t.Enabled?"mainColor_text":"read_style"},[e._v(e._s(t.Content))]),e._v("阶段")]):4===t.Type?i("div",{staticClass:"notice_type"},[e._v("已将你移出"),i("span",{staticClass:"gray_night"},[e._v(e._s(t.Content))]),e._v("阶段")]):5===t.Type?i("div",{staticClass:"notice_type"},[e._v("评论"),i("span",{class:t.Enabled?"mainColor_text":"read_style"},[e._v(e._s(t.Content))]),e._v("："+e._s(t.Remarks))]):11===t.Type?i("div",{staticClass:"notice_type"},[e._v("评论"),i("span",{class:t.Enabled?"mainColor_text":"read_style"},[e._v(e._s(t.Content))]),e._v("："+e._s(t.Remarks))]):6===t.Type?i("div",{staticClass:"notice_type"},[e._v("在评论 "),i("span",[e._v(e._s(t.userName))]),e._v("的"),i("span",{class:t.Enabled?"mainColor_text":"read_style"},[e._v(e._s(t.Content))]),e._v("时@你："+e._s(t.Remarks))]):7===t.Type?i("div",{staticClass:"notice_type"},[e._v("已经完成工作并将文件移交给你")]):8===t.Type?i("div",{staticClass:"notice_type"},[e._v("已将"),i("span",{class:t.Enabled?"mainColor_text":"read_style"},[e._v(e._s(t.Content))]),e._v("交接给你")]):9===t.Type?i("div",{staticClass:"notice_type"},[e._v("已将"),i("span",{class:t.Enabled?"mainColor_text":"read_style"},[e._v(e._s(t.Content))]),e._v("归档")]):10===t.Type?i("div",{staticClass:"notice_type"},[e._v("已将"),i("span",{class:t.Enabled?"mainColor_text":"read_style"},[e._v(e._s(t.Content))]),e._v("从归档项目中恢复")]):e._e()]),e._v(" "),i("div",{staticClass:"hover_show"},[i("span",{staticClass:"notice_time"},[e._v(e._s(t.showDate))]),e._v(" "),t.Enabled?i("i",{staticClass:"iconfont icon-yidu",on:{click:function(t){t.stopPropagation(),e.clickRead(s)}}}):e._e()]),e._v(" "),i("div",{staticClass:"bottom_line"})])}),e._v(" "),e.loadMoreShow?i("div",{staticClass:"load_more",on:{click:e.loadMore}},[e._v("查看更多通知")]):i("div",{staticClass:"load_more"})],2)])},staticRenderFns:[]};var k=function(e){i("ERgZ")},b=i("C7Lr")(w.a,A,!1,k,null,null).exports,I={components:{leftNav:y,topBar:C.a,noticeAll:b},data:function(){return{userId:""}},methods:{getInfo:function(e){var t={userPkid:e};this.$HTTP("post","/user_get",t).then(function(e){localStorage.setItem("staffInfo",m()(e.result))})},agreeJoin:function(e,t){var i={myUserId:e,friendsUserId:t};this.$HTTP("post","/user_friends_add",i).then(function(e){console.log(e)})}},created:function(){var e=decodeURI(window.location.href).split("?")[1],t=JSON.parse(localStorage.getItem("staffInfo"));Object(n.a)("RememberYourPassword");if(t&&Object(n.a)("RememberYourPassword"))this.userId=t.userPkid;else if(e){console.log(this.userId,this.myUserId,"0 kankan加好友没有");var i=decodeURI(window.location.href).split("?")[1].split("&");if("userId"==i[0].split("=")[0]){console.log(this.userId,this.myUserId,"1 kankan加好友没有");var s=i[0].split("=")[1];this.getInfo(s)}else this.userId=t.userPkid,this.type=i[1].split("=")[1],console.log(this.userId,this.myUserId,"2 kankan加好友没有"),this.myUserId=i[0].split("=")[1],this.id=i[2].split("=")[1],this.userId!==this.myUserId&&this.agreeJoin(this.userId,this.myUserId)}else this.$router.push("/login")}},x={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bigBox_k clearfix"},[t("div",{staticClass:"leftNav_k fl"},[t("left-nav")],1),this._v(" "),t("div",{staticClass:"topBar_k fl"},[t("top-bar")],1),this._v(" "),t("div",{staticClass:"maiContent"},[t("router-view")],1)])},staticRenderFns:[]};var P=i("C7Lr")(I,x,!1,function(e){i("0XSk")},null,null).exports,S=i("Xzdd"),T={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"registerBox"},[e._m(0),e._v(" "),s("div",{staticClass:"topNav"},[s("img",{staticClass:"company_logo",attrs:{src:i("C4zT"),alt:""}}),e._v(" "),s("router-link",{staticClass:"login",attrs:{to:"/login",tag:"span"}},[e._v("登录")]),e._v(" "),s("span",{staticClass:"register",on:{click:e.register}},[e._v("注册")])],1),e._v(" "),s("div",{staticClass:"main_box"},[s("div",{staticClass:"main"},[s("div",{staticClass:"registerList"},[s("p",{staticClass:"title"},[e._v("注册")]),e._v(" "),s("div",{staticClass:"email_div box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.hintName,expression:"hintName"}],staticClass:"hint"},[e._v("请输入您的姓名")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],class:e.errorName?"inputBoxBlur":"inputBox",attrs:{type:"text",placeholder:e.namePlace},domProps:{value:e.name},on:{blur:function(t){e.nameBlur(e.name)},focus:e.nameFocus,input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"email_div box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.hintEmail,expression:"hintEmail"}],staticClass:"hint"},[e._v("请输入您的工作邮箱")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:e.errorEmail?"inputBoxBlur":"inputBox",attrs:{type:"text",placeholder:e.empalce},domProps:{value:e.email},on:{blur:function(t){e.autofocusEm(e.email)},focus:e.emailFocus,input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"getCodeBox box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.hintCode,expression:"hintCode"}],staticClass:"hint"},[e._v("请输入邮箱收到的验证码")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.emailCode,expression:"emailCode"}],class:e.errorCode?"inputBoxBlur":"inputBox",attrs:{type:"text",placeholder:e.verificationCode},domProps:{value:e.emailCode},on:{blur:function(t){e.autofocusCode(e.emailCode)},focus:e.codeFocus,input:function(t){t.target.composing||(e.emailCode=t.target.value)}}}),e._v(" "),e.email?s("el-button",{staticClass:"getCode cur",on:{click:e.getCode}},[e._v("获取验证码")]):s("el-button",{staticClass:"getCode cur",attrs:{disabled:""}},[e._v("获取验证码")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.getcodeShow,expression:"getcodeShow"}],staticClass:"getCodes cur"},[e._v(e._s(e.num)+"s")])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.imgCodeShow,expression:"imgCodeShow"}],staticClass:"getCodeBox box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.hintimgCode,expression:"hintimgCode"}],staticClass:"hint"},[e._v("请输入右图验证码")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.imgCodeMain,expression:"imgCodeMain"}],class:e.imgCodes?"inputBoxBlur":"inputBox",attrs:{type:"text",placeholder:e.imgCode},domProps:{value:e.imgCodeMain},on:{blur:function(t){e.autofocusImgCode(e.emailCode)},focus:e.imgcodeFocus,input:function(t){t.target.composing||(e.imgCodeMain=t.target.value)}}}),e._v(" "),s("span",{staticClass:"imgCode",attrs:{id:"validate"}})]),e._v(" "),s("div",{staticClass:"pwd_div box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.hintPwd,expression:"hintPwd"}],staticClass:"hint"},[e._v("请设置密码")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:e.errorPwd?"inputBoxBlur":"inputBox",attrs:{type:"password",placeholder:e.setPwPlace,autocomplete:"off",maxlength:"20"},domProps:{value:e.password},on:{blur:function(t){e.autofocusPw(e.password)},focus:e.pawdFocus,input:[function(t){t.target.composing||(e.password=t.target.value)},function(t){e.pwdInput(e.password)}]}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.triangleShow,expression:"triangleShow"}]},[s("span",{staticClass:"Triangle"}),e._v(" "),s("div",{staticClass:"hintMessage"},[s("p",[e._v("您的密码必须包含：")]),e._v(" "),s("p",[s("el-checkbox",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(" 请输入6-20个字符")])],1),e._v(" "),s("p",[s("el-checkbox",{model:{value:e.radio2,callback:function(t){e.radio2=t},expression:"radio2"}},[e._v("同时包含字母和数字")])],1)])])]),e._v(" "),s("div",{staticClass:"pwd_div box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.hintPwdTwo,expression:"hintPwdTwo"}],staticClass:"hint"},[e._v("请再次输入密码")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.repPassword,expression:"repPassword"}],class:e.errorPwdTwo?"inputBoxBlur":"inputBox",attrs:{type:"password",placeholder:e.setPwPlaceTwo,autocomplete:"off",maxlength:"20"},domProps:{value:e.repPassword},on:{blur:function(t){e.autofocusPwTw(e.repPassword)},focus:e.pawdFocusTwo,input:function(t){t.target.composing||(e.repPassword=t.target.value)}}}),e._v(" "),e.erroMessage?s("span",{staticClass:"error_title"},[e._v(e._s(e.erroMessage)+"\n            "),"该账号已经注册，点击"==e.erroMessage?s("router-link",{staticClass:"mainColor",attrs:{tag:"a",to:"/login"},nativeOn:{click:function(t){return e.goLogin(t)}}},[e._v("直接登录")]):e._e()],1):e._e()]),e._v(" "),e.name&&e.email&&e.emailCode&&e.password&&e.repPassword?s("div",{staticClass:"loginButton cur",on:{click:e.register}},[e._v("注册\n          "),s("i",{staticClass:"iconfont "},[e._v(" → ")])]):s("div",{staticClass:"loginButtonNo cur"},[e._v(" 注册\n          "),s("i",{staticClass:"iconfont "},[e._v(" → ")])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bgSvg_k"},[t("div",{staticClass:"grid_ke"}),this._v(" "),t("div",{staticClass:"svg"})])}]};var L=function(e){i("rlF0")},E=i("C7Lr")(S.a,T,!1,L,null,null).exports,F=i("ZLEe"),R=i.n(F),N=i("aA9S"),B=i.n(N),D={data:function(){return{hintEmail:!1,empalce:"请输入要绑定的账号",errorEmail:!1,email:"",hintPwd:!1,setPwPlace:"请输入密码",errorPwd:!1,password:"",erroMessage:""}},props:["unionId","nickname"],methods:{logIn:function(){this.$router.push("/login")},register:function(){setCookie("registerEmail",""),this.$router.push("/register")},boundAndLogin:function(){var e=this;if(this.autofocusEm(),this.autofocusPw(),""==this.erroMessage){this.emailExists(this.email);var t={email:this.email,pwd:this.password,unionid:this.unionId,nickname:this.nickname};this.$HTTP("post","/user_update_bindwx",t).then(function(t){console.log(t),2==t.code?e.erroMessage="密码输入错误，请核对后再输入":3==t.code?e.erroMessage="该邮箱尚未注册":200==t.code&&(localStorage.setItem("staffInfo",m()(t.result)),e.$router.push("/project/projectManage"),e.$message("账号绑定成功"))})}},goRegister:function(){this.$router.push("/register")},autofocusEm:function(e){if(this.empalce="请输入您的工作邮箱",this.hintEmail=!1,""==this.email)return this.errorEmail=!0,this.erroMessage="请输入您的工作邮箱",!1;if(!/^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/.test(this.email))return this.erroMessage="请输入正确的邮箱格式",this.errorEmail=!0,!1;this.erroMessage="",this.errorEmail=!1},emailFocus:function(){this.errorEmail=!1,this.erroMessage="",this.empalce="",this.hintEmail=!0},autofocusPw:function(){if(this.setPwPlace="请设置密码",this.hintPwd=!1,this.triangleShow=!1,""==this.password)return this.erroMessage="请输入密码",void(this.errorPwd=!0)},pawdFocus:function(){this.errorPwd=!1,this.setPwPlace="",this.erroMessage="",this.hintPwd=!0,this.triangleShow=!0},emailExists:function(e){var t=this,i={info:e};this.$HTTP("post","/user_exists_info",i).then(function(e){200!=e.code?1==e.code&&(t.erroMessage=""):t.erroMessage="您输入的账号不存在，请重新输入"})}},created:function(){}},O={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"goBond"}},[e._m(0),e._v(" "),s("div",{staticClass:"topNav"},[s("img",{staticClass:"company_logo",attrs:{src:i("C4zT"),alt:""}}),e._v(" "),s("span",{staticClass:"logon",on:{click:e.logIn}},[e._v("登录")]),e._v(" "),s("span",{staticClass:"register",on:{click:e.register}},[e._v("注册")])]),e._v(" "),s("div",{staticClass:"main_box"},[s("div",{staticClass:"main"},[s("p",{staticClass:"title"},[e._v("账号绑定")]),e._v(" "),s("div",{staticClass:"registerList"},[s("div",{staticClass:"email_div box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.hintEmail,expression:"hintEmail"}],staticClass:"hint"},[e._v("请输入您的工作邮箱")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:e.errorEmail?"inputBoxBlur":"inputBox",attrs:{type:"text",placeholder:e.empalce},domProps:{value:e.email},on:{blur:function(t){e.autofocusEm(e.email)},focus:e.emailFocus,input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"pwd_div box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.hintPwd,expression:"hintPwd"}],staticClass:"hint"},[e._v("请输入密码")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:e.errorPwd?"inputBoxBlur":"inputBox",attrs:{type:"password",placeholder:e.setPwPlace,autocomplete:"off",maxlength:"20"},domProps:{value:e.password},on:{blur:function(t){e.autofocusPw(e.password)},focus:e.pawdFocus,input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),e.erroMessage?s("span",{staticClass:"error_title"},[e._v(e._s(e.erroMessage))]):e._e()])]),e._v(" "),e.email&&e.password?s("span",{staticClass:"loginButton",on:{click:e.boundAndLogin}},[e._v("确认登录 →")]):s("span",{staticClass:"loginButtonNo cur"},[e._v(" 确认登录 →")]),e._v(" "),s("span",{staticClass:"goRegister cur",on:{click:e.goRegister}},[e._v("没有账号？立即创建 ")])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bgSvg_k"},[t("div",{staticClass:"grid_ke"}),this._v(" "),t("div",{staticClass:"svg"})])}]};var j={data:function(){return{name:"11",wxImg:"",unionId:"",nickname:"",goBondShow:!1,wxName:""}},components:{goBound:i("C7Lr")(D,O,!1,function(e){i("oVmI")},null,null).exports},methods:{logIn:function(){this.$router.push("/login")},register:function(){setCookie("registerEmail",""),this.$router.push("/register")},goBound:function(){this.goBondShow=!0},goLogin:function(){var e=this,t={realName:this.name,pic:this.wxImg,unionId:this.unionId,wxName:this.wxName};this.$HTTP("post","/user_register_bindwx",t).then(function(t){200==t.code&&(localStorage.setItem("staffInfo",m()(t.result)),e.$router.push("/project"))})},handleAvatarSuccess:function(e,t){this.imageUrl=e,this.logo=e;this.Pkid},beforeAvatarUpload:function(e){e.type;var t=e.size/1024/1024<2;return t||this.$message.error("上传头像图片大小不能超过 2MB!"),t}},created:function(){var e=this;if(!decodeURI(window.location.href).split("?")[1])return!1;var t=decodeURI(window.location.href).split("?")[1].split("&");console.log(t,"===============================");var i=t[2].split("=")[1],s=t[4].split("=")[1],n=t[3].split("=")[1];this.unionId=t[1].split("=")[1],this.wxName=t[2].split("=")[1];var r={openid:t[0].split("=")[1],unionid:t[1].split("=")[1]},a=B()({},r);for(var o in r)r[o]=encodeURIComponent(r[o]);a.key="4951841F25AF0C695331B3F3C0369089";t&&function(t){for(var i=R()(t).sort(),s={},n=0;n<i.length;n++)s[i[n]]=t[i[n]];var r="";for(var a in s)s[a]=encodeURIComponent(s[a]),r+=a+"="+s[a]+"&";return r=(r=r.slice(0,r.length-1)).toLocaleUpperCase(),r=(r=e.$md5(r)).toLocaleUpperCase()}(a)==s&&(this.name=i,this.unionId=decodeURIComponent(t[1].split("=")[1]),this.nickname=decodeURIComponent(t[2].split("=")[1]),console.log(this.nickname,"this.nickname=================="),this.wxImg=decodeURIComponent(n))}},M={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"wxRegister"}},[e._m(0),e._v(" "),s("div",{staticClass:"topNav"},[s("img",{staticClass:"company_logo",attrs:{src:i("C4zT"),alt:""}}),e._v(" "),s("span",{staticClass:"logon",on:{click:e.logIn}},[e._v("登录")]),e._v(" "),s("span",{staticClass:"register",on:{click:e.register}},[e._v("注册")])]),e._v(" "),e.goBondShow?e._e():s("div",{staticClass:"main_box"},[s("div",{staticClass:"main"},[s("span",{staticClass:"logo_k"},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/File.ashx","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.wxImg?s("img",{staticClass:"avatar",attrs:{src:e.wxImg}}):e._e(),e._v(" "),s("span",{staticClass:"editor"},[s("i",{staticClass:"iconfont icon-shangchuan-"})])])],1),e._v(" "),s("p",[e._v("Hi！"+e._s(e.wxName)+"，请完善您的账号信息，")]),e._v(" "),s("p",[e._v("以便今后使用微信快捷登录")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"inputBox",attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),s("p",{staticClass:"goBond cur",on:{click:e.goBound}},[e._v("已有Eggs账号？去绑定")]),e._v(" "),s("span",{staticClass:"step",on:{click:e.goLogin}},[e._v("没有Eggs账号？直接登录 ")])])]),e._v(" "),e.goBondShow?s("go-bound",{attrs:{unionId:e.unionId,nickname:e.nickname}}):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bgSvg_k"},[t("div",{staticClass:"grid_ke"}),this._v(" "),t("div",{staticClass:"svg"})])}]};var U=i("C7Lr")(j,M,!1,function(e){i("x3Y+")},null,null).exports,G=i("DxyD"),H={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"myCenter"}},[i("div",{staticClass:"topBar_k fl"},[i("top-bar")],1),e._v(" "),i("div",{staticClass:"mainBox"},[i("div",{staticClass:"midel"},[i("router-link",{staticClass:"next cur",attrs:{to:"/project"}},[e._v("退出个人中心")]),e._v(" "),i("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"用户管理",name:"first"}},[i("div",{staticClass:"myMain"},[e.emails?e._e():i("div",{staticClass:"hintBox"},[i("p",{staticClass:"h1"},[e._v("账号信息需要完善")]),e._v(" "),i("p",[e._v("您还未绑定邮箱和设置密码，部分功能暂时无法使用")]),e._v(" "),i("button",{staticClass:"main_button_bg perfect",on:{click:function(t){e.activeName="second"}}},[e._v(" 完善账号 ")])]),e._v(" "),i("div",{staticClass:"personalInfobox personalMainBox"},[i("span",{staticClass:"logo_k"},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/img.ashx","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.personalImg?i("img",{staticClass:"avatar",attrs:{src:e.personalImg}}):e._e(),e._v(" "),i("span",{staticClass:"editor"},[e._v("编辑")])])],1),e._v(" "),i("ul",{staticClass:"fl optionsList detailed"},[i("li",[e._v("姓名 ")]),e._v(" "),i("li",[e._v("所属行业 ")]),e._v(" "),i("li",[e._v("职位 ")]),e._v(" "),i("li",[e._v("电话 ")]),e._v(" "),i("li",[e._v("生日 ")])]),e._v(" "),i("ul",{staticClass:"fr optionsMain"},[i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.realName,expression:"realName"}],attrs:{type:"text"},domProps:{value:e.realName},on:{input:function(t){t.target.composing||(e.realName=t.target.value)}}})]),e._v(" "),i("li",[i("el-select",{attrs:{clearable:"",placeholder:"请选择行业信息"},model:{value:e.profession,callback:function(t){e.profession=t},expression:"profession"}},e._l(e.industryLists,function(e){return i("el-option",{key:e.Pkid,attrs:{label:e.Title,value:e.Pkid}})}),1)],1),e._v(" "),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.job,expression:"job"}],attrs:{type:"text",placeholder:"请输入职位名称"},domProps:{value:e.job},on:{input:function(t){t.target.composing||(e.job=t.target.value)}}})]),e._v(" "),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.tell,expression:"tell"}],attrs:{type:"text",placeholder:"请输入联系方式"},domProps:{value:e.tell},on:{input:function(t){t.target.composing||(e.tell=t.target.value)}}})]),e._v(" "),i("li",{staticClass:"birthday"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],staticClass:"year",attrs:{name:"public-choice"},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.year=t.target.multiple?i:i[0]},function(t){e.getCouponSelected(e.year)}]}},e._l(e.yearLists,function(t,s){return i("option",{key:s,domProps:{value:t}},[e._v(e._s(t))])}),0),e._v("年\n                  "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.month,expression:"month"}],staticClass:"month",attrs:{name:"sel_month"},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.month=t.target.multiple?i:i[0]},function(t){e.getCouponSelected(e.month)}]}},e._l(e.monthLists,function(t,s){return i("option",{key:s,domProps:{value:t}},[e._v(e._s(t))])}),0),e._v("月\n                  "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.day,expression:"day"}],staticClass:"day",attrs:{name:"sel_month"},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.day=t.target.multiple?i:i[0]},function(t){e.getCouponSelected(e.day)}]}},e._l(e.dayList,function(t,s){return i("option",{key:s,domProps:{value:t}},[e._v(e._s(t))])}),0),e._v("日\n\n                ")])]),e._v(" "),i("button",{class:e.saveShow?"saveBtn main_button_bg":"saveBtn main_button_disabled_bg",on:{click:e.saveMain}},[e._v(" 保存信息 ")])])])]),e._v(" "),i("el-tab-pane",{attrs:{label:"安全设置",name:"second"}},[i("div",{staticClass:"myMain"},[i("div",{staticClass:"personalMainBox "},[e.emails?i("div",[i("p",{staticClass:"title"},[e._v("修改密码")]),e._v(" "),i("ul",{staticClass:"fl optionsList oldpawList"},[i("li",[e._v("旧密码 ")]),e._v(" "),i("li",[e._v("新密码 ")]),e._v(" "),i("li",[e._v("确认新密码 ")])]),e._v(" "),i("ul",{staticClass:"fr optionsMain"},[i("div",{staticClass:"box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.oldPwd,expression:"oldPwd"}],staticClass:"inputBox",attrs:{type:"password",placeholder:"请输入旧密码"},domProps:{value:e.oldPwd},on:{focus:e.oldPawdFocus,blur:e.oldPwdAutofocus,input:function(t){t.target.composing||(e.oldPwd=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"pwd_div box"},["checkbox"==(e.check?"password":"text")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"inputBox",attrs:{placeholder:"请输入新密码（6位以上）",maxlength:"20",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{blur:function(t){e.autofocusPw(e.password)},focus:e.pawdFocus,input:function(t){e.pwdInput(e.password)},change:function(t){var i=e.password,s=t.target,n=!!s.checked;if(Array.isArray(i)){var r=e._i(i,null);s.checked?r<0&&(e.password=i.concat([null])):r>-1&&(e.password=i.slice(0,r).concat(i.slice(r+1)))}else e.password=n}}}):"radio"==(e.check?"password":"text")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"inputBox",attrs:{placeholder:"请输入新密码（6位以上）",maxlength:"20",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{blur:function(t){e.autofocusPw(e.password)},focus:e.pawdFocus,input:function(t){e.pwdInput(e.password)},change:function(t){e.password=null}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"inputBox",attrs:{placeholder:"请输入新密码（6位以上）",maxlength:"20",type:e.check?"password":"text"},domProps:{value:e.password},on:{blur:function(t){e.autofocusPw(e.password)},focus:e.pawdFocus,input:[function(t){t.target.composing||(e.password=t.target.value)},function(t){e.pwdInput(e.password)}]}}),e._v(" "),i("i",{staticClass:"iconfont",class:e.check?"icon-yanjing-bi":"icon-yanjing-zheng",on:{click:function(t){e.check=!e.check}}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.triangleShow,expression:"triangleShow"}]},[i("span",{staticClass:"Triangle"}),e._v(" "),i("div",{staticClass:"hintMessage"},[i("p",[e._v("您的密码必须包含：")]),e._v(" "),i("p",[i("el-checkbox",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(" 请输入6- 20个字符")])],1),e._v(" "),i("p",[i("el-checkbox",{model:{value:e.radio2,callback:function(t){e.radio2=t},expression:"radio2"}},[e._v("同时包含字母和数字")])],1)])])]),e._v(" "),i("div",{staticClass:"pwd_div box"},["checkbox"==(e.checkTwo?"password":"text")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.repPassword,expression:"repPassword"}],staticClass:"inputBox",attrs:{placeholder:"请再次输入密码",maxlength:"20",type:"checkbox"},domProps:{checked:Array.isArray(e.repPassword)?e._i(e.repPassword,null)>-1:e.repPassword},on:{blur:function(t){e.autofocusPwTw(e.repPassword)},focus:e.pawdFocusTwo,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.resetPasswords(e.password)},change:function(t){var i=e.repPassword,s=t.target,n=!!s.checked;if(Array.isArray(i)){var r=e._i(i,null);s.checked?r<0&&(e.repPassword=i.concat([null])):r>-1&&(e.repPassword=i.slice(0,r).concat(i.slice(r+1)))}else e.repPassword=n}}}):"radio"==(e.checkTwo?"password":"text")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.repPassword,expression:"repPassword"}],staticClass:"inputBox",attrs:{placeholder:"请再次输入密码",maxlength:"20",type:"radio"},domProps:{checked:e._q(e.repPassword,null)},on:{blur:function(t){e.autofocusPwTw(e.repPassword)},focus:e.pawdFocusTwo,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.resetPasswords(e.password)},change:function(t){e.repPassword=null}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.repPassword,expression:"repPassword"}],staticClass:"inputBox",attrs:{placeholder:"请再次输入密码",maxlength:"20",type:e.checkTwo?"password":"text"},domProps:{value:e.repPassword},on:{blur:function(t){e.autofocusPwTw(e.repPassword)},focus:e.pawdFocusTwo,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.resetPasswords(e.password)},input:function(t){t.target.composing||(e.repPassword=t.target.value)}}}),e._v(" "),i("i",{staticClass:"iconfont",class:e.checkTwo?"icon-yanjing-bi":"icon-yanjing-zheng",on:{click:function(t){e.checkTwo=!e.checkTwo}}})]),e._v(" "),e.erroPaw?i("span",{staticClass:"error_title"},[e._v(e._s(e.erroPaw))]):e._e()]),e._v(" "),i("button",{class:e.oldPwd&&e.password&&e.repPassword?"saveBtn main_button_bg":"saveBtn main_button_disabled_bg",on:{click:e.amendMain}},[e._v("确认修改")])]):i("div",[i("p",{staticClass:"title"},[e._v("完善账号")]),e._v(" "),i("ul",{staticClass:"fl optionsList email"},[i("li",[e._v("邮箱账号 ")]),e._v(" "),i("li",[e._v("验证码 ")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.imgCodeShow,expression:"imgCodeShow"}]},[e._v("动态验证码")]),e._v(" "),i("li",[e._v("密码 ")]),e._v(" "),i("li",[e._v("确认密码 ")])]),e._v(" "),i("div",{staticClass:"fl optionsMain"},[i("div",{staticClass:"email_div box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:e.errorEmail?"inputBoxBlur":"inputBox",attrs:{type:"text",placeholder:"请输入您的工作邮箱"},domProps:{value:e.email},on:{blur:function(t){e.autofocusEm(e.email)},focus:e.emailFocus,input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"getCodeBox box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.emailCode,expression:"emailCode"}],class:e.errorCode?"inputBoxBlur":"inputBox",attrs:{type:"text",placeholder:"请输入邮箱收到的验证码"},domProps:{value:e.emailCode},on:{blur:function(t){e.autofocusCode(e.emailCode)},focus:e.codeFocus,input:function(t){t.target.composing||(e.emailCode=t.target.value)}}}),e._v(" "),e.email?i("el-button",{staticClass:"getCode cur blueBorder",on:{click:e.getCode}},[e._v("获取验证码")]):i("el-button",{staticClass:"getCode cur",attrs:{disabled:""}},[e._v("获取验证码")]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.getcodeShow,expression:"getcodeShow"}],staticClass:"getCodes cur"},[e._v(e._s(e.countdownTime))])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.imgCodeShow,expression:"imgCodeShow"}],staticClass:"getCodeBox box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.imgCodeMain,expression:"imgCodeMain"}],class:e.imgCodes?"inputBoxBlur":"inputBox",attrs:{type:"text",placeholder:"请输入右侧图片验证码"},domProps:{value:e.imgCodeMain},on:{blur:function(t){e.autofocusImgCode(e.emailCode)},focus:e.imgcodeFocus,input:function(t){t.target.composing||(e.imgCodeMain=t.target.value)}}}),e._v(" "),i("span",{staticClass:"imgCode cur",attrs:{id:"validate"}},[e._v(e._s(e.validate))])]),e._v(" "),i("div",{staticClass:"pwd_div box"},["checkbox"==(e.check?"password":"text")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:e.errorPwd?"inputBoxBlur":"inputBox",attrs:{placeholder:"请输入密码",autocomplete:"off",maxlength:"20",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{blur:function(t){e.autofocusPw(e.password)},focus:e.pawdFocus,input:function(t){e.pwdInput(e.password)},change:function(t){var i=e.password,s=t.target,n=!!s.checked;if(Array.isArray(i)){var r=e._i(i,null);s.checked?r<0&&(e.password=i.concat([null])):r>-1&&(e.password=i.slice(0,r).concat(i.slice(r+1)))}else e.password=n}}}):"radio"==(e.check?"password":"text")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:e.errorPwd?"inputBoxBlur":"inputBox",attrs:{placeholder:"请输入密码",autocomplete:"off",maxlength:"20",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{blur:function(t){e.autofocusPw(e.password)},focus:e.pawdFocus,input:function(t){e.pwdInput(e.password)},change:function(t){e.password=null}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:e.errorPwd?"inputBoxBlur":"inputBox",attrs:{placeholder:"请输入密码",autocomplete:"off",maxlength:"20",type:e.check?"password":"text"},domProps:{value:e.password},on:{blur:function(t){e.autofocusPw(e.password)},focus:e.pawdFocus,input:[function(t){t.target.composing||(e.password=t.target.value)},function(t){e.pwdInput(e.password)}]}}),e._v(" "),i("i",{staticClass:"iconfont",class:e.check?"icon-yanjing-bi":"icon-yanjing-zheng",on:{click:function(t){e.check=!e.check}}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.triangleShow,expression:"triangleShow"}]},[i("span",{staticClass:"Triangle"}),e._v(" "),i("div",{staticClass:"hintMessage"},[i("p",[e._v("您的密码必须包含：")]),e._v(" "),i("p",[i("el-checkbox",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(" 请输入6-20个字符")])],1),e._v(" "),i("p",[i("el-checkbox",{model:{value:e.radio2,callback:function(t){e.radio2=t},expression:"radio2"}},[e._v("同时包含字母和数字")])],1)])])]),e._v(" "),i("div",{staticClass:"pwd_div box"},["checkbox"==(e.checkTwo?"password":"text")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.repPassword,expression:"repPassword"}],class:e.errorPwdTwo?"inputBoxBlur":"inputBox",attrs:{placeholder:"请再次输入密码",autocomplete:"off",maxlength:"20",type:"checkbox"},domProps:{checked:Array.isArray(e.repPassword)?e._i(e.repPassword,null)>-1:e.repPassword},on:{blur:function(t){e.autofocusPwTw(e.repPassword)},focus:e.pawdFocusTwo,change:function(t){var i=e.repPassword,s=t.target,n=!!s.checked;if(Array.isArray(i)){var r=e._i(i,null);s.checked?r<0&&(e.repPassword=i.concat([null])):r>-1&&(e.repPassword=i.slice(0,r).concat(i.slice(r+1)))}else e.repPassword=n}}}):"radio"==(e.checkTwo?"password":"text")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.repPassword,expression:"repPassword"}],class:e.errorPwdTwo?"inputBoxBlur":"inputBox",attrs:{placeholder:"请再次输入密码",autocomplete:"off",maxlength:"20",type:"radio"},domProps:{checked:e._q(e.repPassword,null)},on:{blur:function(t){e.autofocusPwTw(e.repPassword)},focus:e.pawdFocusTwo,change:function(t){e.repPassword=null}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.repPassword,expression:"repPassword"}],class:e.errorPwdTwo?"inputBoxBlur":"inputBox",attrs:{placeholder:"请再次输入密码",autocomplete:"off",maxlength:"20",type:e.checkTwo?"password":"text"},domProps:{value:e.repPassword},on:{blur:function(t){e.autofocusPwTw(e.repPassword)},focus:e.pawdFocusTwo,input:function(t){t.target.composing||(e.repPassword=t.target.value)}}}),e._v(" "),i("i",{staticClass:"iconfont",class:e.checkTwo?"icon-yanjing-bi":"icon-yanjing-zheng",on:{click:function(t){e.checkTwo=!e.checkTwo}}})]),e._v(" "),e.erroPaw?i("span",{staticClass:"error_title"},[e._v(e._s(e.erroPaw))]):e._e()]),e._v(" "),i("button",{class:e.repPassword?"saveBtn main_button_bg":"saveBtn main_button_disabled_bg",on:{click:e.confirmToSubmit}},[e._v("确认提交")])]),e._v(" "),e.logInShow?i("div",{staticClass:"successBox"},[e._v("\n                2222\n              ")]):e._e()])])]),e._v(" "),i("el-tab-pane",{attrs:{label:"账号绑定",name:"third"}},[i("div",{staticClass:"myMain"},[i("div",{staticClass:"personalMainBox changePassword"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.boundEmail,expression:"!boundEmail"}],staticClass:"boundEmailBox clearfix"},[i("ul",{staticClass:"fl optionsList"},[i("li",[e._v("邮箱")]),e._v(" "),i("li",[e._v("微信")])]),e._v(" "),i("ul",{staticClass:"fl optionsList accountInformation "},[e.emails?i("li",[e._v(e._s(e.emails))]):i("li",[i("span",{},[e._v("请在")]),e._v(" "),i("span",{staticClass:"cur mainColor",on:{click:function(t){e.activeName="second"}}},[e._v(" 安全设置 ")]),e._v(" "),i("span",{},[e._v("中设置邮箱和密码")])]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.xwName,expression:"xwName"}],staticClass:"xwName"},[i("span",{staticClass:"wx"},[e._v(e._s(e.xwName))]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.xwName,expression:"xwName"}],staticClass:"cur errRed",on:{click:e.removeWxBind}},[e._v(" 解除绑定")])])]),e._v(" "),i("ul",{staticClass:"fl optionsList goBound"},[i("li",{directives:[{name:"show",rawName:"v-show",value:e.emails,expression:"emails"}],staticClass:"cur mainColor",on:{click:function(t){e.boundEmail=!e.boundEmail}}},[e._v("更换绑定")]),e._v(" "),e.emails?e._e():i("li",{staticStyle:{opacity:"0"}},[e._v("dd")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:!e.xwName,expression:"!xwName"}],staticClass:"cur mainColor"},[i("a",{attrs:{href:"https://server.apexgame.cn/wecharCode2.ashx"}},[e._v("绑定")])])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.boundEmail,expression:"boundEmail"}],staticClass:"boundEmailBox changePassword changeEmail"},[i("ul",{staticClass:" fl optionsList"},[i("li",[e._v("邮箱账号")]),e._v(" "),i("li",[e._v("验证码")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.imgCodeShow,expression:"imgCodeShow"}]},[e._v("动态验证码")])]),e._v(" "),i("div",{staticClass:"fl optionsMain"},[i("div",{staticClass:"email_div box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:e.errorEmail?"inputBoxBlur":"inputBox",attrs:{type:"text",placeholder:"请输入您的工作邮箱"},domProps:{value:e.email},on:{blur:function(t){e.autofocusEm(e.email)},focus:e.emailFocus,input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"getCodeBox box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.emailCode,expression:"emailCode"}],class:e.errorCode?"inputBoxBlur":"inputBox",attrs:{type:"text",placeholder:"请输入邮箱收到的验证码"},domProps:{value:e.emailCode},on:{blur:function(t){e.autofocusCode(e.emailCode)},focus:e.codeFocus,input:function(t){t.target.composing||(e.emailCode=t.target.value)}}}),e._v(" "),e.email?i("el-button",{staticClass:"getCode cur blueBorder",on:{click:e.getCode}},[e._v("获取验证码")]):i("el-button",{staticClass:"getCode cur",attrs:{disabled:""}},[e._v("获取验证码")]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.getcodeShow,expression:"getcodeShow"}],staticClass:"getCodes cur"},[e._v(e._s(e.countdownTime))])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.imgCodeShow,expression:"imgCodeShow"}],staticClass:"getCodeBox box"},[i("span",{directives:[{name:"show",rawName:"v-show",value:e.hintimgCode,expression:"hintimgCode"}],staticClass:"hint"},[e._v("请输入右侧图片验证码")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.imgCodeMain,expression:"imgCodeMain"}],class:e.imgCodes?"inputBoxBlur":"inputBox",attrs:{type:"text",placeholder:"请输入右侧图片验证码"},domProps:{value:e.imgCodeMain},on:{blur:function(t){e.autofocusImgCode(e.emailCode)},focus:e.imgcodeFocus,input:function(t){t.target.composing||(e.imgCodeMain=t.target.value)}}}),e._v(" "),i("span",{staticClass:"imgCode",attrs:{id:"validate"}},[e._v(e._s(e.validate))])]),e._v(" "),e.erroPaw?i("span",{staticClass:"error_title"},[e._v(e._s(e.erroPaw))]):e._e()]),e._v(" "),i("button",{class:e.email&&e.emailCode?"saveBtn main_button_bg":"saveBtn main_button_disabled_bg",on:{click:e.changeBind}},[e._v("更换邮箱")])])])])])],1)],1)]),e._v(" "),i("transition",{attrs:{name:"fade1"}},[e.reminder2Flag?i("Reminder2",{attrs:{type:1,text:e.errMessage,sureText:e.buttonMes},on:{handleCancle:e.reminderCancel,handleSure:e.reminderSure}}):e._e()],1),e._v(" "),i("transition",{attrs:{name:"popBox_k"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.popBoxShow,expression:"popBoxShow"}],staticClass:"popBox_k"},[i("i",{staticClass:"iconfont icon-xuanzhong mainColor"}),e._v(" "),i("span",{staticClass:"hint"},[e._v("\n        "+e._s(e.popContent)+"（"+e._s(e.countDown)+"）\n      ")])])])],1)},staticRenderFns:[]};var W=function(e){i("LpOn")},q=i("C7Lr")(G.a,H,!1,W,null,null).exports,Q=i("UwTL"),z={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"forgetPwd"}},[e._m(0),e._v(" "),s("div",{staticClass:"topNav"},[s("img",{staticClass:"company_logo",attrs:{src:i("C4zT"),alt:""}}),e._v(" "),s("span",{staticClass:"logon",on:{click:e.logIn}},[e._v("登录")]),e._v(" "),s("span",{staticClass:"register",on:{click:e.register}},[e._v("注册")])]),e._v(" "),e.main_boxShow?s("div",{staticClass:"main_box"},[s("div",{staticClass:"main"},[s("el-steps",{attrs:{active:e.active}},[s("el-step",{attrs:{title:"确认账号"}}),e._v(" "),s("el-step",{attrs:{title:"安全验证"}}),e._v(" "),s("el-step",{attrs:{title:"重置密码"}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.checkIndex,expression:"checkIndex==0"}],staticClass:"getPwd"},[s("div",{staticClass:"email_div box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.hintEmail,expression:"hintEmail"}],staticClass:"hint"},[e._v("请输入注册的邮箱账号")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"inputBox",attrs:{type:"text",placeholder:e.emailPlac},domProps:{value:e.email},on:{blur:function(t){e.autofocusEm(e.email)},focus:e.emailFocus,input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),e.erroMessage?s("span",{staticClass:"error_title"},[e._v(e._s(e.erroMessage))]):e._e()]),e._v(" "),s("div",{staticClass:"button"},[s("span",{staticClass:"step fr",on:{click:function(t){e.next(1)}}},[e._v("→")])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.checkIndex,expression:"checkIndex==1"}],staticClass:"sendEmail"},[e.defaults?s("div",{},[s("p",{staticClass:"title"},[e._v("为了保护账号安全，需要验证邮箱有效性")]),e._v(" "),s("p",[e._v("点击下方按钮，将会发送验证码到您的邮箱")]),e._v(" "),s("p",[e._v(e._s(e.otherEmail))]),e._v(" "),s("div",{staticClass:"button"},[s("span",{staticClass:"step fr",on:{click:function(t){e.next("one")}}},[e._v("发送邮件 →")])])]):s("div",{staticClass:"sendEmailTwo"},[s("p",{staticClass:"sendToEmail"},[e._v("验证码已发送到邮箱")]),e._v(" "),s("p",[e._v(e._s(e.otherEmail))]),e._v(" "),s("div",{staticClass:"getCodeBox box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.emailCode,expression:"emailCode"}],class:e.errorCode?"inputBoxBlur":"inputBox",attrs:{type:"text",placeholder:e.verificationCode},domProps:{value:e.emailCode},on:{blur:function(t){e.autofocusCode(e.emailCode)},focus:e.codeFocus,input:function(t){t.target.composing||(e.emailCode=t.target.value)}}}),e._v(" "),e.getcodeShow?s("el-button",{staticClass:"getCode cur",on:{click:e.getCode}},[e._v("获取验证码")]):s("span",{staticClass:"getCodes cur"},[e._v(e._s(e.countdownTime))])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.imgCodeShow,expression:"imgCodeShow"}],staticClass:"getCodeBox box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.hintimgCode,expression:"hintimgCode"}],staticClass:"hint"},[e._v("请输入右图验证码")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.imgCodeMain,expression:"imgCodeMain"}],class:e.imgCodes?"inputBoxBlur":"inputBox",attrs:{type:"text",placeholder:e.imgCode},domProps:{value:e.imgCodeMain},on:{blur:function(t){e.autofocusImgCode(e.emailCode)},focus:e.imgcodeFocus,input:function(t){t.target.composing||(e.imgCodeMain=t.target.value)}}}),e._v(" "),s("span",{staticClass:"imgCode",attrs:{id:"validate"}},[e._v(e._s(e.imgcodeList))])]),e._v(" "),e.erroMessage?s("span",{staticClass:"error_title"},[e._v(e._s(e.erroMessage))]):e._e(),e._v(" "),s("el-popover",{attrs:{placement:"bottom",width:"200",trigger:"hover",content:"1.查看是否进入垃圾信息或广告信息 2.5分钟内若未收到邮件，可重新获取"}},[s("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("收不到验证码？")])],1),e._v(" "),s("div",{staticClass:"button"},[s("span",{staticClass:"step fr",on:{click:function(t){e.next(2)}}},[e._v("确定 →")])])],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2==e.checkIndex,expression:"checkIndex==2"}],staticClass:"register"},[s("div",{staticClass:"pwd_div box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.hintPwd,expression:"hintPwd"}],staticClass:"hint"},[e._v("请设置密码")]),e._v(" "),"checkbox"==(e.check?"password":"text")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"inputBox",attrs:{placeholder:e.setPwPlace,maxlength:"20",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{blur:function(t){e.autofocusPw(e.password)},focus:e.pawdFocus,input:function(t){e.pwdInput(e.password)},change:function(t){var i=e.password,s=t.target,n=!!s.checked;if(Array.isArray(i)){var r=e._i(i,null);s.checked?r<0&&(e.password=i.concat([null])):r>-1&&(e.password=i.slice(0,r).concat(i.slice(r+1)))}else e.password=n}}}):"radio"==(e.check?"password":"text")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"inputBox",attrs:{placeholder:e.setPwPlace,maxlength:"20",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{blur:function(t){e.autofocusPw(e.password)},focus:e.pawdFocus,input:function(t){e.pwdInput(e.password)},change:function(t){e.password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"inputBox",attrs:{placeholder:e.setPwPlace,maxlength:"20",type:e.check?"password":"text"},domProps:{value:e.password},on:{blur:function(t){e.autofocusPw(e.password)},focus:e.pawdFocus,input:[function(t){t.target.composing||(e.password=t.target.value)},function(t){e.pwdInput(e.password)}]}}),e._v(" "),s("i",{staticClass:"iconfont",class:e.check?"icon-yanjing-bi":"icon-yanjing-zheng",on:{click:function(t){e.check=!e.check}}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.triangleShow,expression:"triangleShow"}]},[s("span",{staticClass:"Triangle"}),e._v(" "),s("div",{staticClass:"hintMessage"},[s("p",[e._v("您的密码必须包含：")]),e._v(" "),s("p",[s("el-checkbox",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(" 请输入6- 20个字符")])],1),e._v(" "),s("p",[s("el-checkbox",{model:{value:e.radio2,callback:function(t){e.radio2=t},expression:"radio2"}},[e._v("同时包含字母和数字")])],1)])])]),e._v(" "),s("div",{staticClass:"pwd_div box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.hintPwdTwo,expression:"hintPwdTwo"}],staticClass:"hint"},[e._v("请再次输入密码")]),e._v(" "),"checkbox"==(e.checkTwo?"password":"text")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.repPassword,expression:"repPassword"}],staticClass:"inputBox",attrs:{placeholder:e.setPwPlacetwo,maxlength:"20",type:"checkbox"},domProps:{checked:Array.isArray(e.repPassword)?e._i(e.repPassword,null)>-1:e.repPassword},on:{blur:function(t){e.autofocusPwTw(e.repPassword)},focus:e.pawdFocusTwo,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.resetPasswords(e.password)},change:function(t){var i=e.repPassword,s=t.target,n=!!s.checked;if(Array.isArray(i)){var r=e._i(i,null);s.checked?r<0&&(e.repPassword=i.concat([null])):r>-1&&(e.repPassword=i.slice(0,r).concat(i.slice(r+1)))}else e.repPassword=n}}}):"radio"==(e.checkTwo?"password":"text")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.repPassword,expression:"repPassword"}],staticClass:"inputBox",attrs:{placeholder:e.setPwPlacetwo,maxlength:"20",type:"radio"},domProps:{checked:e._q(e.repPassword,null)},on:{blur:function(t){e.autofocusPwTw(e.repPassword)},focus:e.pawdFocusTwo,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.resetPasswords(e.password)},change:function(t){e.repPassword=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.repPassword,expression:"repPassword"}],staticClass:"inputBox",attrs:{placeholder:e.setPwPlacetwo,maxlength:"20",type:e.checkTwo?"password":"text"},domProps:{value:e.repPassword},on:{blur:function(t){e.autofocusPwTw(e.repPassword)},focus:e.pawdFocusTwo,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.resetPasswords(e.password)},input:function(t){t.target.composing||(e.repPassword=t.target.value)}}}),e._v(" "),s("i",{staticClass:"iconfont",class:e.checkTwo?"icon-yanjing-bi":"icon-yanjing-zheng",on:{click:function(t){e.checkTwo=!e.checkTwo}}}),e._v(" "),e.erroPaw?s("span",{staticClass:"error_title"},[e._v(e._s(e.erroPaw))]):e._e()]),e._v(" "),s("div",{staticClass:"button"},[s("span",{staticClass:"step",on:{click:function(t){e.resetPasswords(e.password)}}},[e._v("重置密码→")])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"setSucceed"},[s("i",{staticClass:"el-icon-circle-check-outline"}),e._v(" "),s("p",{staticClass:"title"},[e._v("密码设置成功")])])],1)]):s("div",{staticClass:"succeed"},[s("div",{staticClass:"succeedMain"},[s("i",{staticClass:"el-icon-circle-check-outline"}),e._v(" "),s("p",[e._v("修改密码成功")]),e._v(" "),s("span",{staticClass:"countDown cur",on:{click:e.logIn}},[e._v("点此\n        "),s("span",{staticClass:"enterLogin"},[e._v("重新登录")]),e._v("（"+e._s(e.countDown)+"）")])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bgSvg_k"},[t("div",{staticClass:"grid_ke"}),this._v(" "),t("div",{staticClass:"svg"})])}]};var Y=function(e){i("2/Xt")},V=i("C7Lr")(Q.a,z,!1,Y,null,null).exports,X={data:function(){return{email:"",number:"",hintEmail:!1,hintPw:"",userName:"",passWord:"",checked:!1,loginType:!1,errorTitle:"",one:!0,two:!1,password:"",setPwPlace:"请设置密码",setPwPlacetwo:"请再次输入密码",repPassword:"",radio:!1,radio2:!1,triangleShow:!1,erroPaw:"",name:"",tell:"",hintPwd:!1,hintPwdTwo:!1,perfectErro:"",hintName:!1,hintTel:!1}},watch:{userName:function(e){this.errorTitle&&(this.errorTitle="")},passWord:function(e){this.errorTitle&&(this.errorTitle="")}},mounted:function(){},methods:{next:function(e){var t=this;if(""!=this.password&&""!=this.repPassword)if(this.erroPaw="",this.password===this.repPassword)if(this.erroPaw="",""==this.erroPaw&&1==this.radio&&1==this.radio2){this.one=!1,this.two=!0;var i={Email:this.email,Pwd:this.password};this.$HTTP("post","/RetrievUpdatePassword",i).then(function(e){}),setTimeout(function(e){t.$router.push("/login")},2e3)}else this.erroPaw="密码格式不符合要求";else this.erroPaw="两次输入的密码不一致";else this.erroPaw="请输入密码"},pawdFocus:function(){this.setPwPlace="",this.erroPaw="",this.hintPwd=!0,this.triangleShow=!0},pwdInput:function(e){if(e.length>=6?this.radio=!0:this.radio=!1,!/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,21}$/.test(e))return this.radio2=!1,!1;this.radio2=!0},autofocusPw:function(){this.setPwPlace="请输入密码",this.hintPwd=!1,this.triangleShow=!1,""==this.password&&(this.erroPaw="请输入密码")},autofocusPwTw:function(){this.setPwPlacetwo="请再次输入密码",this.setPwPlaceTwo="请再次输入密码",this.hintPwdTwo=!1,this.password===this.repPassword?(this.erroPaw="",""==this.password&&(this.erroPaw="请输入密码")):this.erroPaw="输入密码不一致，请重新输入"},pawdFocusTwo:function(){this.setPwPlacetwo="",this.hintPwdTwo=!0,this.erroPaw=""},pwdInputTwo:function(e){},setCookie:function(e,t,i){var s=new Date;s.setTime(s.getTime()+864e5*i),window.document.cookie="userName="+e+";path=/;expires="+s.toGMTString(),window.document.cookie="userPwd="+t+";path=/;expires="+s.toGMTString()},getCookie:function(){if(document.cookie.length>0)for(var e=document.cookie.split("; "),t=0;t<e.length;t++){var i=e[t].split("=");"userName"==i[0]?this.ruleForm.userName=i[1]:"userPwd"==i[0]&&(this.ruleForm.password=i[1])}},clearCookie:function(){this.setCookie("","",-1)}},created:function(){if(Object(n.a)("loginEmail"))this.$router.push("/myTesk/myTeskList");else{var e=unescape(window.location.href).split("?")[1];this.email=e.split("&")[0].split("=")[1],console.log(this.email),this.number=e.split("&")[1].split("=")[1],this.number!==Object(n.a)("number")&&(this.$message("此链接已失效,请重新发送"),this.$router.push("/forgetPwd"));setTimeout(function(){Object(n.b)("number","")},3e4)}}},K={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"setPwd"},[e._m(0),e._v(" "),i("div",{staticClass:"main_box"},[i("div",{staticClass:"main"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.one,expression:"one"}],staticClass:"register"},[i("p",{staticClass:"title"},[e._v("设置密码")]),e._v(" "),i("div",{staticClass:"pwd_div box"},[i("span",{directives:[{name:"show",rawName:"v-show",value:e.hintPwd,expression:"hintPwd"}],staticClass:"hint"},[e._v("请设置密码")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"inputBox",attrs:{type:"password",placeholder:e.setPwPlace,maxlength:"20"},domProps:{value:e.password},on:{blur:function(t){e.autofocusPw(e.password)},focus:e.pawdFocus,input:[function(t){t.target.composing||(e.password=t.target.value)},function(t){e.pwdInput(e.password)}]}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.triangleShow,expression:"triangleShow"}]},[i("span",{staticClass:"Triangle"}),e._v(" "),i("div",{staticClass:"hintMessage"},[i("p",[e._v("您的密码必须包含：")]),e._v(" "),i("p",[i("el-checkbox",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(" 请输入6- 20个字符")])],1),e._v(" "),i("p",[i("el-checkbox",{model:{value:e.radio2,callback:function(t){e.radio2=t},expression:"radio2"}},[e._v("同时包含字母和数字")])],1)])])]),e._v(" "),i("div",{staticClass:"pwd_div box"},[i("span",{directives:[{name:"show",rawName:"v-show",value:e.hintPwdTwo,expression:"hintPwdTwo"}],staticClass:"hint"},[e._v("请再次输入密码")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.repPassword,expression:"repPassword"}],staticClass:"inputBox",attrs:{type:"password",placeholder:e.setPwPlacetwo,maxlength:"20"},domProps:{value:e.repPassword},on:{blur:function(t){e.autofocusPwTw(e.repPassword)},focus:e.pawdFocusTwo,input:[function(t){t.target.composing||(e.repPassword=t.target.value)},function(t){e.pwdInputTwo(e.repPassword)}],keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.next(e.password)}}}),e._v(" "),e.erroPaw?i("span",{staticClass:"error_title"},[e._v(e._s(e.erroPaw))]):e._e()]),e._v(" "),i("div",{staticClass:"button"},[i("span",{staticClass:"step",on:{click:function(t){e.next(e.password)}}},[e._v("→")])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.two,expression:"two"}],staticClass:"setSucceed"},[i("i",{staticClass:"el-icon-circle-check-outline"}),e._v(" "),i("p",{staticClass:"title"},[e._v("密码设置成功")])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bgSvg_k"},[t("div",{staticClass:"grid_ke"}),this._v(" "),t("div",{staticClass:"svg"})])}]};var J=i("C7Lr")(X,K,!1,function(e){i("mvWG")},null,null).exports,Z=i("MeSz"),$=i("4YfN"),ee=i.n($),te=i("c4l/"),ie=i("9rMa"),se={components:{Info:te.a},props:["Info"],data:function(){return{newProjectPopShow:!1}},computed:ee()({},Object(ie.c)(["newProjectPop"])),methods:ee()({},Object(ie.b)(["SHOW_NEWPREJECTPOP"]),{newBlankTem:function(){this.newProjectPopShow=!0,this.SHOW_NEWPREJECTPOP(!1)},closeNewProject:function(){this.SHOW_NEWPREJECTPOP(!1)},closeInfo:function(){this.newProjectPopShow=!1}}),created:function(){}},ne={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"new_template"},[e._e(),e._v(" "),e.newProjectPopShow?i("Info",{attrs:{classify:"newInformation"},on:{closePop:e.closeInfo}}):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("i",{staticClass:"iconfont icon-jia"}),this._v(" "),t("span",[this._v("空白项目")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"industryTemplate clearfix"},[s("p",{staticClass:"moduleTittle"},[e._v("行业模板")]),e._v(" "),s("div",{staticClass:"card_module"},[s("div",{staticClass:"card_module_main"},[s("p",[e._v("产品进展")]),e._v(" "),s("p",{staticClass:"hoverFont"},[e._v("适用于互联网产品人员对产品计划、跟进及发布管理")]),e._v(" "),s("span",{staticClass:"cardShade"}),e._v(" "),s("img",{attrs:{src:" ../../assets/img/module_1.png",alt:""}})])]),e._v(" "),s("div",{staticClass:"card_module"},[s("div",{staticClass:"card_module_main"},[s("p",[e._v("产品开发")]),e._v(" "),s("p",{staticClass:"hoverFont"},[e._v("产品开发2")]),e._v(" "),s("span",{staticClass:"cardShade"}),e._v(" "),s("img",{attrs:{src:i("fcQl"),alt:""}})])])])}]};var re=i("C7Lr")(se,ne,!1,function(e){i("hxba")},null,null).exports,ae={components:{List:Z.a,Template:re},data:function(){return{enterShow:"",name:"zhaoke",userId:"",myUserId:""}},methods:{enterLogin:function(){this.enterShow=!1;var e={userId:this.userId};this.$HTTP("post","/user_update_isHomeVideo",e).then(function(e){})},agreeJoin:function(e,t){var i={myUserId:e,friendsUserId:t};this.$HTTP("post","/user_friends_add",i).then(function(e){console.log(e)})},getInfo:function(e){var t={userPkid:e};this.$HTTP("post","/user_get",t).then(function(e){localStorage.setItem("staffInfo",m()(e.result))})}},created:function(){var e=JSON.parse(localStorage.getItem("staffInfo"));if(this.enterShow=e.isHomeVideo,this.name=e.realName,this.userId=e.userPkid,decodeURI(window.location.href).split("?")[1]){var t=decodeURI(window.location.href).split("?")[1].split("&");if("userId"==t[0].split("=")[0]){var i=t[0].split("=")[1];this.getInfo(i)}else this.userId=e.userPkid,this.myUserId=t[0].split("=")[1],this.type=t[1].split("=")[1],this.id=t[2].split("=")[1],this.userId!==this.myUserId&&this.agreeJoin(this.userId,this.myUserId)}}},oe={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"PMP"}},[e.enterShow?i("div",{staticClass:"enter"},[i("p",{staticClass:"tittle"},[e._v("HI "+e._s(e.name)+"！欢迎使用Eggs")]),e._v(" "),i("div",[e._v("您可以利用Eggs强大的团队协作和成果展示功能，帮助团队提高工作效率")]),e._v(" "),e._m(0),e._v(" "),i("div",{staticClass:"main_button_bg",on:{click:e.enterLogin}},[e._v("我知道了，进入项目")])]):e._e(),e._v(" "),i("transition",{attrs:{name:"fade1"}},[e.enterShow?e._e():i("List")],1),e._v(" "),i("Template")],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"video"},[t("video",{attrs:{controls:"",poster:"",src:i("a2aA")}})])}]};var le=i("C7Lr")(ae,oe,!1,function(e){i("+mo2")},null,null).exports,ce={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"myinbox"}},[this._v("\n  工作台\n")])},staticRenderFns:[]};var ue=i("C7Lr")({data:function(){return{}}},ce,!1,function(e){i("ja3z")},null,null).exports,de={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"myinbox"}},[this._v("\n  个人文档\n")])},staticRenderFns:[]};var he=i("C7Lr")({data:function(){return{}}},de,!1,function(e){i("i+oY")},null,null).exports,fe=i("qUIR"),pe={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"project_task"},[i("div",{staticClass:"project_task_top"},[i("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){e.projectChange(e.selectedProject)}},model:{value:e.selectedProject,callback:function(t){e.selectedProject=t},expression:"selectedProject"}},e._l(e.projectList,function(e){return i("el-option",{key:e.projectid,attrs:{label:e.title,value:e.projectid}})}),1),e._v(" "),i("i",{staticClass:"iconfont  icon-star",class:e.starFlag?"project_star":"",on:{click:function(t){e.projectStart(e.starFlag)}}}),e._v(" "),i("i",{staticClass:"iconfont icon-shuxingliebiaoxiangqing",on:{click:function(t){e.itemInformationShow=!0}}}),e._v(" "),i("div",{staticClass:"fr otherButton"},[i("el-tooltip",{staticClass:"item cur_dis",attrs:{effect:"dark","open-delay":300,content:"导入",placement:"top-start"}},[i("span",{staticClass:"icon cur_dis",on:{click:function(t){e.toLead()}}},[i("i",{staticClass:"iconfont icon-19daoru"})])]),e._v(" "),e._e(),e._v(" "),i("el-dropdown",{nativeOn:{click:function(t){t.stopPropagation(),e.parthCommand()}}},[i("el-tooltip",{staticClass:"item cur_dis",attrs:{effect:"dark","open-delay":300,content:"更多",placement:"top-start"}},[i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"iconfont icon-gengduo"})])]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.projectItem.creater.createrId==e.userPkid?i("el-dropdown-item",{nativeOn:{click:function(t){e.parthCommand("editStage")}}},[e._v("编辑阶段")]):i("el-dropdown-item",[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark","open-delay":300,content:"您没有权限",placement:"top-start"}},[i("el-button",[e._v("编辑阶段")])],1)],1),e._v(" "),i("el-dropdown-item",{nativeOn:{click:function(t){e.parthCommand("share")}}},[e._v("分享")])],1)],1)],1),e._v(" "),i("div",{staticClass:"project_search fr"},[i("el-input",{attrs:{placeholder:"请输入搜索的任务标题",clearable:!1,"prefix-icon":"el-icon-search",size:"small"},on:{input:function(t){e.serchPartitionAndTask(e.searchValue)}},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1)],1),e._v(" "),i("div",{staticClass:"project_task_list fl",attrs:{id:"taskList"}},[i("div",{staticClass:"tableBox"},[i("div",{staticClass:"topTable",class:{topTableFixed:e.isFixed}},[i("div",{staticClass:"topBar"},[i("div",{staticClass:"clearfix stageListBox",class:{stageHeader:e.leftFixed}},[i("div",{staticClass:"label partitionTitle"},[e._v("分区")]),e._v(" "),i("div",{staticClass:"label taskTitle"},[e._v("任务/阶段")])]),e._v(" "),i("div",{staticClass:" clearfix stageListBox",class:{stageRight:e.leftFixed}},e._l(e.stageList,function(t,s){return i("div",{key:t.pkid,staticClass:"stageTitleLists",class:{hoverBg:e.mouseTopIndex==s}},[e._v("\n              "+e._s(t.title)+"\n            ")])}),0)])]),e._v(" "),i("div",{staticClass:"mainContent",class:{mainContentFixed:e.isFixed}},[i("p",{directives:[{name:"show",rawName:"v-show",value:e.searchIsShow,expression:"searchIsShow"}],staticClass:"noSearch"},[e._v("暂无符合条件的搜索结果")]),e._v(" "),i("div",{staticClass:"partitionsMain noPartitions",attrs:{"data-partitionid":e.noPartitions.partitionId}},[i("transition",{attrs:{name:"fade"}},[e.noPartitions.autoExpand||0!=e.noPartitions.partitionId?e._e():i("div",{staticClass:"partitionsAndStages"},[i("div",{ref:"partitions",staticClass:"partitionsLabel",class:{partitionsLabelFixed:e.leftFixed},style:"height:"+72*e.noPartitions.taskList.length+"px;"},[i("span",{staticClass:"iconBox"},[i("el-tooltip",{staticClass:"item cur_dis",attrs:{effect:"dark","open-delay":300,content:"默认分区无法移动",placement:"top-start"}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"iconfont  icon-pailie"})])]),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"添加","open-delay":300,placement:"top-start"}},[i("span",{staticClass:"icon",on:{click:function(t){e.addPartition(e.noPartitions,0,"noPartitions")}}},[i("i",{staticClass:"iconfont icon-jia1 cur"})])]),e._v(" "),i("el-tooltip",{staticClass:"item cur_dis",attrs:{effect:"dark","open-delay":300,content:"默认分区无法删除",placement:"top-start"}},[i("span",{staticClass:"icon cur_dis"},[i("i",{staticClass:"iconfont icon-delete cur"})])])],1),e._v(" "),i("i",{staticClass:"iconfont cur unfold",class:e.noPartitions.autoExpand?"icon-packup":"icon-unfold",on:{click:function(t){e.goFlod(e.noPartitions)}}}),e._v(" "),i("div",{staticClass:"stageTittle",attrs:{type:"text"}},[e._v(e._s(e.noPartitions.partitionTitle))])]),e._v(" "),i("draggable",{staticClass:"userlist",attrs:{options:{group:{name:"file",pull:"clone"},dragClass:"drag_userImg"}},on:{choose:e.userListChoose,remove:function(t){e.moveNopartitonTask(e.noPartitions,t)}},model:{value:e.userList,callback:function(t){e.userList=t},expression:"userList"}},[e.noPartitions.isBlank?i("li",{staticClass:"stageBox "},[i("span",{staticClass:"stageLists"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.noPartitions.newStageName,expression:"noPartitions.newStageName"}],staticClass:"stageName",staticStyle:{resize:"none"},domProps:{value:e.noPartitions.newStageName},on:{keydown:e.checkEnter,blur:function(t){e.newStageBlur(e.noPartitions,e.noPartitions.newStageName)},input:function(t){t.target.composing||e.$set(e.noPartitions,"newStageName",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"stageListsBox "},e._l(e.newTask.stageTaskList,function(e,t){return i("div",{key:e.stageId,staticClass:"stage"})}),0)]):e._e()]),e._v(" "),i("draggable",{staticClass:"box",attrs:{options:{group:"file",ghostClass:"ghost_file",dragClass:"drag_file",draggable:".dragging",handle:".moveStageHandel"}},on:{update:function(t){e.datadragEnd2(e.noPartitions,t)},remove:function(t){e.moveNopartitonTask(e.noPartitions,t)}},model:{value:e.noPartitions.taskList,callback:function(t){e.$set(e.noPartitions,"taskList",t)},expression:"noPartitions.taskList"}},[i("transition-group",{staticClass:"taskLists",attrs:{"data-partitionid":e.noPartitions.partitionId}},e._l(e.noPartitions.taskList,function(t,s){return t.taskId?i("li",{key:t.taskId,staticClass:"stageBox",class:{stageBoxFixed:e.leftFixed,dragging:""!==t.taskId},attrs:{"data-taskid":t.taskId},on:{mouseenter:function(i){e.mouseEnter(t,s)}}},[i("span",{staticClass:"stageLists cur",class:{leftTaskFixed:e.leftFixed,hoverBg:e.mouseLeftIndex==t.taskId}},[i("span",{staticClass:"iconBox_"},[i("el-tooltip",{staticClass:"item moveHandel",attrs:{effect:"dark",content:"移动","open-delay":300,placement:"top-start"}},[i("span",{staticClass:"icon moveStageHandel cur"},[i("i",{staticClass:"iconfont icon-pailie"})])]),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"添加","open-delay":300,placement:"top-start"}},[i("span",{staticClass:"icon",on:{click:function(t){t.stopPropagation(),e.addStage(e.noPartitions.taskList,s,"noPartitions",e.noPartitions,e.noPartitions)}}},[i("i",{staticClass:"iconfont icon-jia1 cur"})])]),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark","open-delay":300,content:"删除",placement:"top-start"}},[i("span",{staticClass:"icon",on:{click:function(i){e.delStage(t,e.noPartitions,s,"noPartitions")}}},[i("i",{staticClass:"iconfont icon-delete cur"})])])],1),e._v(" "),i("span",{staticClass:"stageName",attrs:{contenteditable:"true"},domProps:{innerHTML:e._s(t.taskTitle)},on:{keydown:e.checkEnter,blur:function(i){e.stageNameBlur(t.taskTitle,t,e.noPartitions,s,0)},focus:function(i){e.stageFocus(t.taskTitle,t,e.noPartitions,s)}}})]),e._v(" "),i("div",{staticClass:"stageListsBox",class:{stageListsBoxFixed:e.leftFixed}},e._l(t.stageTaskList,function(s,n){return i("div",{key:n,staticClass:"stage cur",on:{mouseenter:function(i){e.mouseTopEnter(t,n,s)}}},[s.isPartIn?i("div",{staticClass:"stageBg"}):e._e(),e._v(" "),1==s.stageTaskState?i("div",{staticClass:"finishPage"},[i("i",{staticClass:"iconfont icon-wancheng"}),e._v("完成")]):e._e(),e._v(" "),s.enabled&&1==s.enabled&&!0!==s.stageTaskState||""===s.enabled?i("div",{staticClass:"stageInfo cur"},[i("div",{staticClass:"participantImg"},[i("draggable",{class:{red:!s.isRepeat},attrs:{list:s.userList,options:{group:s.isRepeat?"":"article",disabled:!1}}},[e._l(s.userList,function(t,s){return s<5?i("span",{key:s,staticClass:"img"},[i("img",{attrs:{src:t.userPic,alt:""}}),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.IsState,expression:"i.IsState"}],staticClass:"isFinish"},[i("i",{staticClass:"iconfont icon-xuanzhong"})])]):e._e()}),e._v(" "),s.userList&&s.userList.length>5?i("span",{staticClass:"numsInfo"},[e._v("+"+e._s(s.userList.length-5)+"人")]):e._e()],2)],1),e._v(" "),i("div",{staticClass:"participantMain"},[i("span",{class:{fontRed:0==s.taskTime}},[0==s.taskTime?i("span",{staticClass:"pieChart"}):e._e(),e._v(" "),s.taskTime?i("svg",{attrs:{viewBox:"0 0 32 32"}},[i("circle",{style:{"stroke-dasharray":s.ratio+" 100"},attrs:{r:"16",cx:"16",cy:"16"}})]):e._e(),e._v(" "),e._l(s.startTimeArr,function(t,s){return i("span",{key:1+s},[!t.year==e.nowYear?i("span",[e._v(e._s(t.year)+"/")]):e._e(),e._v(" "),i("span",[e._v(" "+e._s(t.month)+"/"+e._s(t.day)+" "+e._s(t.hour)+":"+e._s(t.minute)+" -")])])}),e._v(" "),e._l(s.endTimeArr,function(t,s){return i("span",{key:2+s},[!t.year==e.nowYear?i("span",[e._v(e._s(t.year)+"/")]):e._e(),e._v(" "),i("span",[e._v(" "+e._s(t.month)+"/ "+e._s(t.day)+" "+e._s(t.hour)+":"+e._s(t.minute))])])})],2),e._v(" "),0!=s.fileCont||""!=s.fileCont?i("i",{staticClass:"iconfont icon-wenjian1"},[e._v(" "+e._s(s.fileCont))]):e._e()])]):e._e(),e._v(" "),!1===s.enabled?i("div",{staticClass:"closePage"},[i("span",{staticClass:"closeLine"})]):e._e(),e._v(" "),0==s.stageTaskState&&!0===s.enabled||""===s.enabled?i("div",{staticClass:"stageHover",class:{stageHoverShow:s.stageHoverIsShow}},[s.isPartIn?e._e():i("el-tooltip",{staticClass:"item",attrs:{effect:"dark","open-delay":300,content:"参与任务",placement:"top-start"},nativeOn:{click:function(i){e.partIn(t,s)}}},[i("el-button",[i("span",{staticClass:"iconBg"},[i("i",{staticClass:"iconfont iconfontno icon-jiaru-1"})])])],1),e._v(" "),s.isPartIn?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"取消参与","open-delay":300,placement:"top-start"},nativeOn:{click:function(i){e.cancelPartIn(t,s)}}},[i("el-button",[i("span",{staticClass:"iconBg"},[i("i",{staticClass:"iconfont iconfontno icon-tuichu-"})])])],1):e._e(),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"进入详情","open-delay":300,placement:"top-start"},nativeOn:{click:function(i){e.enterDetail(t,s)}}},[i("el-button",{staticClass:"timeShow"},[i("span",{staticClass:"iconBg"},[i("i",{staticClass:"iconfont iconfontno icon-xiangqing"})])])],1),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"添加时间","open-delay":300,placement:"top-start"},nativeOn:{click:function(t){t.stopPropagation(),e.haha(s)}}},[i("el-button",[i("div",{staticClass:"calendar"},[i("el-date-picker",{attrs:{"prefix-icon":"iconfont icon-rili1",type:"datetimerange",clearable:!1,"popper-class":"stage_time","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(i){e.checkTime(t,s,e.value6)}},model:{value:e.value6,callback:function(t){e.value6=t},expression:"value6"}})],1)])],1),e._v(" "),i("el-tooltip",{staticClass:"item ml-5",attrs:{effect:"dark",content:"添加成员","open-delay":300,placement:"top-start"},nativeOn:{click:function(i){e.addPeople(i,t,s,n,e.noPartitions)}}},[i("el-button",{staticClass:"timeShow"},[i("i",{staticClass:"iconfont icon-tianjiarenyuan otherColor hover"})])],1),e._v(" "),i("el-tooltip",{staticClass:"item ml-5",attrs:{effect:"dark",content:s.isPartIn?"上传文件":"需要先参与任务","open-delay":300,placement:"top-start"}},[i("el-button",[s.isPartIn?i("i",{staticClass:"iconfont icon-shangchuan otherColor",on:{click:function(i){i.stopPropagation(),e.fileUpload(i,t,s,e.noPartitions,"noPartitions")}}}):i("i",{staticClass:"iconfont icon-shangchuan otherColor cur_dis"})])],1),e._v(" "),s.userList.length?i("el-tooltip",{staticClass:"item ml-5",attrs:{effect:"dark","open-delay":300,content:"已有内容无法关闭",placement:"top-start"}},[i("el-button",[i("i",{staticClass:"iconfont icon-jinzhi otherColor ",class:{cur_dis:s.userList.length}})])],1):i("el-tooltip",{staticClass:"item ml-5",attrs:{effect:"dark","open-delay":300,content:"关闭阶段",placement:"top-start"},nativeOn:{click:function(i){e.closeStage(t,s)}}},[i("el-button",[i("i",{staticClass:"iconfont icon-jinzhi otherColor ",class:{cur_dis:s.userList.length}})])],1)],1):e._e(),e._v(" "),!0===s.stageTaskState&&!0===s.enabled?i("div",{staticClass:"finishHover"},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"进入详情","open-delay":300,placement:"top-start"},nativeOn:{click:function(i){e.enterDetail(t,s)}}},[i("el-button",{staticClass:"timeShow"},[i("span",{staticClass:"iconBg"},[i("i",{staticClass:"iconfont iconfontno icon-xiangqing"})])])],1)],1):e._e(),e._v(" "),!1===s.enabled?i("div",{staticClass:"closeHover"},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark","open-delay":300,content:"开启阶段",placement:"top-start"},nativeOn:{click:function(i){e.openStage(t,s)}}},[i("el-button",[i("i",{staticClass:"iconfont icon-kaishi otherColor "})])],1)],1):e._e()])}),0)]):e._e()}),0)],1)],1)]),e._v(" "),e.noPartitions.autoExpand&&0==e.noPartitions.partitionId?i("div",{staticClass:"thumbnailList"},[i("div",{staticClass:"iconBox_"},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark","open-delay":300,content:0==e.noPartitions.partitionId?"默认分区无法移动":"移动",placement:"top-start"}},[i("span",{staticClass:"icon moveHandel",class:{cur_dis:0==e.noPartitions.partitionId}},[i("i",{staticClass:"iconfont icon-pailie",class:{cur_dis:0==e.noPartitions.partitionId,cur:0!==e.noPartitions.partitionId}})])]),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark","open-delay":300,content:"添加",placement:"top-start"}},[i("span",{staticClass:"icon",on:{click:function(t){t.stopPropagation(),e.addPartition(e.noPartitions,0,"noPartitions")}}},[i("i",{staticClass:"iconfont icon-jia1 cur"})])]),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark","open-delay":300,content:0==e.noPartitions.partitionId?"默认分区无法删除":"删除",placement:"top-start"}},[i("span",{staticClass:"icon",class:{cur_dis:0==e.noPartitions.partitionId},on:{click:function(t){t.stopPropagation(),e.openDelPartition(e.noPartitions,e.index)}}},[i("i",{staticClass:"iconfont icon-delete cur",class:{cur_dis:0==e.noPartitions.partitionId,cur:0!==e.noPartitions.partitionId}})])])],1),e._v(" "),i("li",{},[i("transition",{attrs:{name:"flodRotate"}},[i("i",{staticClass:"iconfont",class:e.noPartitions.autoExpand?"icon-enter":"icon-unfold",on:{click:function(t){t.stopPropagation(),e.goFlod(e.noPartitions)}}})]),e._v(" "),i("span",[e._v("\n                "+e._s(e.noPartitions.partitionTitle)+"\n              ")])],1)]):e._e()],1),e._v(" "),i("draggable",{attrs:{move:e.getdata,options:{ghostClass:"ghost_file",dragClass:"drag_file",handle:".moveHandel"}},on:{update:e.datadragEnd,start:e.starDrag},model:{value:e.partitionsList,callback:function(t){e.partitionsList=t},expression:"partitionsList"}},[i("transition-group",{staticClass:"hhah"},e._l(e.partitionsList,function(t,s){return 0!==t.partitionId?i("div",{key:t.partitionId,staticClass:"partitionsMain",attrs:{"data-partitionid":t.partitionId}},[i("transition",{attrs:{name:"fade"}},[t.autoExpand||0===t.partitionId?e._e():i("div",{staticClass:"partitionsAndStages"},[i("div",{ref:"partitions",refInFor:!0,staticClass:"partitionsLabel",class:{partitionsLabelFixed:e.leftFixed},style:"height:"+72*t.taskList.length+"px;"},[i("span",{staticClass:"iconBox"},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"移动","open-delay":300,placement:"top-start"}},[i("span",{staticClass:"icon moveHandel"},[i("i",{staticClass:"iconfont icon-pailie cur"})])]),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark","open-delay":300,content:"添加",placement:"top-start"}},[i("span",{staticClass:"icon",on:{click:function(i){i.stopPropagation(),e.addPartition(t,s,"addPartition")}}},[i("i",{staticClass:"iconfont icon-jia1 cur"})])]),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark","open-delay":300,content:t.partitionUserId==e.userPkid?"删除":"删除(您没有权限)",placement:"top-start"}},[t.partitionUserId==e.userPkid?i("span",{staticClass:"icon",on:{click:function(i){i.stopPropagation(),e.openDelPartition(t,s)}}},[i("i",{staticClass:"iconfont icon-delete cur"})]):i("span",{staticClass:"icon"},[i("i",{staticClass:"iconfont icon-delete cur",class:{cur_dis:t.partitionUserId!==e.userPkid}})])])],1),e._v(" "),i("i",{staticClass:"iconfont cur unfold",class:t.autoExpand?"icon-enter":"icon-unfold",on:{click:function(i){e.goFlod(t)}}}),e._v(" "),i("div",{staticClass:"stageTittle",attrs:{type:"text",contenteditable:"true"},domProps:{innerHTML:e._s(t.partitionTitle)},on:{keydown:e.checkEnter,blur:function(i){e.partitionBlur(t,s,t.partitionTitle)},focus:function(i){e.partitionFocus(t.partitionTitle,t,s)}}},[e._v(e._s(t.partitionTitle))])]),e._v(" "),t.isBlank?i("span",{staticClass:"stageBox dragging"},[i("span",{staticClass:"stageLists"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newStageName,expression:"element.newStageName"}],staticClass:"stageName",staticStyle:{resize:"none"},domProps:{value:t.newStageName},on:{keydown:e.checkEnter,blur:function(i){e.newStageBlur(t,t.newStageName)},input:function(i){i.target.composing||e.$set(t,"newStageName",i.target.value)}}})]),e._v(" "),i("div",{staticClass:"stageListsBox "},e._l(e.newTask.stageTaskList,function(e,t){return i("div",{key:e.stageId,staticClass:"stage"})}),0)]):e._e(),e._v(" "),i("draggable",{staticClass:"box",attrs:{options:{group:"file",ghostClass:"ghost_file",dragClass:"drag_file",draggable:".dragging",handle:".moveStageHandel"}},on:{remove:function(i){e.moveNopartitonTask(t,i)},update:function(i){e.datadragEnd2(t,i)}},model:{value:t.taskList,callback:function(i){e.$set(t,"taskList",i)},expression:"element.taskList"}},[i("transition-group",{staticClass:"taskListsTwo",attrs:{"data-partitionId":t.partitionId}},e._l(t.taskList,function(n,r){return n.taskId?i("li",{key:n.taskId,staticClass:"stageBox",class:{stageBoxFixed:e.leftFixed,dragging:""!==n.taskId},attrs:{"data-taskid":n.taskId},on:{mouseenter:function(t){e.mouseEnter(n,r)}}},[i("span",{staticClass:"stageLists cur",class:{leftTaskFixed:e.leftFixed,hoverBg:e.mouseLeftIndex==n.taskId}},[i("span",{staticClass:"iconBox_"},[i("el-tooltip",{staticClass:"item moveHandel",attrs:{effect:"dark",content:"移动","open-delay":300,placement:"top-start"}},[i("span",{staticClass:"icon moveStageHandel cur"},[i("i",{staticClass:"iconfont icon-pailie"})])]),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"添加","open-delay":300,placement:"top-start"}},[i("span",{staticClass:"icon",on:{click:function(i){e.addStage(t.taskList,r,s,"Partitions",t)}}},[i("i",{staticClass:"iconfont icon-jia1 cur"})])]),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除","open-delay":300,placement:"top-start"}},[i("span",{staticClass:"icon",on:{click:function(i){e.delStage(n,t,r,"Partitions")}}},[i("i",{staticClass:"iconfont icon-delete cur"})])])],1),e._v(" "),i("span",{staticClass:"stageName",attrs:{contenteditable:"true"},domProps:{innerHTML:e._s(n.taskTitle)},on:{keydown:e.checkEnter,blur:function(i){e.stageNameBlur(n.taskTitle,n,t,r,s)},focus:function(i){e.stageFocus(n.taskTitle,n,t,r)}}})]),e._v(" "),i("div",{staticClass:"stageListsBox",class:{stageListsBoxFixed:e.leftFixed}},e._l(n.stageTaskList,function(s,r){return i("div",{key:r,staticClass:"stage cur",on:{mouseenter:function(t){e.mouseTopEnter(n,r)}}},[s.isPartIn?i("div",{staticClass:"stageBg"}):e._e(),e._v(" "),1==s.stageTaskState?i("div",{staticClass:"finishPage"},[i("i",{staticClass:"iconfont icon-wancheng"}),e._v("完成")]):e._e(),e._v(" "),s.enabled&&1==s.enabled&&!0!==s.stageTaskState||""===s.enabled?i("div",{staticClass:"stageInfo cur"},[i("div",{staticClass:"participantImg"},[i("draggable",{attrs:{list:s.userList,options:{group:{article:s.isRepeat},disabled:!1}}},e._l(s.userList,function(t,n){return n<5?i("span",{key:n,staticClass:"img"},[i("img",{attrs:{src:t.userPic,alt:""}}),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.IsState,expression:"i.IsState"}],staticClass:"isFinish"},[i("i",{staticClass:"iconfont icon-xuanzhong"})]),e._v(" "),s.userList.length>5?i("span",{staticClass:"numsInfo"},[e._v("+"+e._s(s.userList.length-5)+"人")]):e._e()]):e._e()}),0)],1),e._v(" "),i("div",{staticClass:"participantMain"},[i("span",{class:{fontRed:1==s.taskTime}},[0==s.taskTime?i("span",{staticClass:"notStarted"}):e._e(),e._v(" "),1==s.taskTime?i("span",{staticClass:"pieChart"}):e._e(),e._v(" "),2==s.taskTime?i("svg",{attrs:{viewBox:"0 0 32 32"}},[i("circle",{style:{"stroke-dasharray":s.ratio+" 100"},attrs:{r:"16",cx:"16",cy:"16"}})]):e._e(),e._v(" "),e._l(s.startTimeArr,function(t,s){return i("span",{key:1+s},[!t.year==e.nowYear?i("span",[e._v(e._s(t.year)+"/")]):e._e(),e._v(" "),i("span",[e._v(" "+e._s(t.month)+"/"+e._s(t.day)+" "+e._s(t.hour)+":"+e._s(t.minute)+" -")])])}),e._v(" "),e._l(s.endTimeArr,function(t,s){return i("span",{key:2+s},[!t.year==e.nowYear?i("span",[e._v(e._s(t.year)+"/")]):e._e(),e._v(" "),i("span",[e._v(" "+e._s(t.month)+"/ "+e._s(t.day)+" "+e._s(t.hour)+":"+e._s(t.minute))])])})],2),e._v(" "),0!=s.fileCont||""!=s.fileCont?i("i",{staticClass:"iconfont icon-wenjian1"},[e._v(" "+e._s(s.fileCont))]):e._e()])]):e._e(),e._v(" "),!1===s.enabled?i("div",{staticClass:"closePage"},[i("span",{staticClass:"closeLine"})]):e._e(),e._v(" "),0==s.stageTaskState&&!0===s.enabled||""===s.enabled?i("div",{staticClass:"stageHover",class:{stageHoverShow:s.stageHoverIsShow}},[s.isPartIn?e._e():i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"参与任务","open-delay":300,placement:"top-start"},nativeOn:{click:function(t){e.partIn(n,s)}}},[i("el-button",[i("span",{staticClass:"iconBg"},[i("i",{staticClass:"iconfont icon-jiaru-1 iconfontno"})])])],1),e._v(" "),s.isPartIn?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"取消参与","open-delay":300,placement:"top-start"},nativeOn:{click:function(t){e.cancelPartIn(n,s)}}},[i("el-button",[i("span",{staticClass:"iconBg"},[i("i",{staticClass:"iconfont icon-tuichu- iconfontno"})])])],1):e._e(),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"进入详情","open-delay":300,placement:"top-start"},nativeOn:{click:function(t){e.enterDetail(n,s)}}},[i("el-button",{staticClass:"timeShow"},[i("span",{staticClass:"iconBg"},[i("i",{staticClass:"iconfont iconfontno icon-xiangqing "})])])],1),e._v(" "),i("el-tooltip",{staticClass:"item ml-5",attrs:{effect:"dark",content:"添加成员","open-delay":300,placement:"top-start"},nativeOn:{click:function(i){e.addPeople(i,n,s,r,t)}}},[i("el-button",{staticClass:"timeShow"},[i("i",{staticClass:"iconfont icon-tianjiarenyuan otherColor hover"})])],1),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"添加时间","open-delay":300,placement:"top-start"},nativeOn:{click:function(t){t.stopPropagation(),e.haha(s)}}},[i("el-button",[i("div",{staticClass:"calendar"},[i("el-date-picker",{attrs:{"prefix-icon":"iconfont icon-rili1",type:"datetimerange",clearable:!1,"popper-class":"stage_time","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(t){e.checkTime(n,s,e.value6)}},model:{value:e.value6,callback:function(t){e.value6=t},expression:"value6"}})],1)])],1),e._v(" "),i("el-tooltip",{staticClass:"item ml-5",attrs:{effect:"dark",content:s.isPartIn?"上传文件":"需要先参与任务","open-delay":300,placement:"top-start"}},[i("el-button",[s.isPartIn?i("i",{staticClass:"iconfont icon-shangchuan otherColor",on:{click:function(i){i.stopPropagation(),e.fileUpload(i,n,s,t,"partitions")}}}):i("i",{staticClass:"iconfont icon-shangchuan otherColor cur_dis"})])],1),e._v(" "),s.userList.length?i("el-tooltip",{staticClass:"item ml-5",attrs:{effect:"dark",content:"已有内容无法关闭","open-delay":300,placement:"top-start"}},[i("el-button",[i("i",{staticClass:"iconfont icon-jinzhi otherColor ",class:{cur_dis:s.userList.length}})])],1):i("el-tooltip",{staticClass:"item ml-5",attrs:{effect:"dark",content:"关闭阶段","open-delay":300,placement:"top-start"},nativeOn:{click:function(t){e.closeStage(n,s)}}},[i("el-button",[i("i",{staticClass:"iconfont icon-jinzhi otherColor ",class:{cur_dis:s.userList.length}})])],1)],1):e._e(),e._v(" "),!0===s.stageTaskState&&!0===s.enabled?i("div",{staticClass:"finishHover"},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"进入详情","open-delay":300,placement:"top-start"},nativeOn:{click:function(t){e.enterDetail(n,s)}}},[i("el-button",{staticClass:"timeShow"},[i("span",{staticClass:"iconBg"},[i("i",{staticClass:"iconfont iconfontno icon-xiangqing"})])])],1)],1):e._e(),e._v(" "),!1===s.enabled?i("div",{staticClass:"closeHover"},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"开启阶段","open-delay":300,placement:"top-start"},nativeOn:{click:function(t){e.openStage(n,s)}}},[i("el-button",[i("i",{staticClass:"iconfont icon-kaishi otherColor "})])],1)],1):e._e()])}),0)]):e._e()}),0)],1)],1)]),e._v(" "),t.autoExpand&&0!==t.partitionId?i("div",{staticClass:"thumbnailList"},[i("div",{staticClass:"iconBox_"},[i("el-tooltip",{staticClass:"item ",attrs:{effect:"dark","open-delay":300,content:0==t.partitionId?"默认分区无法移动":"移动",placement:"top-start"}},[i("span",{staticClass:"icon moveHandel",class:{cur_dis:0==t.partitionId}},[i("i",{staticClass:"iconfont icon-pailie",class:{cur_dis:0==t.partitionId,cur:0!==t.partitionId}})])]),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"添加","open-delay":300,placement:"top-start"}},[i("span",{staticClass:"icon",on:{click:function(i){i.stopPropagation(),e.addPartition(t,s,"addPartition")}}},[i("i",{staticClass:"iconfont icon-jia1 cur"})])]),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark","open-delay":300,content:0==t.partitionId?"默认分区无法删除":"删除",placement:"top-start"}},[i("span",{staticClass:"icon",class:{cur_dis:0==t.partitionId},on:{click:function(i){e.openDelPartition(t,e.index)}}},[i("i",{staticClass:"iconfont icon-delete cur",class:{cur_dis:0==t.partitionId,cur:0!==t.partitionId}})])])],1),e._v(" "),i("li",{},[i("transition",{attrs:{name:"flodRotate"}},[i("i",{staticClass:"iconfont",class:t.autoExpand?"icon-enter":"icon-unfold",on:{click:function(i){e.goFlod(t)}}})]),e._v(" "),i("span",{domProps:{innerHTML:e._s(t.partitionTitle)}})],1)]):e._e()],1):e._e()}),0)],1)],1)])]),e._v(" "),i("transition",{attrs:{name:"fade1"}},[e.itemInformationShow?i("Info",{attrs:{num:"itemInformation",projectId:e.projectId,classify:e.classify},on:{closePop:e.closeInfo}}):e._e()],1),e._v(" "),e.fileUploadShow?i("div",{staticClass:"drop-down-more",style:{top:e.fillPageY+15+"px",left:e.fillPageX-80+"px"}},[i("el-upload",{ref:"fileUpload",staticClass:"upload_file ",attrs:{action:"/ProjectFile.ashx?&myUserId="+e.userPkid+"&projectId="+e.taskId+"&stageTaskId="+e.stageTaskId+"&filePartitionId=0","show-file-list":!1,multiple:!0,"on-error":e.uploadError,"on-success":e.uploadSuccess,"on-progress":e.uploadProgress,limit:9,"on-exceed":e.handleExceed,"before-upload":e.beforeUpload}},[i("span",{staticClass:"cur",on:{click:function(t){e.handleClickUpload()}}},[e._v(" 本地上传")])])],1):e._e(),e._v(" "),e.addPopShow?i("Participant",{ref:"addPeople",style:{top:e.addPopShowPageY+10+"px",left:e.addPopShowPageX+10+"px"},attrs:{id:"addPeople",creatorId:e.userPkid,defaultKeys:e.defaultKeys,userList:e.userList},on:{handleSure:e.addPeopleSure,handleInvite:e.invitePeople}}):e._e(),e._v(" "),i("transition",{attrs:{name:"fade1"}},[e.reminder2Flag?i("Reminder2",{attrs:{type:1,text:e.errMessage,sureText:e.buttonMes},on:{handleCancle:e.reminderCancel,handleSure:e.reminderSure}}):e._e()],1),e._v(" "),i("transition",{attrs:{name:"fade1"}},[e.popShow?i("ShadePop",{attrs:{projectId:e.projectId,userPkid:e.userPkid},on:{closePop:e.closePop}}):e._e(),e._v(" "),e.toLeadShow?i("ToLead",{on:{closePop:e.closePop}}):e._e()],1),e._v(" "),i("transition",{attrs:{name:"fade1"}},[e.inviteShow?i("add-people",{attrs:{fromInfo:e.fromInfo,defaultTreeKeys:e.inviteDefaultKeys},on:{handleCancel:e.cancelAddPeople}}):e._e()],1),e._v(" "),i("transition",{attrs:{name:"fade1"}},[e.delFileFlag?i("Reminder2",{attrs:{type:1,text:e.reminderText},on:{handleCancle:e.delFileCancel,handleSure:e.delFileSure}}):e._e()],1),e._v(" "),e.uploadProgressFlag?i("upload-progress",{attrs:{fileProgressList:e.fileProgressList},on:{closeProgress:e.closeProgress,handleCancel:e.cancelUpload,handleRe:e.reUpload}}):e._e()],1)},staticRenderFns:[]};var ve=function(e){i("ug58")},me=i("C7Lr")(fe.a,pe,!1,ve,null,null).exports,ge=i("xXXu"),_e={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"task_detail_yun"},[s("div",{staticClass:"detail_top"},[s("div",{staticClass:"project_name",on:{click:e.returnProject}},[e._v(e._s(e.projectItem.title))]),e._v(" "),s("div",{staticClass:"stage_list"},[s("el-tabs",{on:{"tab-click":function(t){e.taskStageDetail(e.taskId,e.stageId)}},model:{value:e.stageId,callback:function(t){e.stageId=t},expression:"stageId"}},e._l(e.stageList,function(t){return s("el-tab-pane",{key:t.stageId,attrs:{label:t.stageTitle,name:t.stageId}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("el-tooltip",{attrs:{effect:"dark",content:t.state>0&&t.state<=6?e.stateTooltip[1*t.state-1]:"状态错误",placement:"top","open-delay":300}},[s("span",{staticClass:"round"},[1===t.state?s("img",{attrs:{src:i("WEj9"),alt:""}}):2===t.state?s("img",{attrs:{src:i("o3Go"),alt:""}}):3===t.state?s("img",{attrs:{src:i("NYr1"),alt:""}}):4===t.state?s("img",{attrs:{src:i("eeMx"),alt:""}}):5===t.state?s("img",{attrs:{src:i("RJ7b"),alt:""}}):6===t.state?s("img",{attrs:{src:i("ZPJN"),alt:""}}):e._e()])]),e._v("\n                "+e._s(t.stageTitle)+"\n              ")],1)])}),1),e._v(" "),s("div",{staticClass:"stage_all",class:e.fullPreviewShow?"select_stage_all":""},[s("span",{staticClass:"line"}),e._v(" "),s("span",{on:{click:e.fullPreview}},[e._v("整体预览")])])],1),e._v(" "),s("i",{staticClass:"iconfont icon-guanbijiantou",on:{click:e.returnProject}})]),e._v(" "),s("div",{staticClass:"detail_left"},e._l(e.tasksList,function(t,i){return s("div",{key:t.partitionId,staticClass:"task_group"},[s("div",{staticClass:"group_title",on:{click:function(t){e.extendToggle(i)}}},[s("i",{staticClass:"iconfont icon-unfold",class:t.extend?"":"icon_rotate"}),e._v(" "),s("span",[e._v(e._s(t.partitionTitle))])]),e._v(" "),s("transition-group",[s("div",{key:t.partitionId,staticClass:"list_box"},e._l(t.taskList,function(t){return s("div",{key:t.taskId,staticClass:"group_list"},[s("p",{class:t.taskId==e.taskId?"select_task every":"every",attrs:{id:t.taskId==e.taskId?"selectTask":""},on:{click:function(i){e.taskStageDetail(t.taskId,e.stageId)}}},[e._v(e._s(t.taskTitle))])])}),0)])],1)}),0),e._v(" "),s("div",{staticClass:"detail_main"},[e.fullPreviewShow?s("div",{staticClass:"top_operate full_view"},[s("div",{staticClass:"t_o_left fl"},[s("span",[e._v(e._s(e.stageInfo.title))])]),e._v(" "),s("div",{staticClass:"t_o_right fr"},[s("span",{staticClass:"add_human",on:{click:function(t){return t.stopPropagation(),e.addHumanHandle(t)}}},[s("el-tooltip",{attrs:{effect:"dark",content:"添加成员",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-haoyou1"})]),e._v(" "),s("transition",{attrs:{name:"fade1"}},[e.addHumanShow?s("add-human",{attrs:{fullViewFlag:!0,defaultList:e.stageList,ids:e.idList},on:{stageInfoChange:e.stageInfoChange}}):e._e()],1)],1),e._v(" "),s("span",{staticClass:"add_time",on:{click:function(t){return t.stopPropagation(),e.addTimeHandle(t)}}},[s("el-tooltip",{attrs:{effect:"dark",content:"添加时间",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-rili1"})]),e._v(" "),s("transition",{attrs:{name:"fade1"}},[e.addTimeShow?s("add-time",{attrs:{fullViewFlag:!0,defaultList:e.stageList,ids:e.idList},on:{stageInfoChange:e.stageInfoChange}}):e._e()],1)],1)])]):s("div",{staticClass:"top_operate"},[s("div",{staticClass:"t_o_left fl"},[e.demandCount?s("span",{class:e.demandOrGain?"":"demand_gain",on:{click:function(t){e.demandOrGainChange(!1)}}},[e._v("相关需求")]):s("el-tooltip",{attrs:{effect:"dark",content:"暂无相关需求",placement:"top","open-delay":300}},[s("span",{staticClass:"cur_dis"},[e._v("相关需求")])]),e._v(" "),s("span",{staticClass:"line"}),e._v(" "),s("span",{class:e.demandOrGain?"demand_gain":"",on:{click:function(t){e.demandOrGainChange(!0)}}},[e._v("成果文件")])],1),e._v(" "),s("div",{staticClass:"t_o_right fr"},[e.stageInfo?s("state-manage",{ref:"stageManage",attrs:{info:e.stageInfos,ids:e.idList}}):e._e(),e._v(" "),s("span",{staticClass:"line"}),e._v(" "),s("span",{staticClass:"add_human",on:{click:function(t){return t.stopPropagation(),e.addHumanHandle(t)}}},[s("el-tooltip",{attrs:{effect:"dark",content:"添加成员",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-haoyou1"})]),e._v(" "),s("transition",{attrs:{name:"fade1"}},[e.addHumanShow?s("add-human",{attrs:{defaultList:e.stageList,ids:e.idList},on:{stageInfoChange:e.stageInfoChange}}):e._e()],1)],1),e._v(" "),s("span",{staticClass:"add_time",on:{click:function(t){return t.stopPropagation(),e.addTimeHandle(t)}}},[s("el-tooltip",{attrs:{effect:"dark",content:"添加时间",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-rili1"})]),e._v(" "),s("transition",{attrs:{name:"fade1"}},[e.addTimeShow?s("add-time",{attrs:{defaultList:e.stageList,ids:e.idList},on:{stageInfoChange:e.stageInfoChange}}):e._e()],1)],1),e._v(" "),s("span",{staticClass:"line"}),e._v(" "),s("span",{staticClass:"self_file",on:{click:e.personalFilesPull}},[s("i",{staticClass:"iconfont icon-gerenwenjianjia"}),e._v("\n            个人文档\n          ")])],1)]),e._v(" "),6===e.stageState?[e._m(0)]:[s("div",{staticClass:"detail_file"},[e.demandOrGain?s("div",{staticClass:"operate_file",attrs:{id:"operateFile"}},[s("div",{staticClass:"top_box"},[s("div",{staticClass:"left fl"},[e._e(),e._v(" "),e.power?s("el-upload",{ref:1===e.uploadFrom?"fileUpload":"",staticClass:"upload_file",attrs:{action:"/ProjectFile.ashx?myUserId="+e.userId+"&projectId="+e.projectId+"&stageTaskId="+e.stageTaskId+"&filePartitionId="+e.filePartitionId,"show-file-list":!1,multiple:!0,"on-error":e.uploadError,"on-success":e.uploadSuccess,"on-progress":e.uploadProgress,limit:99,"on-exceed":e.handleExceed,"before-upload":e.beforeUpload}},[s("el-tooltip",{attrs:{effect:"dark",content:"上传",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-shangchuan",on:{click:function(t){e.handleClickUpload(0)}}})])],1):e._e(),e._v(" "),e.power?s("el-tooltip",{attrs:{effect:"dark",content:"添加文字",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-tianjiawenzi",on:{click:function(t){t.stopPropagation(),e.inputTextShowToggle("left")}}})]):e._e(),e._v(" "),e.power?s("span",{staticClass:"line"}):e._e(),e._v(" "),e.checkedFileList&&e.checkedFileList.length?s("el-checkbox",{staticClass:"all_checked",nativeOn:{click:function(t){return e.fileCheckboxAll(t)}},model:{value:e.fileCheckbox,callback:function(t){e.fileCheckbox=t},expression:"fileCheckbox"}},[e._v("\n                    已选"),s("span",{staticClass:"mainColor"},[e._v(e._s(e.checkedFileList&&e.checkedFileList.length))]),e._v("项\n                  ")]):s("el-checkbox",{staticClass:"all_checked",nativeOn:{click:function(t){return e.fileCheckboxAll(t)}},model:{value:e.fileCheckbox,callback:function(t){e.fileCheckbox=t},expression:"fileCheckbox"}},[e._v("全选")]),e._v(" "),e.checkedFileList&&e.checkedFileList.length?[s("el-tooltip",{attrs:{effect:"dark",content:"下载",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-xiazai",on:{click:e.multipleDownload}})]),e._v(" "),s("el-tooltip",{attrs:{effect:"dark",content:"收藏",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-shoucang1",on:{click:e.multipleCollect}})]),e._v(" "),e.power&&1===e.stageList.length?[s("el-tooltip",{attrs:{effect:"dark",content:"没有可移交的阶段",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-jihuayijiao cur_dis"})])]:e.power&&e.stageList.length>1&&!e.isOwnChecked?[s("el-tooltip",{attrs:{effect:"dark",content:"您只能移交自己的文件",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-jihuayijiao cur_dis"})])]:e.power&&e.stageList.length>1?[s("el-tooltip",{attrs:{effect:"dark",content:"移交",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-jihuayijiao",on:{click:e.multipleTransfer}})])]:e._e()]:e._e()],2),e._v(" "),s("div",{staticClass:"right fr"},[s("span",{},[e.power?s("el-dropdown",{staticClass:"fixed file_more"},[s("span",{staticClass:"el-dropdown-link"},[s("i",{staticClass:"iconfont icon-fenzu1"}),e._v("分组管理")]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{nativeOn:{click:function(t){e.groupCommand("create")}}},[e._v("新建分组")]),e._v(" "),s("el-dropdown-item",{nativeOn:{click:function(t){e.groupCommand("sort")}}},[e._v("分组排序")])],1)],1):e._e()],1),e._v(" "),s("span",{staticClass:"toggle",on:{click:e.viewToggles}},[s("i",{class:e.viewToggle?"iconfont icon-liebiao":"iconfont icon-fenzu"}),e._v("\n                    视图切换\n                  ")])]),e._v(" "),e.inputTextShow1?s("div",{staticClass:"input_text",on:{click:function(e){e.stopPropagation()}}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.inputText,expression:"inputText"}],staticClass:"textarea",attrs:{id:"inputText",rows:"4",placeholder:"请输入文字内容"},domProps:{value:e.inputText},on:{focus:e.inputTextFocus,blur:e.inputTextBlur,input:function(t){t.target.composing||(e.inputText=t.target.value)}}}),e._v(" "),e.addTextIng||!e.inputText?s("div",{staticClass:"main_button_disabled_bg fr"},[e._v("添加")]):s("button",{staticClass:"main_button_bg fr",on:{click:function(t){e.inputTextSure("left")}}},[e._v("添加")]),e._v(" "),s("button",{staticClass:"main_button fr",on:{click:function(t){e.inputTextCancel("left")}}},[e._v("取消")])]):e._e()]),e._v(" "),e.viewToggle?s("div",{staticClass:"view"},[s("div",{staticClass:"left_box",attrs:{id:"leftBox"},on:{dragenter:function(t){e.parthDragEnter(0)}}},[e.power||e.notGroupedList&&e.notGroupedList.length||e.dragItem.fromGroup?s("el-upload",{ref:2===e.uploadFrom?"fileUpload":"",class:{file_empty_upload:!0,dragger_upload_dis:!(!e.dragItem.item||!e.dragItem.item.FilePkid)},attrs:{drag:!(!e.power||e.dragItem.FilePkid),action:"/ProjectFile.ashx?myUserId="+e.userId+"&projectId="+e.projectId+"&stageTaskId="+e.stageTaskId+"&filePartitionId=0","show-file-list":!1,multiple:!0,"on-error":e.uploadError,"on-success":e.uploadSuccess,"on-progress":e.uploadProgress,limit:99,"on-exceed":e.handleExceed,"before-upload":e.beforeUpload},nativeOn:{click:function(e){e.preventDefault()}}},[e.notGroupedList&&e.notGroupedList.length||e.dragItem.fromGroup?s("div",{staticClass:"left_file_list",on:{click:function(e){e.stopPropagation()}}},[s("draggable",{staticClass:"draggable",attrs:{groupid:"noGroup",options:{group:{name:"file",pull:"clone",put:["file","file1"]},ghostClass:"ghost_file",dragClass:"drag_file",chosenClass:"chosen_file",disabled:e.dragDisabled,draggable:e.power?".draged":""},move:e.fileMove},on:{start:function(t){e.dragStart(t,"noGroup")},end:e.dragEnd},model:{value:e.notGroupedList,callback:function(t){e.notGroupedList=t},expression:"notGroupedList"}},[e._l(e.notGroupedList,function(t,i){return s("div",{key:t.FilePkid,staticClass:"every_file draged",class:t.hover||e.operateFile.FilePkid===t.FilePkid?"every_file_operate":"",attrs:{id:t.FilePkid,filename:t.FileName},on:{mouseenter:function(i){e.enterFile(t)},mouseleave:function(i){e.leaveFile(t)},click:function(t){e.enterTheDetails(i,0,-1)}}},[s("span",{staticClass:"file_pic"},[11===t.FileType&&t.Desc?[s("span",{staticClass:"text_desc"},[s("span",[e._v(e._s(t.Desc))])])]:[s("img",{attrs:{src:t.UrlMin,alt:""}})],e._v(" "),s("span",{staticClass:"none"})],2),e._v(" "),s("div",{staticClass:"file_info"},[t.edit?s("input",{directives:[{name:"model",rawName:"v-model",value:t.FileTitle,expression:"ele.FileTitle"}],staticClass:"title edit",attrs:{id:"fileNameEdit"},domProps:{value:t.FileTitle},on:{blur:function(i){e.fileNameEditBlur(i,t)},keyup:function(i){if(!("button"in i)&&e._k(i.keyCode,"enter",13,i.key,"Enter"))return null;e.fileNameEditBlur(i,t,!0)},click:function(e){e.stopPropagation()},input:function(i){i.target.composing||e.$set(t,"FileTitle",i.target.value)}}}):s("p",{staticClass:"title"},[e._v(e._s(t.FileName))]),e._v(" "),s("el-tooltip",{attrs:{effect:"dark",content:t.nickName?t.nickName:t.userName,placement:"top","open-delay":300}},[s("img",{staticClass:"from_header",attrs:{src:t.UserPic,alt:""}})]),e._v(" "),s("span",{staticClass:"file_message fr"},[s("el-tooltip",{attrs:{effect:"dark",content:"评论",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-pinglun"})]),e._v("\n                                      "+e._s(t.Count)+"\n                                  ")],1),e._v(" "),e.oneChecked||t.hover?s("span",{staticClass:"fixed file_checkbox",on:{click:function(e){e.stopPropagation()}}},[s("el-checkbox",{on:{change:function(i){e.everyFileCheckbox(i,t)}},model:{value:t.checked,callback:function(i){e.$set(t,"checked",i)},expression:"ele.checked"}})],1):e._e(),e._v(" "),s("el-dropdown",{staticClass:"fixed file_more",on:{"visible-change":function(i){e.operateFileDropdown(i,t)}},nativeOn:{click:function(e){e.stopPropagation()}}},[s("span",{staticClass:"el-dropdown-link"},[s("i",{staticClass:"iconfont icon-gengduo"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("download",i,t,0)}}},[e._v("下载")]),e._v(" "),s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("collect",i,t,0)}}},[e._v("收藏")]),e._v(" "),t.isOwn&&1===e.stageList.length?s("el-dropdown-item",[s("el-tooltip",{attrs:{effect:"dark",content:"没有可移交的阶段",placement:"top","open-delay":300}},[s("span",{staticClass:"cur_dis"},[e._v("移交")])])],1):e._e(),e._v(" "),t.isOwn&&e.stageList.length>1?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("transfer",i,t,0)}}},[e._v("移交")]):e._e(),e._v(" "),t.isOwn?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("rename",i,t,0)}}},[e._v("重命名")]):e._e(),e._v(" "),t.isOwn?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("delete",i,t,0)}}},[e._v("删除")]):e._e()],1)],1)],1)])}),e._v(" "),s("div",{staticClass:"null"})],2)],1):s("div",{staticClass:"file_empty",on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"empty_img"},[s("img",{attrs:{src:i("5UfR"),alt:""}})]),e._v(" "),s("p",{staticClass:"title"},[e._v("本地文件拖到此区域即可上传，支持批量上传")])])]):s("div",{staticClass:"file_empty"},[s("div",{staticClass:"empty_img"},[s("img",{attrs:{src:i("5UfR"),alt:""}})]),e._v(" "),s("p",{staticClass:"title"},[e._v("暂无文件")])])],1),e._v(" "),s("div",{staticClass:"right_box",attrs:{id:"rightBox"}},[e.parthsGroup&&e.parthsGroup.length||e.dragItem.fromGroup?s("div",{staticClass:"parths"},[e.groupSortFlag?s("p",{staticClass:"mainColor_underline_text go_back_sort",on:{click:e.backParthSort}},[e._v("退出分组排序")]):e._e(),e._v(" "),e.groupSortFlag?[s("draggable",{attrs:{options:{ghostClass:"ghost_parth_sort",dragClass:"drag_parth_sort",draggable:e.power&&e.parthsGroup.length>1?".draged":""}},on:{end:e.dragEndParth},model:{value:e.parthsGroup,callback:function(t){e.parthsGroup=t},expression:"parthsGroup"}},e._l(e.parthsGroup,function(t){return s("div",{key:t.pkid,staticClass:"parths_group is_sort draged",attrs:{ids:t.pkid}},[s("i",{staticClass:"iconfont icon-paixu"}),e._v(" "),s("span",{staticClass:"group_name"},[e._v(e._s(t.groupName))])])}),0)]:e._l(e.parthsGroup,function(t,n){return s("div",{key:t.pkid,staticClass:"parths_group",on:{dragenter:function(i){e.parthDragEnter(t.pkid)}}},[s("el-upload",{ref:4===e.uploadFrom&&e.filePartitionId===t.pkid?"fileUpload":"",refInFor:!0,class:{file_empty_upload:!0,dragger_upload_dis:!(!e.dragItem.item||!e.dragItem.item.FilePkid)},attrs:{drag:!(!e.power||e.dragItem.FilePkid),action:"/ProjectFile.ashx?myUserId="+e.userId+"&projectId="+e.projectId+"&stageTaskId="+e.stageTaskId+"&filePartitionId="+t.pkid,"show-file-list":!1,multiple:!0,"on-error":e.uploadError,"on-success":e.uploadSuccess,"on-progress":e.uploadProgress,limit:99,"on-exceed":e.handleExceed,"before-upload":e.beforeUpload},nativeOn:{click:function(e){e.preventDefault()}}},[s("div",{staticClass:"group_top",on:{click:function(e){e.stopPropagation()}}},[t.edit?s("input",{directives:[{name:"model",rawName:"v-model",value:t.groupName,expression:"group.groupName"}],ref:t.createdGroup||t.edit?"createdGroup":"",refInFor:!0,staticClass:"group_name edit",attrs:{type:"text"},domProps:{value:t.groupName},on:{blur:function(i){e.groupTitleBlur(t)},keyup:function(i){if(!("button"in i)&&e._k(i.keyCode,"enter",13,i.key,"Enter"))return null;e.groupTitleBlur(t,!0)},input:function(i){i.target.composing||e.$set(t,"groupName",i.target.value)}}}):s("span",{staticClass:"group_name"},[e._v(e._s(t.groupName))]),e._v(" "),s("div",{staticClass:"group_operate"},[t.packUp?s("span",{staticClass:"mainColor_underline_text",on:{click:function(t){e.groupExtendToggle(n,!0)}}},[e._v("收起")]):e._e(),e._v(" "),e.power||t.fileList.length?s("el-dropdown",{staticClass:"fixed file_more",on:{"visible-change":function(i){e.visibleChangeGroup(i,t)}}},[s("span",{staticClass:"el-dropdown-link"},[s("i",{staticClass:"iconfont icon-gengduo1"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.power?s("el-dropdown-item",{nativeOn:{click:function(i){e.fileGroupCommand("upload",n,t)}}},[s("el-upload",{ref:3===e.uploadFrom&&e.filePartitionId===t.pkid?"fileUpload":"",refInFor:!0,staticClass:"upload_file",attrs:{action:"/ProjectFile.ashx?myUserId="+e.userId+"&projectId="+e.projectId+"&stageTaskId="+e.stageTaskId+"&filePartitionId="+e.filePartitionId,"show-file-list":!1,multiple:!0,"on-error":e.uploadError,"on-success":e.uploadSuccess,"on-progress":e.uploadProgress,limit:99,"on-exceed":e.handleExceed,"before-upload":e.beforeUpload}},[s("span",{staticClass:"slot_title",on:{click:function(i){e.handleClickUpload(t.pkid)}}},[e._v("上传")])])],1):e._e(),e._v(" "),t.fileList.length?s("el-dropdown-item",{nativeOn:{click:function(i){e.fileGroupCommand("download",n,t)}}},[e._v("下载")]):e._e(),e._v(" "),t.fileList.length?s("el-dropdown-item",{nativeOn:{click:function(i){e.fileGroupCommand("collect",n,t)}}},[e._v("收藏")]):e._e(),e._v(" "),e.power&&t.fileList.length&&1===e.stageList.length?s("el-dropdown-item",{nativeOn:{click:function(i){e.fileGroupCommand("transfer",n,t)}}},[s("el-tooltip",{attrs:{effect:"dark",content:"没有可移交的阶段",placement:"top","open-delay":300}},[s("span",{staticClass:"cur_dis"},[e._v("整组移交")])])],1):e.power&&t.fileList.length&&t.fileList.length&&t.onlySelf?s("el-dropdown-item",{nativeOn:{click:function(i){e.fileGroupCommand("transfer",n,t)}}},[e._v("\n                                        整组移交\n                                      ")]):e.power&&t.fileList.length&&!t.onlySelf?s("el-dropdown-item",[s("el-tooltip",{attrs:{effect:"dark",content:"您只能移交自己的文件",placement:"top","open-delay":300}},[s("span",{staticClass:"cur_dis"},[e._v("整组移交")])])],1):e._e(),e._v(" "),e.power?s("el-dropdown-item",{nativeOn:{click:function(i){e.fileGroupCommand("rename",n,t)}}},[e._v("重命名")]):e._e(),e._v(" "),e.power?s("el-dropdown-item",{nativeOn:{click:function(i){e.fileGroupCommand("delete",n,t)}}},[e._v("删除")]):e._e()],1)],1):e._e()],1)]),e._v(" "),t.allList?s("div",{key:t.pkid,class:{group_file:!0,drag_in_temporary:e.dragItem&&e.dragItem.fromGroup&&t.border&&t.temporary,drag_in:e.dragItem&&e.dragItem.fromGroup&&t.border&&!t.temporary,drag_dis:e.dragItem&&e.dragItem.fromGroup&&!t.border},on:{click:function(e){e.stopPropagation()}}},[s("draggable",{staticClass:"draggable",attrs:{groupid:t.pkid,options:{group:{name:"file",pull:"clone",put:["file","file1"]},ghostClass:"ghost_file",dragClass:"drag_file",draggable:".draged",disabled:t.dragDisabled},move:e.fileMove},on:{start:function(i){e.dragStart(i,t.pkid,n)},end:e.dragEnd},model:{value:t.allList,callback:function(i){e.$set(t,"allList",i)},expression:"group.allList"}},[t.fileList.length?e._l(t.allList,function(r){return s("div",{key:r.FilePkid,staticClass:"every_file fold_up",attrs:{groupid:t.pkid,id:r.FilePkid,filename:r.FileName},on:{click:function(t){e.groupExtendToggle(n,r)}}},[s("span",{staticClass:"file_pic"},[e._l(r.UrlMin,function(t,i){return s("span",{key:i,staticClass:"more"},[s("img",{attrs:{src:t,alt:"\n                                        "}}),e._v(" "),s("span",{staticClass:"none"})])}),e._v(" "),s("span",{staticClass:"more"},[s("img",{staticClass:"more",attrs:{src:i("iLpf"),alt:""}})]),e._v(" "),s("span",{staticClass:"none"})],2),e._v(" "),s("div",{staticClass:"file_info"},[s("p",{staticClass:"file_length"},[s("span",{staticClass:"mainColor"},[e._v(e._s(t.fileList.length))]),e._v("个文件")])])])}):[s("div",{staticClass:"every_file fold_up",attrs:{groupid:t.pkid},on:{click:function(t){e.groupExtendToggle(n,!0)}}},[s("span",{staticClass:"file_pic"},[s("img",{attrs:{src:i("huUL"),alt:""}}),e._v(" "),s("span",{staticClass:"none"})]),e._v(" "),s("div",{staticClass:"file_info"},[s("p",{staticClass:"file_length"},[e._v("暂无文件")])]),e._v(" "),s("div",{staticClass:"null"})])]],2)],1):t.overList?s("div",{key:t.pkid,class:{group_file:!0,drag_in_temporary:e.dragItem&&e.dragItem.fromGroup&&t.border&&t.temporary,drag_in:e.dragItem&&e.dragItem.fromGroup&&t.border&&!t.temporary,drag_dis:e.dragItem&&e.dragItem.fromGroup&&!t.border},on:{click:function(e){e.stopPropagation()}}},[s("draggable",{staticClass:"draggable",attrs:{groupid:t.pkid,options:{group:{name:"file",pull:"clone",put:["file","file1"]},ghostClass:"ghost_file",dragClass:"drag_file",disabled:t.dragDisabled,draggable:e.power?".draged":""},move:e.fileMove},on:{start:function(i){e.dragStart(i,t.pkid,n)},end:e.dragEnd},model:{value:t.overList,callback:function(i){e.$set(t,"overList",i)},expression:"group.overList"}},e._l(t.overList,function(r,a){return s("div",{key:r.FilePkid,staticClass:"every_file fold_up",class:r.overLength?"":"draged",attrs:{groupid:t.pkid,id:r.FilePkid,filename:r.FileName},on:{click:function(t){e.groupExtendToggle(n,r,a)},mouseenter:function(t){e.enterFile(r)},mouseleave:function(t){e.leaveFile(r)}}},[r.overLength?[s("span",{staticClass:"file_pic"},[e._l(r.UrlMin,function(t,i){return s("span",{key:i,staticClass:"more"},[s("img",{attrs:{src:t,alt:"\n                                        "}}),e._v(" "),s("span",{staticClass:"none"})])}),e._v(" "),s("span",{staticClass:"more"},[s("img",{staticClass:"more",attrs:{src:i("iLpf"),alt:""}})]),e._v(" "),s("span",{staticClass:"none"})],2),e._v(" "),s("div",{staticClass:"file_info"},[s("p",{staticClass:"file_length underline_text"},[e._v("展开更多"),s("span",{staticClass:"mainColor"},[e._v(e._s(r.overLength))]),e._v("个文件")])])]:[s("span",{staticClass:"file_pic"},[11===r.FileType&&r.Desc?[s("span",{staticClass:"text_desc"},[s("span",[e._v(e._s(r.Desc))])])]:[s("img",{attrs:{src:r.UrlMin,alt:""}})],e._v(" "),s("span",{staticClass:"none"})],2),e._v(" "),s("div",{staticClass:"file_info"},[r.edit?s("input",{directives:[{name:"model",rawName:"v-model",value:r.FileTitle,expression:"item.FileTitle"}],staticClass:"title edit",attrs:{id:"fileNameEdit"},domProps:{value:r.FileTitle},on:{blur:function(t){e.fileNameEditBlur(t,r)},keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.fileNameEditBlur(t,r,!0)},click:function(e){e.stopPropagation()},input:function(t){t.target.composing||e.$set(r,"FileTitle",t.target.value)}}}):s("p",{staticClass:"title"},[e._v(e._s(r.FileName))]),e._v(" "),s("el-tooltip",{attrs:{effect:"dark",content:r.nickName?r.nickName:r.userName,placement:"top","open-delay":300}},[s("img",{staticClass:"from_header",attrs:{src:r.UserPic,alt:""}})]),e._v(" "),s("span",{staticClass:"file_message fr"},[s("el-tooltip",{attrs:{effect:"dark",content:"评论",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-pinglun"})]),e._v("\n                                        "+e._s(r.Count)+"\n                                      ")],1),e._v(" "),e.oneChecked||r.hover?s("span",{staticClass:"fixed file_checkbox",on:{click:function(e){e.stopPropagation()}}},[s("el-checkbox",{on:{change:function(t){e.everyFileCheckbox(t,r)}},model:{value:r.checked,callback:function(t){e.$set(r,"checked",t)},expression:"item.checked"}})],1):e._e(),e._v(" "),s("el-dropdown",{staticClass:"fixed file_more",nativeOn:{click:function(e){e.stopPropagation()}}},[s("span",{staticClass:"el-dropdown-link"},[s("i",{staticClass:"iconfont icon-gengduo"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{nativeOn:{click:function(i){e.fileCommand("download",a,r,t.pkid,n)}}},[e._v("下载")]),e._v(" "),s("el-dropdown-item",{nativeOn:{click:function(i){e.fileCommand("collect",a,r,t.pkid,n)}}},[e._v("收藏")]),e._v(" "),r.isOwn&&1===e.stageList.length?s("el-dropdown-item",[s("el-tooltip",{attrs:{effect:"dark",content:"没有可移交的阶段",placement:"top","open-delay":300}},[s("span",{staticClass:"cur_dis"},[e._v("移交")])])],1):e._e(),e._v(" "),r.isOwn&&e.stageList.length>1?s("el-dropdown-item",{nativeOn:{click:function(i){e.fileCommand("transfer",a,r,t.pkid,n)}}},[e._v("移交")]):e._e(),e._v(" "),r.isOwn?s("el-dropdown-item",{nativeOn:{click:function(i){e.fileCommand("rename",a,r,t.pkid,n)}}},[e._v("重命名")]):e._e(),e._v(" "),r.isOwn?s("el-dropdown-item",{nativeOn:{click:function(i){e.fileCommand("delete",a,r,t.pkid,n)}}},[e._v("删除")]):e._e()],1)],1)],1)],e._v(" "),s("div",{staticClass:"null"})],2)}),0)],1):t.fileList?s("div",{key:t.pkid,staticClass:"group_file",class:e.dragItem&&e.dragItem.fromGroup?t.border?t.fileList.length?"group_border":t.temporary?"drag_in_temporary":"drag_in":"drag_dis":t.fileList.length?"":"parths_empty",on:{click:function(e){e.stopPropagation()}}},[s("draggable",{staticClass:"draggable",attrs:{groupid:t.pkid,options:{group:{name:"file",pull:"clone",put:["file","file1"]},ghostClass:"ghost_file",dragClass:"drag_file",disabled:t.dragDisabled,draggable:e.power?".draged":""},move:e.fileMove},on:{start:function(i){e.dragStart(i,t.pkid,n)},end:e.dragEnd},model:{value:t.fileList,callback:function(i){e.$set(t,"fileList",i)},expression:"group.fileList"}},e._l(t.fileList,function(i,r){return s("div",{key:i.FilePkid,staticClass:"every_file fold_up draged",attrs:{groupid:t.pkid,id:i.FilePkid,filename:i.FileName},on:{mouseenter:function(t){e.enterFile(i)},mouseleave:function(t){e.leaveFile(i)},click:function(t){e.enterTheDetails(r,n+1,-1)}}},[s("span",{staticClass:"file_pic"},[11===i.FileType&&i.Desc?[s("span",{staticClass:"text_desc"},[s("span",[e._v(e._s(i.Desc))])])]:[s("img",{attrs:{src:i.UrlMin,alt:""}})],e._v(" "),s("span",{staticClass:"none"})],2),e._v(" "),s("div",{staticClass:"file_info"},[i.edit?s("input",{directives:[{name:"model",rawName:"v-model",value:i.FileTitle,expression:"item.FileTitle"}],staticClass:"title edit",attrs:{id:"fileNameEdit"},domProps:{value:i.FileTitle},on:{blur:function(t){e.fileNameEditBlur(t,i)},keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.fileNameEditBlur(t,i,!0)},click:function(e){e.stopPropagation()},input:function(t){t.target.composing||e.$set(i,"FileTitle",t.target.value)}}}):s("p",{staticClass:"title"},[e._v(e._s(i.FileName))]),e._v(" "),s("el-tooltip",{attrs:{effect:"dark",content:i.nickName?i.nickName:i.userName,placement:"top","open-delay":300}},[s("img",{staticClass:"from_header",attrs:{src:i.UserPic,alt:""}})]),e._v(" "),s("span",{staticClass:"file_message fr"},[s("el-tooltip",{attrs:{effect:"dark",content:"评论",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-pinglun"})]),e._v("\n                                    "+e._s(i.Count)+"\n                                  ")],1),e._v(" "),e.oneChecked||i.hover?s("span",{staticClass:"fixed file_checkbox",on:{click:function(e){e.stopPropagation()}}},[s("el-checkbox",{on:{change:function(t){e.everyFileCheckbox(t,i)}},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"item.checked"}})],1):e._e(),e._v(" "),s("el-dropdown",{staticClass:"fixed file_more",nativeOn:{click:function(e){e.stopPropagation()}}},[s("span",{staticClass:"el-dropdown-link"},[s("i",{staticClass:"iconfont icon-gengduo"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("download",r,i,t.pkid,n)}}},[e._v("下载")]),e._v(" "),s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("collect",r,i,t.pkid,n)}}},[e._v("收藏")]),e._v(" "),i.isOwn&&1===e.stageList.length?s("el-dropdown-item",[s("el-tooltip",{attrs:{effect:"dark",content:"没有可移交的阶段",placement:"top","open-delay":300}},[s("span",{staticClass:"cur_dis"},[e._v("移交")])])],1):e._e(),e._v(" "),i.isOwn&&e.stageList.length>1?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("transfer",r,i,t.pkid,n)}}},[e._v("移交")]):e._e(),e._v(" "),i.isOwn?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("rename",r,i,t.pkid,n)}}},[e._v("重命名")]):e._e(),e._v(" "),i.isOwn?s("el-dropdown-item",{nativeOn:{click:function(s){e.fileCommand("delete",r,i,t.pkid,n)}}},[e._v("删除")]):e._e()],1)],1)],1),e._v(" "),s("div",{staticClass:"null"})])}),0)],1):e._e(),e._v(" "),s("div",{staticClass:"group_line",on:{click:function(e){e.stopPropagation()}}})])],1)})],2):[e.power?s("div",{staticClass:"file_empty"},[e._m(1),e._v(" "),s("p",{staticClass:"title"},[e._v("左侧文件拖到此区域设置分组")])]):s("div",{staticClass:"file_empty"},[e._m(2),e._v(" "),s("p",{staticClass:"title"},[e._v("暂无分组")])])],e._v(" "),s("div",{staticClass:"left_right_toggle",on:{click:e.leftRightToggle}},[s("i",{staticClass:"iconfont icon-tubiaozhizuomoban",class:e.leftCenterFlag?"icon_rotate":""})])],2)]):e._e(),e._v(" "),e.viewToggle?e._e():s("other-view",{ref:"otherView",attrs:{ids:e.idList,stageList:e.stageList,list:e.stageInfo.fileList},on:{handleCollect:e.sendCollection,handleDetails:e.enterTheDetails}})],1):s("div",{staticClass:"operate_file",attrs:{id:"operateFile"}},[s("demand-view",{ref:"demandView",attrs:{taskTitle:e.stageInfo.title,list:e.demandList,noticeType:e.noticeType,noticeFile:e.noticeFile},on:{handleCollect:e.sendCollection}})],1),e._v(" "),e.personalFilesShow?s("div",{staticClass:"personal_files",attrs:{id:"personalFiles"}},[s("div",{staticClass:"top_box"},[s("div",{staticClass:"left fl"},[s("el-upload",{ref:5===e.uploadFrom?"fileUpload":"",staticClass:"upload_file",attrs:{action:"/PersonalFile.ashx?myUserId="+e.userId+"&fatherId="+e.personalFolder.folderId+"&iLevel="+e.personalFolder.iLevel+"&title="+e.personalFolder.fatherName,"show-file-list":!1,multiple:!0,"on-error":e.uploadError,"on-success":e.uploadSuccess,"on-progress":e.uploadProgress,limit:99,"on-exceed":e.handleExceed,"before-upload":e.beforeUpload}},[s("el-tooltip",{attrs:{effect:"dark",content:"上传",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-shangchuan",on:{click:function(t){e.handleClickUpload("personal")}}})])],1),e._v(" "),s("el-tooltip",{attrs:{effect:"dark",content:"添加文字",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-tianjiawenzi",on:{click:function(t){t.stopPropagation(),e.inputTextShowToggle()}}})]),e._v(" "),s("el-tooltip",{attrs:{effect:"dark",content:"新建文件夹",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-xinjianfenzu",on:{click:e.newFolder}})]),e._v(" "),s("span",{staticClass:"line"}),e._v(" "),e.checkedListSelf.length?s("el-checkbox",{on:{change:e.fileCheckboxAllSelf},model:{value:e.fileCheckboxSelf,callback:function(t){e.fileCheckboxSelf=t},expression:"fileCheckboxSelf"}},[e._v("\n                    已选"),s("span",{staticClass:"mainColor"},[e._v(e._s(e.checkedListSelf.length))]),e._v("项\n                  ")]):s("el-checkbox",{on:{change:e.fileCheckboxAllSelf},model:{value:e.fileCheckboxSelf,callback:function(t){e.fileCheckboxSelf=t},expression:"fileCheckboxSelf"}},[e._v("全选")]),e._v(" "),e.checkedListSelf.length?[s("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-delete",on:{click:e.multipleDel}})])]:e._e()],2),e._v(" "),e._e(),e._v(" "),e.inputTextShow2?s("div",{staticClass:"input_text",on:{click:function(e){e.stopPropagation()}}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.inputText,expression:"inputText"}],staticClass:"textarea",attrs:{id:"inputText",rows:"4",placeholder:"请输入文字内容"},domProps:{value:e.inputText},on:{focus:e.inputTextFocus,blur:e.inputTextBlur,input:function(t){t.target.composing||(e.inputText=t.target.value)}}}),e._v(" "),e.addTextIng||!e.inputText?s("div",{staticClass:"main_button_disabled_bg fr"},[e._v("添加")]):s("button",{staticClass:"main_button_bg fr",on:{click:function(t){e.inputTextSure()}}},[e._v("添加")]),e._v(" "),s("button",{staticClass:"main_button fr",on:{click:function(t){e.inputTextCancel()}}},[e._v("取消")])]):e._e()]),e._v(" "),s("div",{staticClass:"personal_files_main"},[s("div",{staticClass:"p_f_list"},[e.navBar.length-1?s("div",{staticClass:"nav_bar"},e._l(e.navBar,function(t,i){return s("span",{key:t.id,on:{click:function(t){e.goBack(i)}}},[i?s("span",{staticClass:"span1 fl"},[e._v(">")]):e._e(),e._v(" "),s("span",{staticClass:"cur fl",class:i===e.navBar.length-1?"mainColor":""},[e._v(e._s(t.name))])])}),0):e._e(),e._v(" "),s("draggable",{staticClass:"draggable",attrs:{groupid:"personal",options:{group:{name:"file1",pull:"clone",put:["file"]},ghostClass:"ghost_file",dragClass:"drag_file",disabled:e.dragDisabled_personal,draggable:".draged",sort:!1},move:e.fileMove},on:{start:function(t){e.dragStart(t,"personal")},end:e.dragEnd,add:e.dragAdd},model:{value:e.personalFiles,callback:function(t){e.personalFiles=t},expression:"personalFiles"}},[e._l(e.personalFiles,function(t,i){return s("div",{key:t.FilePkid,class:12!==t.FileType?"every_file draged":"every_file",attrs:{id:t.FilePkid,filename:t.FileName},on:{dblclick:function(i){e.dbFolder(t)},mouseenter:function(i){e.enterFileSelf(t)},mouseleave:function(i){e.leaveFileSelf(t)}}},[s("span",{staticClass:"file_pic"},[11===t.FileType&&t.Desc?[s("span",{staticClass:"text_desc"},[s("span",[e._v(e._s(t.Desc))])])]:[s("img",{attrs:{src:t.UrlMin?t.UrlMin:"../../../assets/img/file_b/12.png",alt:""}})],e._v(" "),s("span",{staticClass:"none"})],2),e._v(" "),s("div",{staticClass:"file_info"},[t.edit||t.createdFolder?s("input",{directives:[{name:"model",rawName:"v-model",value:t.FileTitle,expression:"file.FileTitle"}],staticClass:"title edit",attrs:{id:"fileNameEdit"},domProps:{value:t.FileTitle},on:{blur:function(s){e.personalFileBlur(s,t,i)},keyup:function(s){if(!("button"in s)&&e._k(s.keyCode,"enter",13,s.key,"Enter"))return null;e.personalFileBlur(s,t,i,!0)},input:function(i){i.target.composing||e.$set(t,"FileTitle",i.target.value)}}}):s("p",{staticClass:"title"},[e._v(e._s(t.FileName))]),e._v(" "),12===t.FileType?s("p",{staticClass:"file_num"},[e._v(e._s(t.SubfileCount)+"个文件")]):s("p",{staticClass:"file_num"},[e._v(e._s(t.Size))]),e._v(" "),e.oneCheckedSelf||t.hover?s("span",{staticClass:"fixed file_checkbox"},[s("el-checkbox",{on:{change:function(i){e.everyFileCheckboxSelf(i,t)}},model:{value:t.checked,callback:function(i){e.$set(t,"checked",i)},expression:"file.checked"}})],1):e._e(),e._v(" "),s("el-dropdown",{staticClass:"fixed file_more"},[s("span",{staticClass:"el-dropdown-link"},[s("i",{staticClass:"iconfont icon-gengduo"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[12===t.FileType&&t.SubfileCount||12!==t.FileType?s("el-dropdown-item",{nativeOn:{click:function(s){e.personalFileCommand("download",i,t)}}},[s("span",[e._v("下载")])]):s("el-dropdown-item",[s("span",{staticClass:"cur_dis"},[e._v("下载")])]),e._v(" "),t.FilePkid>0?s("el-dropdown-item",{nativeOn:{click:function(s){e.personalFileCommand("rename",i,t)}}},[e._v("重命名")]):e._e(),e._v(" "),t.FilePkid>0?s("el-dropdown-item",{nativeOn:{click:function(s){e.personalFileCommand("delete",i,t)}}},[e._v("删除")]):e._e()],1)],1)],1)])}),e._v(" "),e.navBar.length-1&&!e.personalFiles.length?s("div",{staticClass:"folder_empty"},[s("p",[e._v("该文件夹为空")]),e._v(" "),s("p",[e._v("您可以从任务中拖拽或从本地上传")])]):e._e()],2)],1)])]):e._e()]),e._v(" "),e.fullPreviewShow?s("full-preview",{attrs:{taskId:"1",fullList:e.fullList}}):e._e()]],2),e._v(" "),s("transition",{attrs:{name:"fade1"}},[e.transferShow?s("transfer-view",{attrs:{default:e.transferDefaultStage,selectList:e.transferStageList},on:{handleCancle:e.transferCancel,handleSure:e.transferSure}}):e._e()],1),e._v(" "),s("transition",{attrs:{name:"fade1"}},[e.delGroupFlag?s("Reminder2",{attrs:{type:1,text:e.reminderText},on:{handleCancle:e.delGroupCancel,handleSure:e.delGroupSure}}):e._e()],1),e._v(" "),s("transition",{attrs:{name:"fade1"}},[e.delFileFlag?s("Reminder2",{attrs:{type:1,text:e.reminderText},on:{handleCancle:e.delFileCancel,handleSure:e.delFileSure}}):e._e()],1),e._v(" "),s("transition",{attrs:{name:"fade1"}},[e.delFileFlag1?s("Reminder2",{attrs:{type:1,text:e.reminderText},on:{handleCancle:e.delFileCancel1,handleSure:e.delFileSure1}}):e._e()],1),e._v(" "),e.uploadProgressFlag?s("upload-progress",{attrs:{fileProgressList:e.fileProgressList},on:{closeProgress:e.closeProgress,handleCancel:e.cancelUpload,handleRe:e.reUpload}}):e._e(),e._v(" "),s("transition",{attrs:{name:"fade1"}},[e.filedetailsShow?s("file-details",{attrs:{info:e.enterDetailInfo},on:{closeDetails:e.closeDetails}}):e._e()],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"stage_close_box"},[t("div",{staticClass:"stage_close"},[t("span",{staticClass:"close_img"},[t("img",{attrs:{src:i("mwmI"),alt:""}})]),this._v(" "),t("p",[this._v("该阶段已关闭")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"empty_img"},[t("img",{attrs:{src:i("jU3/"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"empty_img"},[t("img",{attrs:{src:i("jU3/"),alt:""}})])}]};var ye=function(e){i("FTiN")},Ce=i("C7Lr")(ge.a,_e,!1,ye,null,null).exports,we=i("LxJ+"),Ae={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"friend_management"},[s("div",{staticClass:"friend_m_top"},[e._v("好友管理")]),e._v(" "),s("div",{staticClass:"friend_m_center"},[e.friendList.length?s("div",{staticClass:"friend_content"},[s("div",{staticClass:"friend_group"},[s("div",{staticClass:"friend_group_top _top"},[s("span",{staticClass:"fl"},[e._v("好友分组")]),e._v(" "),e.checkedList.length?s("div",{staticClass:"batch_operate fr"},[s("button",{staticClass:"main_button_color",on:{click:function(t){return t.stopPropagation(),e.batchRemove(t)}}},[e._v("批量移动")]),e._v(" "),s("button",{staticClass:"main_button_color",on:{click:e.addUsed}},[e._v("添加到常用联系人")]),e._v(" "),s("el-collapse-transition",[e.batchRemoveFlag?s("ul",{staticClass:"remove_group"},e._l(e.friendList,function(t,i){return s("li",{key:i,on:{click:function(s){e.removeGroup(i,t.pkid)}}},[e._v("\n                                    "+e._s(t.groupName)+"\n                                ")])}),0):e._e()])],1):s("el-dropdown",{staticClass:"frined_jia fr"},[s("i",{staticClass:"iconfont icon-jia1"}),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"add_friend"},nativeOn:{click:function(t){e.adds("add_friend")}}},[e._v("添加好友")]),e._v(" "),s("el-dropdown-item",{attrs:{command:"add_group"},nativeOn:{click:function(t){e.adds("add_group")}}},[e._v("添加分组")])],1)],1)],1),e._v(" "),s("div",{staticClass:"friend_group_content"},e._l(e.friendList,function(t,i){return s("div",{key:t.pkid,staticClass:"friend_group_list"},[s("div",{staticClass:"friend_group_list_top",on:{mouseenter:function(t){e.listEnter(i)}}},[s("i",{staticClass:"iconfont icon-unfold",class:t.extend?"":"icon-unfold_rotate",on:{click:function(s){e.extendClick(i,t.extend)}}}),e._v(" "),s("span",{staticClass:"span_title"},[e._v(e._s(t.groupName)+"("+e._s(t.friendsListCont)+")")]),e._v(" "),0!=t.pkid?s("el-dropdown",{staticClass:"frined_more fr",on:{"visible-change":e.visibleChange}},[s("i",{staticClass:"iconfont icon-gengduo"}),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"remarks"},nativeOn:{mouseenter:function(t){return e.otherMouseEnter(t)},click:function(i){e.command1("remarks",t)}}},[e._v("修改组名")]),e._v(" "),e.friendList.length-1?s("el-dropdown-item",{staticClass:"parth_el_dropdown_move",attrs:{command:"move"},nativeOn:{click:function(t){e.command1("move")},mouseenter:function(t){e.moveMouseEnter("group")}}},[s("span",{staticClass:"parth_el_dropdown_span"},[e._v("移动分组")]),e._v(" "),s("i",{staticClass:"iconfont icon-enter"}),e._v(" "),e.moveGroupShow?s("ul",{staticClass:"move_parths move_group2_left"},[s("draggable",{attrs:{element:"ul"},on:{end:e.dragEndParth,start:function(t){e.dragStartParth(0,t)}},model:{value:e.groupList,callback:function(t){e.groupList=t},expression:"groupList"}},e._l(e.groupList,function(t){return 0!=t.pkid?s("li",{key:t.pkid},[s("span",[e._v(e._s(t.groupName))]),e._v(" "),s("i",{staticClass:"iconfont icon-Shapex"})]):e._e()}),0)],1):e._e()]):e._e(),e._v(" "),e.friendList.length>=2?s("el-dropdown-item",{attrs:{command:"delete"},nativeOn:{mouseenter:function(t){return e.otherMouseEnter(t)},click:function(i){e.command1("delete",t)}}},[e._v("删除分组")]):e._e()],1)],1):e._e()],1),e._v(" "),s("ul",{staticClass:"friend_group_list_every"},e._l(t.friendsList,function(t,n){return s("li",{key:t.pkid,staticClass:"friend_group_list_li",on:{mouseenter:function(t){e.listEnter(i,n)}}},[s("el-checkbox",{class:t.checked?"visibility":"",on:{change:function(i){e.selectChange(t)}},model:{value:t.checked,callback:function(i){e.$set(t,"checked",i)},expression:"ele.checked"}}),e._v(" "),s("img",{staticClass:"header",attrs:{src:t.Images,alt:""}}),e._v(" "),t.nickName?s("span",{staticClass:"names"},[e._v(e._s(t.nickName)),s("span",{staticClass:"names_real"},[e._v("("+e._s(t.userName)+")")])]):s("span",{staticClass:"names"},[e._v(e._s(t.userName))]),e._v(" "),s("el-dropdown",{staticClass:"frined_more fr",on:{"visible-change":e.visibleChange}},[s("i",{staticClass:"iconfont icon-gengduo"}),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"remarks"},nativeOn:{mouseenter:function(t){return e.otherMouseEnter(t)},click:function(i){e.command2("remarks",t)}}},[e._v("备注姓名")]),e._v(" "),e.friendList.length-1?s("el-dropdown-item",{staticClass:"parth_el_dropdown_move",attrs:{command:"move"},nativeOn:{click:function(i){e.command2("move",t)},mouseenter:function(t){e.moveMouseEnter()}}},[s("span",{staticClass:"parth_el_dropdown_span"},[e._v("移动分组")]),e._v(" "),s("i",{staticClass:"iconfont icon-enter"}),e._v(" "),e.moveGroupShow?s("ul",{staticClass:"move_parths move_group2",class:t.isUsed?"move_group2_left":""},e._l(e.groupList,function(i){return s("li",{key:i.pkid,on:{click:function(s){e.moveGroup2(i.pkid,t)}}},[s("span",[e._v(e._s(i.groupName))])])}),0):e._e()]):e._e(),e._v(" "),t.isUsed?e._e():s("el-dropdown-item",{attrs:{command:"add_used"},nativeOn:{mouseenter:function(t){return e.otherMouseEnter(t)},click:function(i){e.command2("add_used",t)}}},[e._v("添加到常用联系人")])],1)],1)],1)}),0)])}),0)]),e._v(" "),s("div",{staticClass:"friend_used"},[s("div",{staticClass:"friend_used_top _top"},[e._v("常用联系人")]),e._v(" "),e.usedList.length?s("ul",{staticClass:"friend_used_list"},e._l(e.usedList,function(t,i){return s("li",{key:t.pkid},[s("div",{staticClass:"li_box"},[s("img",{staticClass:"header",attrs:{src:t.Images,alt:""}}),e._v(" "),s("span",{staticClass:"names"},[e._v(e._s(t.userName))]),e._v(" "),s("i",{staticClass:"iconfont icon-close",on:{click:function(s){e.delUsed(i,t.pkid)}}})])])}),0):s("div",{staticClass:"used_empty"},[s("p",[e._v("点击左侧好友列表添加常用联系人")])])])]):s("div",{staticClass:"friend_empty"},[s("img",{attrs:{src:i("nNfu"),alt:""}}),e._v(" "),s("p",[e._v("您还没有好友，"),s("span",{staticClass:"mainColor_text",on:{click:e.addFriend}},[e._v("点击这里")]),e._v(" 去添加好友")])])]),e._v(" "),s("transition",{attrs:{name:"fade1"}},[e.inviteFlag?s("add-people",{attrs:{invite:!0,defaultTreeKeys:[],fromInfo:{fromType:0,id:""}},on:{handleCancel:e.inviteCancel,handleInvite:e.emailInvite}}):e._e()],1),e._v(" "),s("transition",{attrs:{name:"fade1"}},[e.addGroupFlag?s("Reminder2",{attrs:{type:"添加分组",text:e.reminderText},on:{handleCancle:e.reminderCancel1,handleSure:e.reminderSure1}}):e._e()],1),e._v(" "),s("transition",{attrs:{name:"fade1"}},[e.editGroupFlag?s("Reminder2",{attrs:{type:"修改分组",text:"请输入分组名",inputValue:e.inputValue},on:{handleCancle:e.reminderCancel2,handleSure:e.reminderSure2}}):e._e()],1),e._v(" "),s("transition",{attrs:{name:"fade1"}},[e.delGroupFlag?s("Reminder2",{attrs:{type:1,text:e.reminderText,selectList:e.selectList},on:{handleCancle:e.delGroupCancel,handleSure:e.delGroupSure}}):e._e()],1),e._v(" "),s("transition",{attrs:{name:"fade1"}},[e.remarskFlag?s("Reminder2",{attrs:{type:"设置备注姓名",text:"请输入备注姓名",inputValue:e.inputValue},on:{handleCancle:e.remarsCancel,handleSure:e.remarsSure}}):e._e()],1)],1)},staticRenderFns:[]};var ke=function(e){i("HVQS")},be=i("C7Lr")(we.a,Ae,!1,ke,null,null).exports,Ie={data:function(){return{times:5,setTime:null}},methods:{returnBack:function(){this.$router.push({name:"ProjectInfo",params:{projectId:this.$route.params.projectId}})}},created:function(){var e=this;this.setTime=setInterval(function(){e.times--,e.times<=0&&(clearInterval(e.setTime),e.setTime=null,e.$router.push({name:"ProjectInfo",params:{projectId:e.$route.params.projectId}}))},1e3)},beforeDestory:function(){clearInterval(this.setTime),this.setTime=null}},xe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"no_task"},[s("div",{staticClass:"no_task_content"},[s("img",{attrs:{src:i("NeAH"),alt:""}}),e._v(" "),s("p",[e._v("您所访问的任务已被删除，即将返回任务目录 "),s("span",[e._v("（"+e._s(e.times)+"）")])]),e._v(" "),s("div",{staticClass:"return_back",on:{click:e.returnBack}},[e._v("立即返回")])])])},staticRenderFns:[]};var Pe=i("C7Lr")(Ie,xe,!1,function(e){i("IgQe")},null,null).exports;s.default.use(o.a);var Se=new o.a({routes:[{path:"/",name:"Home",redirect:"/project",component:P,children:[{path:"/workbench",name:"Workbench",component:ue},{path:"/project",name:"Project",component:le},{path:"/project/projectInfo",name:"ProjectInfo",component:me},{path:"/project/taskDetail",name:"TaskDetail",component:Ce},{path:"/personalDocuments",name:"PersonalDocuments",component:he},{path:"/friend",name:"Friend",component:be},{path:"/notice",name:"Notice",component:b},{path:"/noTask",name:"NoTask",component:Pe}]},{path:"/enter",name:"Enter",component:u},{path:"/login",name:"Login",component:p},{path:"/register",name:"RegisterPage",component:E},{path:"/wxRegister",name:"WxRegister",component:U},{path:"/myCenter",name:"MyCenter",component:q},{path:"/forgetPwd",name:"ForgetPwd",component:V},{path:"/retrievePwdEmail",name:"RetrievePwdEmail",component:J}]}),Te=i("DVuL"),Le=i.n(Te),Ee=(i("LicG"),i("aozt")),Fe=i.n(Ee),Re=i("Wn42"),Ne=i.n(Re),Be=i("L7Pj"),De=i.n(Be),Oe=i("KPSb"),je=i.n(Oe),Me=i("P9l9"),Ue={domian:"https://server.apexgame.cn/",urlPath:"/EggsWebService.asmx"},Ge=i("ukYY"),He=i("lC5x"),We=i.n(He),qe=i("J0Oq"),Qe=i.n(qe),ze={actionA:function(e){var t=this,i=e.commit;return Qe()(We.a.mark(function e(){return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,getData();case 3:e.t1=e.sent,(0,e.t0)("gotData",e.t1);case 5:case"end":return e.stop()}},e,t)}))()}};s.default.use(ie.a);var Ye={newProjectPop:!1,blankProjectPop:!1,addPeoPlePop:!1,itemRecord:"",details:!1,taskTitle:"",taskStar:!1,taskRemind:!1,taskItem:null,taskList:[],taskIndex:[void 0,void 0],taskTimeState:"",taskTimeDate:"",taskDelChange:!1,projectItem:null,stageInfos:{},checkedFileList:[],fileLength:0,taskIds:{},power:1,unreadNum:0},Ve=new ie.a.Store({state:Ye,getters:{},actions:ze,mutations:Ge.a}),Xe={url:"http://eggs.apexgame.cn/"};s.default.use(ie.a),s.default.config.productionTip=!1,s.default.use(Le.a),s.default.use(Me.a),s.default.prototype.$axios=Fe.a,s.default.prototype.$qs=Ne.a,s.default.prototype.$=De.a,s.default.prototype.$md5=je.a,s.default.prototype.global=Ue,Ue.domain=Xe,new s.default({el:"#app",router:Se,store:Ve,components:{App:a},template:"<App/>"})},NYhm:function(e,t,i){"use strict";var s=i("hhMQ"),n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"add_people popup",on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"popup_box"},[s("div",{staticClass:"popup_top"},[e.addInvite||e.invite?s("i",{staticClass:"iconfont icon-return fl",on:{click:function(t){return t.stopPropagation(),e.lastStep(t)}}}):e._e(),e._v(" "),s("span",{staticClass:"popup_title"},[e._v(e._s(e.addInvite?"邀请新成员":"好友列表"))]),e._v(" "),s("i",{staticClass:"iconfont icon-guanbijiantou fr",on:{click:function(t){return t.stopPropagation(),e.cancel(t)}}})]),e._v(" "),e.addInvite||e.invite?s("ul",{staticClass:"two_parths"},[s("li",{staticClass:"parths parths_one fl"},[s("p",{staticClass:"title"},[e._v("方式一：发送邮件邀请")]),e._v(" "),s("p",{staticClass:"desc"},[e._v("将发送邀请邮件至对方邮箱")]),e._v(" "),s("ul",{staticClass:"invite_list"},e._l(e.emailList,function(t,i){return s("li",{key:i},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email.email"}],staticClass:"invite_input",attrs:{type:"text",placeholder:"请输入邮箱账号"},domProps:{value:t.email},on:{focus:function(t){e.emailFocus(i)},blur:function(i){e.emailBlur(t)},input:[function(i){i.target.composing||e.$set(t,"email",i.target.value)},function(i){e.emailInput(t)}]}}),e._v(" "),t.check?s("span",{staticClass:"error"},[e._v(e._s(t.check))]):e._e()])}),0),e._v(" "),s("button",{staticClass:"main_button_color",on:{click:e.inviteButton}},[e._v("邀请")])]),e._v(" "),s("li",{staticClass:"parths parths_two fl"},[s("p",{staticClass:"title"},[e._v("方式二：发送邀请链接")]),e._v(" "),s("p",{staticClass:"desc"},[e._v("可自行复制邀请文字和链接发送给对方")]),e._v(" "),s("p",{staticClass:"send_one"},[e._v('"'+e._s(e.userName)+'"邀请您一起完成工作，详情点击')]),e._v(" "),s("textarea",{staticClass:"send_two",attrs:{id:"copyContent",spellcheck:"false"}},[e._v("https://www.teambition.com/project/5a9f58b19fae5163d29ed234/tasks/scrum/5a9f58b19fae5163d29ed236")]),e._v(" "),s("button",{staticClass:"main_button_color",on:{click:e.copyButton}},[e._v("一键复制")])])]):s("div",[e.treeList.length?s("div",{staticClass:"popup_content"},[s("ul",{staticClass:"three_parths"},[s("li",{staticClass:"parths parths_one"},[s("p",{staticClass:"parths_title"},[e._v("好友列表")]),e._v(" "),s("el-tree",{ref:"tree1",attrs:{data:e.treeList,"show-checkbox":"","node-key":"pkid","default-expand-all":"","default-checked-keys":e.defaultTreeKeys,props:e.defaultProps},on:{"check-change":e.treeCheckChange},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,n=t.data;return s("span",{staticClass:"custom-tree-node"},[n.groupName?e._e():s("img",{staticClass:"el_tree_img",attrs:{src:n.Images}}),e._v(" "),s("span",{staticClass:"el_tree_name"},[e._v(e._s(i.label))])])}}])})],1),e._v(" "),s("li",{staticClass:"parths parths_two"},[s("p",{staticClass:"parths_title"},[e._v("常用联系人")]),e._v(" "),e.usedList.length?s("ul",{staticClass:"parths_list"},e._l(e.usedList,function(t){return s("li",{key:t.userid},[s("el-checkbox",{attrs:{disabled:t.disabled},on:{change:function(i){e.usedCheckChange(t)}},model:{value:t.checked,callback:function(i){e.$set(t,"checked",i)},expression:"list.checked"}}),e._v(" "),s("img",{staticClass:"el_tree_img",attrs:{src:t.Images}}),e._v(" "),s("span",{staticClass:"el_tree_name"},[e._v(e._s(t.nickName?t.nickName:t.userName))])],1)}),0):s("p",{staticClass:"no_body"},[e._v("暂无，可在好友管理中添加，系统也会自动生成")])]),e._v(" "),s("li",{staticClass:"parths parths_three"},[s("p",{staticClass:"parths_title"},[e._v("已选列表")]),e._v(" "),s("ul",{staticClass:"parths_list"},e._l(e.selectedList,function(t,i){return t.checked&&!t.disabled?s("li",{key:t.userid},[s("img",{staticClass:"el_tree_img",attrs:{src:t.Images}}),e._v(" "),s("span",{staticClass:"el_tree_name"},[e._v(e._s(t.nickName?t.nickName:t.userName))]),e._v(" "),s("i",{staticClass:"iconfont icon-delete",on:{click:function(s){e.delCheckChange(t,i)}}})]):e._e()}),0)])])]):s("div",{staticClass:"content_empty"},[s("img",{attrs:{src:i("rUm/"),alt:""}}),e._v(" "),s("p",[e._v("您还没有好友，请点击\n          "),s("span",{on:{click:e.clickInvite}},[e._v("这里")]),e._v("邀请朋友加入吧！")])]),e._v(" "),s("div",{staticClass:"popup_bottom"},[s("span",{staticClass:"invite",on:{click:e.clickInvite}},[e._v("邀请Ta加入")]),e._v(" "),s("button",{staticClass:"fr sure",class:e.disabled?"main_button_disabled_bg":"main_button_bg",attrs:{disabled:e.disabled},on:{click:function(t){return t.stopPropagation(),e.addSure(t)}}},[e._v("确定")]),e._v(" "),s("button",{staticClass:"main_button_color fr",on:{click:function(t){return t.stopPropagation(),e.cancel(t)}}},[e._v("取消")])])])])])},staticRenderFns:[]};var r=function(e){i("5BUQ")},a=i("C7Lr")(s.a,n,!1,r,null,null);t.a=a.exports},NYr1:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAAC4jAAAuIwF4pT92AAADB0lEQVRYCdWZO24iQRCGf4YRIWyTEpg9APKKDBHACZBvsISIZMkJ7BssjgiXvYGBC2DJiAzxyAiQfQF6DQEPCbEqXMPiecE8sGd/aQQam5mvq6urqqtDu90ObiSl/AYgzxd9v7J4zBDAAEAHwIMQ4o+b9zkClVJ+AVAEULEBO6UmgIYQ4uEioFLKOwaMuQTUiyxdEUJ0fAHlKW4AuPYJUC+ycPGUS9iCSilpmn+d+8btdotwOOwG9gXAjRBiYPUPig1kzQnker3GZDJBoVBAtVp1Ckr+3uHZOx+UIX84edNqtUKr1cLT0xPq9Tq63a5T2JgdrAGUp9sRpI/SYJO2oDyas6f7grCG0KW3aOPjeGx1zeHwoAMo/+FSIciNbo9dQMW/jFPx8lRFUVAul/ffY7EY0um0H7B3nAnf4qiUkiB/en2qlBJCCGw2G0QiET9ASV+FEM/a1HuypiaCJPkICc2iCq90twXGR+gNlMu0IOuKFtX/AErKK1z0Bl1J1cw/qcCg3K1XKBRCNBr1ZUzz+RxmlRuFNjOLqvo7VKpNp9N9gaFXKpVCJpM5rG63ojDW6/UwHo8NkKVSyfSpodlsZhgWlWpUBZlpNpt5gtQUj8dN77fbbWSzWf3tR9Myjyzn5L4bWT3LYurNLUoyqydppORX5KteRFOvqipGo5EBMpFImLnWoyVowPRb4d1g0LXP9ZYbqgCpo3AHI+gaKGZlf8DUpD2/whv/ZoBB94bU4qgveyUKOz7r9R0oN6w8rX7K3ZQWKePkcjksFgs/kGtaq+c4M3mq8ikRaLmbPvXB3IWozVPTfnYA5a5akHy1ctw40+f6Io/ks3Wv75++A+UR3LATf5aGQgiDGxqqJ2795d3AHlc+VlXQCQ2ttkaW/VHenXacdJiXyyX6/b5dFWSnPaRVQ/dUIzfJcezSrZ57s+k+1lk9fO5L3V4A8IVX98k07uSwIcm9oO8+AL5yjKyde5zj+JyJgYt8Oe2wUJwm6zk+b3J9IEZiaFql2qdez3zRohy4PQwDgL+s/z8K6jCgCQAAAABJRU5ErkJggg=="},"NZ/s":function(e,t,i){"use strict";(function(e){var s=i("IHPB"),n=i.n(s),r=i("HzJ8"),a=i.n(r),o=i("aA9S"),l=i.n(o),c=i("4YfN"),u=i.n(c),d=i("9rMa"),h=i("iIsA");t.a={props:["list","taskTitle","noticeType","noticeFile"],components:{FileDetails:h.a},data:function(){return{userId:JSON.parse(localStorage.getItem("staffInfo")).userPkid,fileTypeImg:[{src:i("MzaG")},{src:i("MzaG")},{src:i("s9QU")},{src:i("6OdW")},{src:i("JYI+")},{src:i("MK+o")},{src:i("62YV")},{src:i("lfVU")},{src:i("GWU5")},{src:i("Gttd")},{src:i("YCba")},{src:i("EBPn")}],checkedList:[],fileCheckbox:!1,demandList:[],fileLists:[],fileBoxW:182,fromType:3,filePartitionId:0,operateParth:{},operateFile:{},demandId:"",filedetailsShow:!1}},computed:u()({},Object(d.c)(["taskIds"]),{oneChecked:function(){return!(!this.checkedList||!this.checkedList.length)}}),methods:{enterTheDetails:function(e,t,i){var s=this.demandList[i];s.fileList.map(function(e){return(e.groupName=e.GroupName)&&(e.pkid=e.Pkid)}),this.enterDetailInfo={groupIndex:t,fileIndex:e,fileList:s.fileList,type:2,menuList:[this.taskTitle,s.oldstageTitle,s.fileList[t].GroupName,s.fileList[t].fileList[e].FileName],noticeType:this.noticeType},this.filedetailsShow=!0},closeDetails:function(){this.filedetailsShow=!1},groupExtendToggle:function(e,t,i,s){!0===i||i.overLength?(this.demandList[e].fileList[t].packUp=!this.demandList[e].fileList[t].packUp,this.demandList=this.demandList.concat()):this.enterTheDetails(s,t,e)},fileGroupCommand:function(e,t,i,s){this.fromType=4,this.filePartitionId=i.pkid,this.operateParth=l()({},i,{index:t}),0===i.Pkid?this.demandId=this.demandList[s].demandId:this.demandId="","download"!==e?"collect"!==e||this.fileCollect(i):this.fileDownlod(i)},fileCommand:function(e,t,i,s,n){this.fromType=5,this.operateFile=l()({},i,{index:t,groupId:s,groupIndex:n}),"download"!==e?"collect"!==e||this.fileCollect(i):this.fileDownlod(i)},enterFile:function(e){e.hover=!0,this.demandList=this.demandList.concat()},leaveFile:function(e){e.hover=!1,this.demandList=this.demandList.concat()},fileCheckboxAll:function(e){this.checkedList=[];var t=!0,i=!1,s=void 0;try{for(var n,r=a()(this.demandList);!(t=(n=r.next()).done);t=!0){var o=n.value,l=!0,c=!1,u=void 0;try{for(var d,h=a()(o.fileList);!(l=(d=h.next()).done);l=!0){var f=d.value,p=!0,v=!1,m=void 0;try{for(var g,_=a()(f.fileList);!(p=(g=_.next()).done);p=!0){var y=g.value;e?(y.checked=!0,this.checkedList.push(y)):y.checked=!1}}catch(e){v=!0,m=e}finally{try{!p&&_.return&&_.return()}finally{if(v)throw m}}}}catch(e){c=!0,u=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw u}}}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}this.fileCheckbox=e,this.demandList=this.demandList.concat()},everyFileCheckbox:function(e,t,i){var s=i[0],n=i[1],r=(this.demandList[s],this.demandList[s].fileList[n],void 0),o=void 0;if(e){this.checkedList.push(t);var l=[],c=!0,u=!1,d=void 0;try{for(var h,f=a()(this.demandList);!(c=(h=f.next()).done);c=!0){var p=h.value,v=!0,m=!1,g=void 0;try{for(var _,y=a()(p.fileList);!(v=(_=y.next()).done);v=!0){var C=_.value,w=!0,A=!1,k=void 0;try{for(var b,I=a()(C.fileList);!(w=(b=I.next()).done);w=!0){var x=b.value;l.push(x.checked)}}catch(e){A=!0,k=e}finally{try{!w&&I.return&&I.return()}finally{if(A)throw k}}}}catch(e){m=!0,g=e}finally{try{!v&&y.return&&y.return()}finally{if(m)throw g}}}}catch(e){u=!0,d=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw d}}r=l.findIndex(function(e){return!e}),this.fileCheckbox=-1===r}else-1!==(o=this.checkedList.findIndex(function(e){return e.FilePkid===t.FilePkid}))&&this.checkedList.splice(o,1),this.fileCheckbox&&(this.fileCheckbox=!1);this.demandList=this.demandList.concat()},multipleDownload:function(){this.fromType=3,this.fileDownlod()},multipleCollect:function(){this.fromType=3,this.fileCollect()},fileDownlod:function(t){if(5===this.fromType)e('<a href="'+t.Url+'" download="'+t.FileName+'" target="_blank"></a>').get(0).click();else if(3===this.fromType&&1===this.checkedList.length)e('<a href="'+this.checkedList[0].Url+'" download="'+this.checkedList[0].FileName+'" target="_blank"></a>').get(0).click(),this.fileCheckboxAll(!1);else{var i=[];if(3===this.fromType){var s=!0,n=!1,r=void 0;try{for(var o,l=a()(this.checkedList);!(s=(o=l.next()).done);s=!0){var c=o.value;i.push(c.FilePkid)}}catch(e){n=!0,r=e}finally{try{!s&&l.return&&l.return()}finally{if(n)throw r}}}else 4===this.fromType&&i.push(t.Pkid);e('<a href="/EggsWebService.asmx/zipFileDown?stageId='+this.taskIds.stageId+"&taskId="+this.taskIds.taskId+"&demandId="+this.demandId+"&vals="+i.join(",")+"&type="+this.fromType+'" download="....zip" target="_blank"></a>').get(0).click(),3===this.fromType&&this.fileCheckboxAll(!1)}},fileCollect:function(e){var t=[];if(5===this.fromType)t=[e.FilePkid];else if(3===this.fromType&&1===this.checkedList.length)t=[this.checkedList[0].FilePkid];else if(3===this.fromType&&this.checkedList.length>1){var i=!0,s=!1,n=void 0;try{for(var r,o=a()(this.checkedList);!(i=(r=o.next()).done);i=!0){var l=r.value;t.push(l.FilePkid)}}catch(e){s=!0,n=e}finally{try{!i&&o.return&&o.return()}finally{if(s)throw n}}}else if(4===this.fromType)if(e.Pkid)t.push(e.Pkid);else{var c=!0,u=!1,d=void 0;try{for(var h,f=a()(e.fileList);!(c=(h=f.next()).done);c=!0){var p=h.value;t.push(p.FilePkid)}}catch(e){u=!0,d=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw d}}}var v={myUserId:this.userId,vale:t.join(","),type:2,idType:4===this.fromType&&e.Pkid?2:1,fatherId:0,iLevel:1};this.$emit("handleCollect",v),3===this.fromType&&this.fileCheckboxAll(!1)},sizeChange:function(){for(var e=0;e<this.demandList.length;e++)for(var t=this.demandList[e],i=0;i<t.fileList.length;i++)this.countFileMore(i,e)},countFileMore:function(t,i){var s=this;this.$nextTick(function(){var r=e(".group_file").eq(0).width(),a=Math.floor(r/s.fileBoxW),o=s.demandList[i].fileList[t],c=[].concat(n()(o.fileList)),u=c.length;if(u<=a)return o.packUp=null,void(s.demandList=s.demandList.concat());o.packUp=!1;var d=u-a,h=[].concat(n()(c)).splice(0,a-1),f=[];[].concat(n()(c)).splice(a-1).map(function(e){return f.push(e.UrlMin)}),f.length>3&&f.splice(0,3),h.push({FilePkid:"group"+t,FileName:null,UrlMin:f,FileType:null,userName:null,overLength:d+1}),s.demandList[i].fileList[t]=l()({},o,{overList:h}),s.demandList=s.demandList.concat()})},addFileAttr:function(e){var t=e.Type.length,i=e.FileName.slice(0,e.FileName.length-(t+1));console.log(i);var s={checked:!1,hover:!1,edit:!1,FileTitle:i,FileType:this.getFlieTyle(e.Type)};return 1!==s.FileType&&(s.UrlMin=this.fileTypeImg[s.FileType].src),s},searchIndex:function(e){for(var t=[].concat(n()(this.demandList)),i=0;i<t.length;i++)for(var s=t[i].fileList,r=0;r<s.length;r++)for(var a=s[r].fileList,o=0;o<a.length;o++){if(s[r].fileList[o].FilePkid===e)return this.enterTheDetails(o,r,i)}},setData:function(){this.demandList=[].concat(n()(this.list));for(var e=0;e<this.demandList.length;e++){var t=this.demandList[e];t.createTime=this.format(new Date(t.createTime),"MM/dd HH:mm");for(var i=0;i<t.fileList.length;i++){this.$set(t.fileList[i],"packUp",null),this.countFileMore(i,e);var s=!0,r=!1,o=void 0;try{for(var c,u=a()(t.fileList[i].fileList);!(s=(c=u.next()).done);s=!0){var d=c.value,h=this.addFileAttr(d);d=l()(d,h)}}catch(e){r=!0,o=e}finally{try{!s&&u.return&&u.return()}finally{if(r)throw o}}}}11===this.noticeType&&this.noticeFile&&(this.searchIndex(this.noticeFile),console.log("相关需求~~~~",this.demandList,this.noticeType,this.noticeFile))}},created:function(){this.setData()},mounted:function(){var e=this;window.onresize=function(){e.sizeChange()}}}}).call(t,i("L7Pj"))},NeAH:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcQAAADhCAYAAABWScUuAAAACXBIWXMAAAsSAAALEgHS3X78AAAY90lEQVR4nO3dW4xd1XnA8Q9C8GU8njGxjSFVmRaqSFEr3Kfz0AhQH5sHiFopF5XYQEA0QsVUqInkVvZIHHhI1Y5VVWoTGs8k4SFKpRglgxRVBI/KQ6yqAlqRFkEFQ2iKCiacYMWmkFLt47XGZ86cy76stde31vr/JCsSiuwzZ2b2/+y9v7X2ZR988IEAAEZbXJXb/uk/5IvvXJCHzxyV07xN6SKIADDC4qrcIiLHReTmMy+JnD3X//+sFf+NMKaJIALAgMVVWTAhPGT/60AQrRUTxld479JBEAHgYgjnReSIiBwbfj9GBNEijAkhiACyt7jaD2FxVjg36r2YEERrUUSWzhyVt3N/L2NGEAFkqxiYKUImItdNeg9KBLHQM38XYYwUQQSQncGBmTJfe8kgWj1zGXWJn6y4EEQA2Rg1MFNGxSBa6yaMy/yExYEgAkjepIGZMmoG0SrCeJilGvoRRABJmzYwU0bDIFqsYVSOIAJIUtmBmTIcBdEqwnjkzFF5lp88XQgigKRUHZgpw3EQLdYwKkMQASRjcVUOi8hJ11+PpyBahFEJggggKeYMcdnFpVLLcxCFNYw6EEQASTJni8cV3kOchDAGRBABJG1xtR/FIwqmTKvomcEb1jC2iCACSN7AOsRaYQwQRIvF/S0iiACy0fJONS49Z84YWcPoEUEEkB0TxmVPe5n6xOJ+jwgigGyVXbOoKIjWmtkOjqUaDhFEANmbtquNwiBarGF0iCACgDFuqYbiIFor5h5j60s1Ot2N+7LLsV/KJYgAMGDURGoEQZS21zB2uiOfIPK4CXOUZ6wEEQBGMGEsznzujySIltcwDoRw0hKWxRg3FyCIADBBMZH65PPy8LvvyWcje5+crmEsGcJB0W0uQBABoIROVw6aMy9nT9FoSaMw1gjhsGiWihBEAKig03X/eKmWVFrc7yCEw4IN/pRFEAGghk7X3ebhLZt4xuYhhIN65t7icY1vDEEEgAY63X44jnuIh2+bJkI9h3DYuvm3T2l6QwgiADTUckxcKy5lFmeLIc52Ve24QxABwBETxqWqm4dDTpjLuEHvLxJEAHBsYPcWwlhe8GUaBBGAc8XeoG+8I1/+5/+UAzk/zy/iidSQgj3qiiACcGbw6RG/eFfWT//7xj2pdXMpcTm23UtcMGFcjnAiNaTWt4EjiAAaW1zdumh9KIhWq/ttahPxUo1QWv15IYgAapv0BPoxQbRyD+PxSCdSQ2llmcblqt8CACoVG18vrvYvAb5cc3Bkzjwl4ZUiDmY6MxtmYfqC2QS7x0/5VMUHq4O+/xHOEAGUNurRSONMOUMclu0ZIxOpU7X2EGSCCKCUxdVql/kqBtHKPYzLTKRuaH3RPkEEMNG4p8hPUzOIVs/EYSnWh83WxVKNcE/HIIgARirWEpqztVpRaxjEQa1dMtOk0232/kco+P6mBBHAJoNrCZu8Mw6DaGUZxt/9C/niby/IH796Vva++qZ8RMFLcs3pg4ybIIgA+katJWzCQxCtbMJolrX07yu+8oas//i/kjpbVHe/+AoFrwFAQJPWEipVvM5DnW66YYzwe1KVis28hxFEIFNmCUXMT2ZILowZhFDMXqWnNE4RszAfyFcqi+GLeLzc6cpyp+t/8bYPRQgbbnQQkxtF5KlOV06biVo1uIcIZM7XWYnHe4jTBBvbr6rKe5/gPURLzRk+QQTQZw7OxSXUW128IwGDaKkNY50PIQkH0QoeRoIIYBPFyy7qUhPGJmfjGQRRQk+eEkQAIzUNo6IgWsHCOLAH7LG6f0cmQbSChJEgApiobhgVBtFqLYxVNkOfJrMgWj2ze00ri/YJIoBSqoZRcRAtb2F0GUIr0yBarexmQxABVFI2jBEE0XJ2sPURQivzIFrr5gkYXs7uCSKAWqaFMaIgWrXD6DOEFkHcxMvZPUEEIvXpr8rvffseeSL0qx8XxgiDaJUOYxshtAjiSGvmHuOzLv4ygghE5u5vyqN7Z+XQT87KFS++7vaA0MRwGCMOojU2jG2G0CKIEzlZw0gQgQjc/nW5bmabrOyblZuu+JBcVrziF1+/+MdQs1myDeMv3pWFyINobQpj3QcmN9ViEHvmf1sJvWMr5gNird8DgggoNiqE1lAQxRzIigP3koavqLik+8ob8qepPPn9+v3yzMeulatCPbC3pSCumLPe+Yg3Ga+9hpEgAgpNCqE1IojWc+ZTsooty8wGzo13vgnt4x+V9YV94c54PQfxcfMzs+mSY6d76XmMnv5dnyqHkSACipQJoTUhiNbIg1wosYcx0SCWmtaM/HtXekiKIAIKVAmhVSKIovGp5Obguhzq0mNdiQWx1nq+TlduMz9PSU4PE0QgoDohtEoG0Vo3Z4untHy/O90wwyl1JRJEJ5sQxPa9GzL2lgJBBAJoEkKrYhAtNcs0rFgOrpEHsWeuEhx39Xo63faXnji25XIxQQRa5CKEVs0gWmqWaVjawxhpEL1fMjdhLL5v9/v4+1uwZi4fv0IQgRa4DKHVMIiibZmGpTWMEQax1QfumonUWJdqFD5FEAGPfITQchBES9UyDUtbGCMKYtDp4k5XDpqz0lgmUjfurxNEwAOfIbQcBtFStUzD0hLGCIIY7AHIo0SwVGPLfVWCCDjURggtD0EUjcs0rNBhVBxEdRPEg5ReAh+5xRtBBBxoM4TWmZdEzp7z9terPciGOsAqDGIrD811pdPtT6MeDzyROnHKmiACDYQIoeU5iJa6ZRpW22FUFES1Z/HTBFyqUeoDHkEEaggZQqulIFrqlmlYbYVRSRCXYwzhMBPGpRYmUiutvySIQAUaQmi1HETRukzD8h3GwEHsL6E49kldA09NeV6qUflRUAQRKEFTCK0AQbRULtOwTBiXXF+SCxTE/qLx1EI4zPFEau3L/AQRmEBjCK2AQbRULtMQT/eqWg7imjkjVPmhw5eGG783HgQjiMAImkNoKQiiaB/wcBnGloK4bkIYxeSoLxUvfzvbp5UgAgM+f1I+sfNKeUhzCC0lQbS0r4VrHEbPQSwO6kdyD+GwTrcfuUnfs8r3CSchiIAJ4dwOWd47K9fH8n4oC6KldpmGNAyjpyBunGEf+2Tck6O+jPmeefk5I4jIWowhtJQG0VK7TENqhtFDEE+Yy6OEsISBidRTvq5EEERkKeYQWsqDKNqXaUjFMDoMYpJLKFJAEJGVFEJoRRBES/UyDSkZRgdBXDP3CVVeTgZBRCZSCqEVURAttcs0rElhbBDELJdQxIggImkphtCKMIgSyz6co8JYI4gsoYgMQUSSUg6hFWkQLdXLNKzBMH78o/J2ySD2TAjV3jvFaAQRSckhhFbkQbRUL9OwijD+5q/Il351r/zRhOEbllBEjiAiCTmF0EokiJbqZRrW4urYe4wrZmCGEEaMICJqOYbQSiyIEsMyDcuEsVgTN88SinQQREQp5xBaCQbRUr9MA2kiiIgKIbwk4SBa6pdpIC0EEVEghFs99WOR8/+r7VU5F8UyDaSBIEI1QjjeE3ntdxLFMg3EjSBCJUI4XWZBtKJYpoE4EUSoQgjLyzSIVhTLNBAXgggVCGF1mQdRYlqmgTgQRARFCOsjiBtYpgEnCCKCIITNEcQtWKaBRggiWnXHshzZtV3uI4TNEcSRWKaB2ggiWlGEcM8uOTa3o7/VFRwgiBOxTAOVEUR4RQj9IYilsEwDpRFEeEEI/SOIlbBMA1MRRDhFCNtDECtjmQYmIohwghC2jyDWxjINjEQQ0QghDIcgNsYyDWxCEFELIQyPIDrBMg1sIIiohBDqQRCdYpkGCCLKIYT6EEQvWKaRMYKIiQihXgTRK5ZpZIggYiRCqB9B9I5lGpkhiNiEEMaDILaGZRqZIIjoI4TxIYitY5lG4ghi5ghhnH5+XuTpF3J/F4JgmUbCCGKmCGHc3jon8qOXcn8XgmKZRoIIYmYIYRoIohos00gIQcwEIUwLQVSHZRoJIIiJI4RpIogqsUwjcgQxUYQwbQRRNZZpRIogJubub8qje2bkczPbZEfu70XKCGIUWKYRGYKYiCKEe2fl0PYPyxW5vxc5IIjRYJlGRAhi5AhhnghidFimEQGCGClCmDeCGC2WaSh2ee5vAAC06GYReabTlaVOl4E3bThDjNy9j8npfbNy0xUfkstyfy9ywhliElimoQxBTMDtX5frZrbJyjXz/U+fyABBTArLNJQgiAn5/En5xNwOWd47K9fn/l6kjiAmiWUagXEPMSHfuEOe/uvPyA0vvyGf6Z1nxBuIzLz5g0A4Q0xYsVvNgXn5CpOo6eEMMSksyVCCIGaAJRrpIYhJYKhGGS6ZZuBrt8sXXntLbvjvt2Xt/V8Kn4CA8BZFZIEY6sIZYmaKidTZ7XLq6jk5mPt7ETPOEKO1Ys4KGZxRiCBmionUuBHE6KyZELK0QjGCmDkeExUnghgNBmYiQhDRd9eKPLJ/Th5k8CYOL75+8Q/UYmAmQgQRmxQTqQfm5E62gtONIKq2yOOe4kQQsYXdCo49UvUiiCoxMBM5goixijDO75QnGbzRhyCqwsBMIggipiomUvfOyvcYvNGDIKrAwExiCCJKYyJVD4IYFAMziSKIqIyt4MIjiMEwMJMwgoja7vmWfPfq3XIrgzftI4itY2AmAwSxguLM6Ofn5cK375H7onnRnjGRGgZBbA0DMxkhiFMMH/DNgWjd/JIsq37xLWIruHYRRO8YmMkQQRyjOMDvvFIeGj7zGToQFb80h/n0eMnhZfn0Vbvkbxm88YsgetMzIeTDboYI4pBpZzpjDkRcVhlSTKTu2y0Pz2yTHapeWCIIonNFCJcYmMkbQTSKA/iu7XLftEt+Uw5E3HgfwkSqHwTRKX5v0Zd9EKuurSt5IDphfsH4pGnc+5icZvDGHYLoxJq5PPpsAl8LHMg2iMWZy54Z+VzVS3oVDkRcghliB5SumZebVb2wCBHERrj3j5GyC2LTS3g1DkTcpB/CRGpzBLEWfhcxURZBdLlWrsGBiDHuIWwFVx9BrISrNSgl6SCOWzrRhIMDEROpQ4owHpiXrzB4Ux5BLI2BGZSWZBB9XpJzeCB63Jwx8otqMJFaHkGcioEZVJZUEItF4bPbpevz3pSHAxGfYAewFVw5BHEsBmZQW1JBbONg6ulAxD2OIcX3cna7nLp6Tg6qemFK/OurIq+9lfu7sAkDM2iMS6YVef5kznPWhhTfyz0z8p2rZuSAqhcW2JmXRM6ey/otsPgwCWeSHqrxsa9mS5eq2Dx8CBOpmxHEPm43wKksll24nGJs+d7Nc+YyEPdDjLtW5JH9c/Jg7oM3mQeRgRl4kdXC/GKK8cCc3Nnk/mKgYQYOAENcfC9jlmkQGZiBV9ntVNN08CbwdB+XiAbkPJGaWRAZmEErst3LtO7gjZJx90WGCC7JcSu4TILIwAxalf3TLqoO3iha/8XBYkgRxr2z8r0cBm8yCCJXQ9C67INolR28UbggWs1Eaqcrt2i4v5PDRGrCQeR+OYIhiEOmDWso3iEk2MBBpyuHiyiLyHVmMvawhgNaylvBJRhEBmYQHEEcYdKwRgRbZrW2efhQCIepuc95z7fku1fvlltTGrxJKIisuYUaBHGCUcMaEe0h6WXz8E63fxmyCOGRMSEcpOZTf2oPJ04giNwDhzoEsYTBwZsIN1VeMWFsdNAxITxi/syFeA0upDKRGnkQ1fw8AIMIYgXFsMa5d+XPXn1TPhLNi76o9qfxhiEcfg1q1pL52NavTZEGcc1cMWByFCoRxBrMvbOlhoEIoXSUOl1ZMBE87PjrVHVQLD7k7NstD89skx0KXk5pkQWRLQgRBYJYk8MzpxDGDjKYEBaDMoc8vq6eOVs9ruUNiW0iNZIgMjCDqBDEhloKiC8bE6mBvg41SzSsex+T0zFsBac8iAzMIEqtBLGY8PufnvzWDx6Q76f6Y2KCUnwSjnGKsQjTjQH//RMmzCoOnjE8nFhxEBmYQbS8BnFwPd+/vCyXnT2n74zAtWK3FvPpOGRgYrRuDqSntLx2zROpCoPIwAyi5yWIxYFk55Xy0OClp6Ff4EVN9498mLJoHeM9bg6sas4wNG4FpyiIDMwgGU6DOOkT9Yhf4OR/kSIfvAmpZy6hLml6US4fNN2UgiAyMIPkOAlicaDYtV3um3RpacIvsKr7Rz6YMC5FOngTksqNnjVMpP7jv4m898sg/zQDM0hWoyBWuZQ05RNtFhv7Rj54E5K6S+yhH078RJiPCAzMIGm1glh8Qp7dIb9f5Z5KyUs8WfzCMXhTi8oPTUUY53fKk20P3rQcRAZmkIVKQWxyqajCPY+e+eVTM23oC4M3la2cOdp/z9Qp7p/vmZHvXDUjB9p4bS0FkYEZZGVqEO2loT0z8jtN7pnUGAJQN23oA4M3pUTz9PS2JlI9B5GBGWRpbBBd3yOpORWnctrQBwZvRoomhMPuWpFH9s/Jg74GbzwFkYEZZG1LEO3Sifmd8usuhwUajolncw+DwZu+aEM4zNfDiT0EkYEZZG8jiL535XCwbiqbs0XJd/AmmRAO8jGR6jCIDMwAxmWHTn7QynPhHC4kTn77N6t4Zt//fSB/98JPk7+3mGQIh7n80OkgiAzMAEOieNTNkOKM6ZlON93t3+xgxq/tu/gh5YWfhn9NnmQRQusbd8jTInJDEca9s/K9QFvBMTADjLFxydTXvQ7L01ZTSX3KHTehGGgRtk9ZhXCcJhOpNX4m1D2DEtDmcvt6vvqH8qn1s3JT73xUN9WLs8WnOl1ZMlOaUSomEv/kH+RnC/vkrzRtIO1JcWAuQpj98MbJw7L0l38ge157S/7+wnvyvsd/qtgecYEYApONXHZRHKCv3SNfUjRlWkZ027+V3eggwTNEyW1IqowqDycu+TPxuLmCwsAMUMLEdYgut6RqcXd+9ePjVXf8STSIFve0BtiJ1GvmJy+7mfIzsWbeUwZmgAqm7lTj6pE3LT+uRt32b8WBbvuH5c/rbH2XeBAtDuIDpk2kjvmZ4MMF0ECpvUyLg/nsdjl19ZwcrPtPBXp+W/Dt31ysQcskiJbKRz6FUiy9GbUsauhngoEZwIFKm3sXv5z7d8vJmW2yo+o/HfCBpkHuVblcjJ1ZEC0mUQcUV2r27ZaH7e/ewM9E8s8TBdpS6/FPVW7+Wwqe8N3KjhzFpa6dV8pDSnclidEie2teYu8///B5WWVgBnCr9gOCqy4uVhBE8Xm26HPru8yDKFwSBNCGRk/MF/OJ9cCc3DntbEhJEC1n27/53gNWCOIghkYAeNM4iGLul121S3406eGoyoJo1d7+rY0QWgRxi+jWnALQz0kQrUnPgFMaRKm6/VtbD4AdRBDHYqkGAGecBlEmLNFQHERr4rReiBBaBHEqJlIBNOY8iNbwmHgEQZRRl+JChtBqKYg982Di20Tkulb+Rfd4yC2A2rwF0SqWaBTbUEUSRKs4sJ7+2LWydP3+8M8i9BzEnnkQ8cbShk63f1/1iEiUz2Hc8vUAQBnegyhmQf9PzsoD5y5IJ6bvym8cuPgnNE9BnBgO8/SQIoz3h38HaumZs0UmUgGU0koQrU63f9ZxPJYzj0SDWOkMqtOVBfP/v9Xpq2jPugmjmn1tAejUahAlsgNsYkFsdCmx05VbzIeZiU9hUIyJVAATtR5Eq9PtD28saz5bTCSITu+pdbpy2IQx1sGbVrbwAxCfYEGUS/epioP1IY3vXORB9DpcEvngjbBUA8CwoEG0zOW4ZW1nHZEGsbUpy0QGb5hIBdCnIohy6eBanHEcU/By+iILYrCDewKDN2weDkBPEK1Ot7/DTXG2eGPo1xJJENWc5SQweMPm4UDG1AXR0rBEQ3kQ1R68Exi8qbS/LYA0qA2iXLoUtxzqjENpEKM5i0lg8GbNhJHdZIEMXK75SywmAM8c7V+Gu8NcGsxZEcI7zhyVhVgu6Zl7cgtm4/QYvW3+AMiA6jPEQWboZrnNwQ0NZ4gX3pP3f/i83B37fa3IBm/Y3QbIUDRBtDrd/kG1lTH/kEEsQvjmO7LytdvlC2FegR8RDN4ssgwDyFN0QZQW1y2GCGKqIRymcPCGHWyAzEUZRGlp3WKbQcwlhMMUTBNzeRRAX7RBtMy6xSUfl+DaCGKuIRwUcFOGE2Zil8ujAOIPouXjTMNnEAnhVmbw5ngLe9uynALAFskEUTxMovoIIiGczuPgDQ8NBjBWUkG0XA3duAwiIazOPCJsydHgDZdHAUyUZBDF0X0pF0EkhM01vBz+nJke5fIogImSDaLVZOimSRAJoVs1PuD0zBnhUixfI4Cwkg+iVecso04QCaFfJQdvVsy9Qi6PAigtmyBKjaGbKkEkhO0aM3jDUyoA1JZVEK2yQzdlgvjue3LhjXfkMUIYhhm8KcK4zOVRAE1kGUQpeU9qUhCLEPbOy4m/+ax82ePLBAC0JNsgWpOGbkYFsXde3v7ZOVk8eZizEQBISfZBtEYN3QwGkRACQNoI4oDhoZsihvvnCCEA5IAgjmCGbo7M75RHf/CAfF/dCwQAuCUi/w8eaYdNz6OQtgAAAABJRU5ErkJggg=="},"O/7O":function(e,t){},OXxz:function(e,t){},P9l9:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__=__webpack_require__("ZLEe"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__=__webpack_require__("aA9S"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__),MyApi={install:function(Vue,options){Vue.prototype.$HTTP=function(e,t,i,s){if(s)var n=this.$loading({target:s,lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(255,255,255, 0.3)"});var r=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({},i);for(var a in i)i[a]=encodeURIComponent(i[a]);if(r.key="4951841F25AF0C695331B3F3C0369089",i.sign=objSortJoin(r),"post"===e){var o={method:e,url:"file"===t?"/img.ashx":this.global.urlPath+t,data:this.$qs.stringify(i),headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"file"===t?"application/x-www-form-urlencoded":"application/x-www-form-urlencoded; charset=UTF-8"}};return this.$axios(o).then(function(e){return s&&n.close(),e.data}).catch(function(e){s&&n.close()})}if("get"===e)return this.$axios({method:e,url:this.global.urlPath+t,params:i,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){return e.data})};var UTF8=function UTF8(str){if(window.TextEncoder){for(var encoder=new TextEncoder("utf8"),bytes=encoder.encode(str),result="",i=0;i<bytes.length;++i)result+=String.fromCharCode(bytes[i]);return result}return eval("'"+encodeURI(str).replace(/%/gm,"\\x")+"'")},objSortJoin=function(e){for(var t=function(e){for(var t in e)e[t.toUpperCase()]=e[t],delete e[t];return e}(e),i=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(t).sort(),s={},n=0;n<i.length;n++)s[i[n]]=t[i[n]];var r="";for(var a in s)s[a]=encodeURIComponent(s[a]),r+=a+"="+s[a]+"&";return r=(r=r.slice(0,r.length-1)).toLocaleUpperCase(),r=(r=Vue.prototype.$md5(r)).toLocaleUpperCase()};Vue.prototype.format=function(e,t){var i=e.getFullYear(),s=e.getMonth()+1,n=e.getDate(),r=e.getHours(),a=e.getMinutes(),o=e.getSeconds();return s=s<10?"0"+s:s,n=n<10?"0"+n:n,r=r<10?"0"+r:r,a=a<10?"0"+a:a,o=o<10?"0"+o:o,t?"yyyy-MM-dd HH:mm:ss"==t?i+"-"+s+"-"+n+" "+r+":"+a+":"+o:"yyyy/MM/dd HH:mm:ss"==t?i+"/"+s+"/"+n+" "+r+":"+a+":"+o:"yyyy-MM-dd HH:mm"==t?i+"-"+s+"-"+n+" "+r+":"+a:"yyyy/MM/dd HH:mm"==t?i+"/"+s+"/"+n+" "+r+":"+a:"yyyy-MM-dd"==t?i+"-"+s+"-"+n:"yyyy/MM/dd"==t?i+"/"+s+"/"+n:"HH:mm:ss"==t?r+":"+a+":"+o:"HH:mm"==t?r+":"+a:i+"-"+s+"-"+n+" "+r+":"+a+":"+o:i+"-"+s+"-"+n+" "+r+":"+a+":"+o},Vue.prototype.conver=function(e){var t=(e<102.4?e.toFixed(2)+"B":e<104857.6?(e/1024).toFixed(2)+"KB":e<107374182.4?(e/1048576).toFixed(2)+"MB":(e/1073741824).toFixed(2)+"GB")+"",i=t.indexOf(".");return"00"==t.substr(i+1,2)?t.substring(0,i)+t.substr(i+3,2):t},Vue.prototype.getSuffix=function(e){var t=e.lastIndexOf("."),i=e.length;return e.substring(t+1,i)},Vue.prototype.getFlieTyle=function(e){return"png"===(e=e.toLocaleLowerCase())||"jpeg"===e||"jpg"===e||"gif"===e||"bmp"===e?1:"doc"===e||"docx"===e?2:"xls"===e||"xlsx"===e?3:"psd"===e?4:"ppt"===e||"pptx"===e?5:"pdf"===e?6:"mp3"===e||"wma"===e||"wav"===e||"ogg"===e||"ra"===e?7:"wmv"===e||"avi"===e||"mpg"===e||"rmvb"===e||"mp4"===e?8:"zip"===e||"rar"===e?9:"ai"===e?10:"txt"===e?11:"folder"===e?12:0},Vue.prototype.timeDiff=function(e){if(!e)return{state:"",date:""};var t=new Date(e),i=new Date,s=i.getTime()-t.getTime(),n=Math.abs(s),r=Math.floor(n/864e5),a=n%864e5,o=Math.floor(a/36e5),l=a%36e5,c=Math.floor(l/6e4),u=l%6e4,d=Math.round(u/1e3),h=t.getFullYear(),f=i.getFullYear(),p=t.getMonth()+1,v=i.getMonth()+1;p=p<10?"0"+p:p,v=v<10?"0"+v:v;var m=t.getDate(),g=i.getDate(),_=t.getHours();_=_<10?"0"+_:_;var y=t.getMinutes();y=y<10?"0"+y:y;var C=new Date;C.setDate(C.getDate()-2);var w=C.getDate();w=w===m&&C.getMonth()+1===parseInt(p);var A=new Date;A.setDate(A.getDate()-1);var k=A.getDate();k=k===m&&A.getMonth()+1===parseInt(p);var b=new Date;b.setDate(b.getDate()-3);var I=b.getDate();return I=I===m&&b.getMonth()+1===parseInt(p),h!==f?h+"/"+p+"/"+m+" "+_+":"+y:r>=3||I?p+"/"+m+" "+_+":"+y:w?"前天 "+_+":"+y:k?"昨天 "+_+":"+y:0==r&&m==g?o>0?c>0||d>0?o+1+"小时前":o+"小时前":c>0?c+"分钟前":"刚刚":void 0}}};__webpack_exports__.a=MyApi},Q6aR:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARYAAAClCAYAAACZZNIgAAAfZUlEQVR4Xu2dCZCV1ZXH/83abM2+CTQim6yySdOAtGyCaFxBdGZSOpkxTqZ0ZhIzKUsnNaloopPS1ExZiWOFaCWWSRx3NC4gAoossjYgq4A00Ow0NM0my5v63eenoODrbu57fPdxblVD93vfd96955z7u+fe9945OZJU8HCiq2rosURCYyTl8Zg104BpwDRQBQ2U5+ToPZ3SAwt+mrM+Z9DDie51a2v+faPU5NreUl69KoiyS00DpgHTgKTyI9LbK6Un39f+Y8c1JKfgF4mXfzhGt0webPoxDZgGTAPnp4E/zpN+O1Ov5Ax+JHFg+o+Ul+5I5fjx46pdu/b59druNg2YBmKtASKXsb9WBWBJLHgo/X01sKRfx/YKpoE4aKDgF5KBJQ6WsD6YBrJIAwaWLDKmDcU0EBcNGFjiYgnrh2kgizRgYMkiY9pQTANx0YCBJS6WsH6YBrJIAwaWLDKmDcU0EBcNBAGW4yelz49LDXLPrbaTp5LP1ZCUwz+SEvz+tVv2H5HKDkntGkt1akuJhHTgsNSkQfLCisNSw/oxMc+xMunkMal+m2p1qLi4WJ999plyc3OVk5PjfhKJhCoqKjRw4EB17NixWnLtJtNAKg0EAZbVW6QZa6V7+RbTWdpvp0vjr5Aa1pX+PF/613FfgCUhvblM2lYmbd0ndW4hVRyVTki6u0hqWE96Yb5Ur47UL1+atkJ6f5U0eYjUqYXU90LPu6VPSPvXSSOfTmXHbzy/ceNGTZ06VYMHD1adOnVUo0YN1axZ0/2/fft2bdiwQXfddZfq1bPvb1RZuXZDSg3EGizHT0hTl0pzP5VKyqRxvaQjx6XvXy3VrZUc2+pt0n+/Kz39veTf9zwr3TlcGto1+XfxFmnKbKlWjnTzIGnRBumfR0u5daUjn0tTZkpdW0snTkgvL5WuyJe27ZImDpEKvpCRSotEATt37lSbNt+MLHi8ZcuWbkKnbImTUk7NL0KnEuntydKhbdJ1r0ktB3xBy9Ou+RaBixcv1v79+zV69GiVlZUJ0Gzbts31pbCwUK+88oqGDx+uVq1apeyWXWAaqKoGYg0WBvPRemnlFmnDbmlSgfQ/06Rr+0h/WyiVH5V+9Lx011VS99YSu6Fd5dLPXpX+63apSytpx37plYXSjgPS4ZPSmB7SyB5S3drS7NXSUzOl7m2kjs2lkr3SmN7Jx+4pkkZcXjl1Apbnn39ejRo10o033vjlTe+++65KS0t15513Vg4sxyukpb+WKrZIh7ZLZWuTshrlS816yo2w1/elFlek7Njy5cu1ZcsWB5ajR486yJSXl6thw4ZuCwRYRo0apebNm6eUZReYBqqqgViD5ZNt0qqtUtvG0trt0j+MlP53hvTsHGn6T6QVJdL8DdL9E6QH/iL9zVCpb7703EdS2UHpX8ZL60ql/1sordgq/XichMzFJdLjt0s5OdLPX5O6tZUGdJBeXyy1by4dPSn1bCtdVUmwoHTOLZ5++mn179/fTdh58+Zp9uzZuueee9S0adPK2SVxSlr1e2nOj6Va9aQGbZOnRkd3S0f2SX3+SRr0oJTbLKU8wMKW56qrrtKePXtUUlLiIAdIeOzNN99UUVGRgSWlJu2C6mgg1mD5/Syp5yXSqu1Su6bS+L7SX+ZKy0qkzq2lvx8h1aopvbNcWl0q/XC8NHWxdMPA5GEvh7Pz1kt/mC+1yZNOHJN6tktGJjcNklo3lu59ThrVXbppoPTxRul4InmQO6Jb1dV5+PBhPffcc+4sg+9F3XHHHWrSpEnVBa37s7TgZ0nycfzMFqnvfdIV91VaVhSxjBkzxkUsBw4ccBFLgwYNlJ+fbxFLpTVpF1ZHA7EGC3CYvUZ6aeFXZyg/f1X6u0KJI4tLW0kbdkmPvSH9+DqpUa507x+l6/tJ3xshnUpIM1cl/y/qJv15ntS1nTRrlfSPV0u8k/TWcqlBLenzk1KNHKlNU+nYCal9Y6lZI6lDFXcKhw4d0rPPPuugUu1txu5i6Z2J0rHy5EBVUxr7B6nD6ErbeMmSJW77M3LkSO3evVubNm1yZywtWrTQiBEj9Nprr2no0KF2xlJpjdqFVdFArMGybLP02FTpP2+VWjaSHnpRat5I+uWkr4b46FRp3XZpSFfpyAnp8OfS1r3SE3dIm/dIU2YlIQJAOKD99+uk37yXfNensEvyXaS83GRk85MbpFOnpIenJh/7jxuTr5vxxrtBxU9K/f5NqtdKWvyYlD9WGv74Wd5AP3vv1qxZoxkzZoiIhbeZT5486d5qrlWrloDf/Pnz9d3vfteduVgzDfjWQKzBAhga1JVaNEoeys5ZmzxcPT1vzKGjyYikdo3kOz00rm1cP/kZldwv0r+8sVQa1Elq+8XO5PCxZDAQPb+vQmr2xRxbtkVqVl/Kr2K04s04pR8mtz/trk6K3L1UOrJb6jDmqw/ppHgxIMIZD+cq9evXd4fH/PD4vn373FlQ3759vXXZBJkGTtdArMFipjINmAbC1ICBJUy7Wa9NA7HWgIEl1uaxzpkGwtSAgSVMu1mvTQOx1oCBJdbmsc6ZBsLUgIElTLtZr00DsdaAgSXW5rHOmQbC1EBGwfL555+7D2hla4tynpziU3bWztCA6ebicojCR2tkrvwH36WpVPqAQG3Ah8+ACt8VsnamBkw3F5dHFD2RmzmwZHvBshMnTrgvH1rypG9OIoB77Ngx081FwpeMboUuBrAAF1JBWjtTA4CFrbDp5uLwDAOLRzsDFQPL2RVqYPHoaAGIMrB4NJKB5dzKNLB4dLQARBlYPBrJwGJg8ehOQYsysHg0n4HFwOLRnYIWlRVgYUJ/8sknuvTSS7V27VpX8oJG5jSy05PJjZy0devWde/akJqxWikjU5g6XWA5cuSIli1b5qoAkHF/165dat++vXr37u169P7777vH+ZsD0k6dOn2ZwIl8t+jgsssu08qVK9WlSxeXRY5k2rfffrt7+597eI53bdDh3Llz1axZM1199dUuSZSPlq1bIXSH7lu3bn2GmkisRTpQ9Mdnt0i0/vXGNWT5wy9JuIWO9u7d61KIYl8e53cSc7VtS/7jcFpWgIXE0I0bN3ZJol988UX17NlTvXr1cpMxmkz8/emnn7qk0tdcc01a3vZMF1hI2ISTMgZqBV1yySWudEe7du1cJrgXXnhBBQUFLkscmfl/8IMfOH3QZs6c6RI9AdLp06e75E44OboBQCTUXr9+vZ588kndfffdLj/uwoULHYwpE+KrqFm2gYU0n+QVBvJ8Pgsgo/MhQ4Y4WM+aNUu1a9d2+gPULGY8t3r1ape6dPz48Q4qJFpH5wMGDHBw+uijj9wi2L17d2c37EebPHlyOFSRFDRY+NDVe++9p82bN2vChAkuGmHVJSUjZTiY6BCfSYmxyZyGwVi109HSARZg+NRTT+mBBx5wNYFwNCITfmeyLl261IFh69atzkGBKxFb9FmaV199Vddee62D6ooVKxx8WEFvuukml/cWfbBavvzyy5o4caJIaRlNAHRJaksfLdvAgk8R9RERAmAWt7FjxzrAo8833njDFYoD3pSBufzyy93zq1at0jPPPOP0SkRNZIIf9+nTx4GG54A9kAFY2I0I87rrrvNhhozJCB4sQOXgwYNuwnXt2tUZg0mFsVlV8vLy3Gpx7733us9QPP44eWPT09IBFqAxZ84ct5Vhm0fERaZ9ohfKpJI0m5AZpyQqYfyAgxUR2ACT73znO+46ojcilihrPyvqlVde6fREJET9I1ZMdMrk6Nevn3veR8s2sLD9xDYAg+0O2xV01qNHDxdpfPjhh66IHWAhSgH26HPdunVO1/gnjxOxYE9SheLHVHkALPgtn+Bmi49dr7/+eh9myJiMoMFyupYwCMmhWREwKNnpMRyrLntgwn8cIKoOmA4NpwMs9BMnBY6E1R988IG6devmzluiiIXQedq0ae5MBOfEEalt9Ne//tXdx2pIZUT0wb1EdtzDioqePv74YxHZACNCekL8HTt2uFWVieGjZRtY/vSnP7mtKBD4env77bfFuRi6J2JG30QnRMosBo8++qjbjuMvQLxz585u4aAqJYsBxe8mTZrkYMW2lOjFIpZv8cJ0fPIWUHDGwLkKq/Fbb73lJh0ThtU6mlysGICFScT5RIcOHXzMlzNkpAssOCoTnJCZbR7hM6sfEKDoO9tBfmfMbG+IRIAEofott9ziAAKccGKuQ2dEd4CGLdHrr7/u5HKYy2SZMmWKA9SDDz7orTxItoGFrSM+FL1RcLojsC0aNGiQ0yHRCdEGWyd+sBH65T6iFc62OD/hb57/3e9+54Bz//33u+iGaJJF4NZbb/Xur+kUGHzEQqiIAZloGDGaVGyHOFgDLhiQyQRYCC+ZPKwSvlu6wMIYCJeJxBgH5ySscIyDQ0IcnMM/oMmenNUtevcocnwgwgrKKoijci/nKVdccYXbXhHZARvOBohq0CPQIgry8cXRbAILOuQgnIjubOVTeAOByDnS44YNG9wWlXM/3kXizAT/ZIvLlodtKjYjuuF59A1UWBSwBxGLbYUyHLGc/nJM7AuZliFdYDmXSpmsp0/60yNCohtfbxX7AHA2gQUI8wMUztaIPGjYhkUAO2CPqEImb+VT/pYFj3O/4uJiB3reiYvOa1hAeJeJczXO00L7jlXwEYsPp/clI9Ng8dXvTMjJJrBkQl+hv4aBxaMFDSznVqaBxaOjBSDKwOLRSAYWA4tHdwpalIHFo/kMLAYWj+4UtKiMguVCH66m21Ic1DFGPrBm7Zsa4MDTdHNxeEZGwcKHhi7kuzbpNilg4YfPjVg7UwOcsQBd083F4RnDf1U7czlvAYuPz0TE1TRMHn6yGZ7V1T1vt0bfU6quDLsvHA2MeLxu5sCCY2VzBnugwmdJLNw/+wSwrVA4YDjfnmZ0K5SOj/SfrwJ83m+Ht3Z469OfQpZlYPFoPQOLgcWjOwUtysDi0XwGFgOLR3cKWpSBxaP5DCwGFo/uFLQoA4tH8xlYDCwe3SloUQYWj+YzsBhYPLpT0KIMLB7NZ2AxsHh0p6BFGVg8ms/AYmDx6E5BizKweDSfgcXA4tGdghZlYPFoPgOLgcWjOwUtysDi0XwGFgOLR3cKWpSBxaP5DCwGFo/uFLSoiwYsfLuWn69/u5ovRvI4jS9Inu2aylrYF1joU/RlxighNv0iSTOvEVUboF9kiefb1NzD2KLrySRPigKy7dMudC4cS01ZWS/KjuuyAiwUeaK8AmUyyGxOYS9KLJAFnUadYkqSMjmpAhiVWKUmMpORAl88TukFsqFTVKo6rTJgocxrVKweUFC2g2JqUdFvCrhTBoL6P5Q2GTZsmOsKRcRKS0tdfSHGyjeF6S/1a6i8RwkJHkM+cKG+M1X6GM+iRYtc4SuKmFGSlXIhkdzqjLM69xhYqqO1cO+JDViYZKy6lEY4vbHykscFUJyrUbeFOjoABJgAFiYm91Abh1o7UQ1i6sFQr5gaO/zOas+kZhJGRdOp41KdVhmw7N271/WJ4u3UQ6LQGhXwmOw8Bhyp8UukAUyACGVOqQuEHqhHQ+1mngNIgAYAASTqV1OPhtISQIRGbWGqIAJOil9Rn2j06NGu6Fkmm4Elk9q+8K8VG7BQR4X6y0OHDnUFmmhMKgpqE0EAgrM1wMNEosZLVNyJKIBIBGhQi5jiZORIIWLhdfihGiJFpVjZiQSY1BSYooZLdVtlwAIQ2HJRR5nIZdy4cQ4wAIL+MAEZC1EHoGVs9JWSp0QmvAZVDQERxcS4hpKcVH8EOFyPXIqPAVaADVzQEzVqeB1Ayk8U0VV3vFW5z8BSFW2Ff21swIIqmRSAgMnGakzpTyY7hbbP1Qj/AQWRwDPPPOMmE8XN2QKwutOIZIhqqGHMJKP6H1smXovau6z2Tz31lCs3ej5bhMqABYjQV6rl8fttt93moivOQ/iheiMwBRrAh4qH6ICiVlwHSCgpCxTQE/8DRsBDY1uIPrgWuLBd4m9eC50QERIxAVBglKlmYMmUpuPxOrECCyohXGcSsWIzOb4NKpEKgQWTi9WZqITJxqSKqsdxxsAkIvyfN2+ek8m5yoIFC1z0wDaBSImC60RGTObqtMqAJTpfiSrjEVWxPQEeNLY89Kd///4OLMikfCzRDFshDnWHDBniIAyEgCQ643fuoVGjme1g1LiPms7os7Cw0NVpZnt1rkp+1Rl7qnsMLKk0lF3Pxw4sqJfoIqrHnErd1DPm4JJIg4NJtlFsGdavX++iEc4skMUZCtdSp/iaa65xZxhsndhusYVggjMB+ZsJGkU7qV7/9OdTgQVgECXxerwOUQaHr9EWkP4xdsBBFAUsqb1MFAYcAS5QBIb8cK5EX4lioq0SOkA2Wx7gQUSHfqLDXLZiwA3AALRMNQNLpjQdj9eJJViqohomESChsYoTpRCxsAWIVm+iFw5wgU1BQcGXB8REOhRI5zwGKPA/P0Q31ckmnwosp7/lC+z4OzrnYOIBFl4bGAARoo5ou8J4AAkNkESNrQ3RHfcgg/EATWQDWSDC49QG5jU5ZwFOmYQKfTWwVMWrw782eLDEyQSpwBKnvma6LwaWTGv8wr6egcWj/g0s51amgcWjowUgysDi0UgGFgOLR3cKWpSBxaP5DCwGFo/uFLQoA4tH8xlYDCwe3SloUQYWj+YzsBhYPLpT0KIMLB7NZ2AxsHh0p6BFGVg8ms/AYmDx6E5BizKweDSfgcXA4tGdghZlYPFoPgOLgcWjOwUtysDi0XwGFgOLR3cKWpSBxaP5DCwGFo/uFLQoA4tH8xlYDCwe3SloURkFy4VO6JxuS/F9mCgJdrpfK0T5fAObTH7Wsl8DGQUL+U6+niU/m1RMOgPgEmXGz6axne9YSGzFwmK6OV9NhnH/iMfrKmfwI4nEgofS32ESHZGgKFsbUAEuNnm+aWEDS7Z6/dnHNfxXtTMHlmzfCgEVxmjh/tnBQrIq083FAZiMboU4f8jm1dwOb+3w9uLARupRGlhS66jSVxhYDCyVdpYsv9DA4tHABhYDi0d3ClqUgcWj+QwsBhaP7hS0KAOLR/MZWAwsHt0paFEGFo/mM7AYWDy6U9CiDCwezWdgMbB4dKegRRlYPJrPwGJg8ehOQYsysHg0n4HFwOLRnYIWZWDxaD4Di4HFozsFLcrA4tF8BhYDi0d3ClqUgcWj+QwsBhaP7hS0KAOLR/NVFiz79+9XkyZN3Cvv3r3bpZJo3ry59u3bp7KyMuXn57vf+dJeq1at3PerSktL1axZM9WvX989zreFoy/08a3qkpIS1apVS23atNGmTZvUuHFjd29cmtVujoslMtMPA4tHPacCC5Nr8+bNWrx4sTp37uwgsWXLFpccasiQIVqzZo3mzJmj7t27OyisXr3aAWfkyJECRrt27XIw4Tpa+/bt1adPH5eqYfny5Q4stB07dqhp06YqKChQbm6uxxFWX5SBpfq6C/FOA4tHq6UCC9HJsmXLXEQCJPbu3atu3bo5sAAaEmFxDfBA1tatW13kMXDgQK1fv1716tVz0QrgqKioUIcOHdSpUycX5QAVJm9xcbF7jNw3vE4UGXkcZrVEGViqpbZgbzKweDRdKrCUl5frgw8+cMmumPhELGxv2AoBD6KOl156STfccIM2btyoOnXqOOjcfPPN2rZtm+tpx44dtW7dOrdVGjx4sLv3ww8/dBENcomAgAnyhw0bpi5dungcYfVFGViqr7sQ7zSweLRaKrAw+T/++GMHlMOHD4scsCNGjNDOnTvd1oUtzZQpUzR69GgXlbRo0UJ79uzRhAkTXBTDNorIZOHChS666dmzp/r27eu2RshDBpFNy5YtHVjYUrGVikMzsMTBCpnrg4HFo65TgYUty6xZs9SwYUO3lSHC6NGjh9v+AAAeO3TokPudLQ1nKGyZJk6cqLVr1zrYFBUVuYNagDNgwADX+yVLlrizFEC0aNEiDR8+3F0PWPLy8jyOsPqiDCzV112IdxpYPFotFViIIqKIhWiFd3aY+G3btnVQYNtDxMF5yzvvvONgwWNELCtWrHCRyIEDBxxYoneMunbtKrZYyGO7xDkMsthKcegbl1SQBhaPjhaAKAOLRyOlAktlXgr4cLYCdHJyctyBLP9zlsL/Bw8edP8T7QATtlVcz9aI7VD0tjWPERnFpRlY4mKJzPTDwOJRzz7A4rE7sRJlYImVOdLeGQOLRxUbWM6tTAOLR0cLQJSBxaORDCwGFo/uFLQoA4tH8xlYDCwe3SloUQYWj+YzsBhYPLpT0KIMLB7NZ2AxsHh0p6BFGVg8ms/AYmDx6E5BizKweDSfgcXA4tGdghZlYPFoPgOLgcWjOwUtysDi0XwGFgOLR3cKWpSBxaP5DCwGFo/uFLQoA4tH8xlYDCwe3SloUQYWj+YzsBhYPLpT0KIMLB7NZ2AxsHh0p6BFGVg8mo8McKQvIKUBqQ2sfaUB0kCgnyjht+kmuzVQ9ESucgY/kkgseCj9AyVpEaUssrURsTDGuCRXipOeAQvJqUw3cbJK+vpS+GgNA4sv9dpWyLZCvnwpdDm2FfJoQQOLgcWjOwUtysDi0XwGFgOLR3cKWpSBxaP5DCwGFo/uFLQoA4tH8xlYDCwe3SloUQYWj+YzsBhYPLpT0KIMLB7NZ2AxsHh0p6BFGVg8ms/AYmDx6E5BizKweDSfgcXA4tGdghZlYPFoPgOLgcWjOwUtysDi0XwGFgOLR3cKWpSBxaP5DCwGFo/uFLQoA4tH8xlYDCwe3SloUcGD5dixY19+Y5b6wDVq1LhgBkkFFvq6efNmdezYUatWrXL9btSokVq2bKnc3Fx99tlnYgytWrVyvx88eFCXXHKJ2rVr5+6rX7++2rZtq71794pvC7do0cKNlW9UI49vjrdv316ffPKJk9mlS5cLpouvv7DVbo6NKTLSkeDBsnHjRu3fv1+dOnVSSUmJjh496iYUE5bcHwsWLHBf12/durW2bNniHisqKkoLgFKBhcm1adMm1x/AASAOHTqkevXqady4cWrSpIkDCNCYNWuWduzYocLCQo0aNUo7d+501zO+devWuWuAzODBg52jIBeolpWVOflAqH///k52HJqBJQ5WyFwfYgOWAwcOuNW6adOmZ4yeiUfypGh1Pv1JJte2bdvc80w4JuKePXtcRNCzZ08Hl127drnnli9frssuu8xNuj59+qhOnTretVwZsJSWlqphw4ZauHChtm/f7gBAhEJkAjgAIJHKp59+qn379jlI9u7d242D8XAv4wSm3bp1c48BKRJLoQ8il/z8fB0+fFhdu3Z1suPQDCxxsELm+hAbsLDSskoPGzbsy8nA5Jg2bZpbeYHF2dqyZcuUl5fnoMHEZjUHKrQ1a9Z8uW1ge9C5c2cXIfTr1++c8s5H9ZUBy4wZM9zEZ6y0kSNHqri4WJMmTXLwAw5EVfQXyALC0aNHi20UMOExxgx8GAfbpDlz5rhxshUiKmvcuLG7Hl3GZTtkYDkfzwrv3tiABdWxms+dO1fjx493K/Prr7/uVt0IFOdSLys4E4kJxwQDMoMGDXLRDFsEohOAw4SuqKjQlVde6bZOvlsqsPB6u3fvduNkogEKtipEGZMnT3ZbGSI3IpClS5e6cTOG2267zcFm7dq1at68uQMR4yCSAZZEN5yzEO0gi+gHKDNeoBuHZmCJgxUy14dYgYVhb926VStWrHAaiLY036YOVm4mGrDgXiblgAED3KrN9oEJ16ZNG82cOVN9+/Z12yZW+QuxFSLn6+zZsx0ggCeTn60bACASYTtDRANEuJb+Mrabb75ZS5YscX0vKChwsOQ+xkwDQgCKH6IeoiAgO3DgQANL5uaSvdJpGogdWOjbhg0bVF5e7rZAqdr8+fMdJC699FIHFaKBXr16ue0UcpigrJYcinK2wqRm4jVo0CCV6Co/nypiYUwcNnMuQj8BQYcOHRxggB99jQ5fiTR412jlypXugJaxMCbuI0JjTIyBcxbuY4vH4TVRC5EP17AVikvyaotYquxOQd8QS7BURaNEJUQnHIQyKZlITHCiHSYwKzsTjm0Fz7NV4mwiHVn0U4HlbOMCCvTlbG+TE20xnsr0lbMZJi8VAk5/C74qukzntQaWdGo3frKDB0ucVFodsMSp/+nsi4ElndqNn2wDi0ebGFjOrUwDi0dHC0CUgcWjkQwsBhaP7hS0KAOLR/MZWAwsHt0paFEGFo/mM7AYWDy6U9CiDCwezWdgMbB4dKegRRlYPJrPwGJg8ehOQYsysHg0n4HFwOLRnYIWZWDxaD4Di4HFozsFLcrA4tF8BhYDi0d3ClqUgcWj+QwsBhaP7hS0KAOLR/MZWAwsHt0paFEGFo/mM7CcW5l8SZIvR5Lb11r2a8DA4tHGgIVvJKcj14vHbl4QUYDFdHNBVH9BXnToYzWVM/iRRGLBQ+l/fRyL9InZ2kiBQDKmuORAiZOeAQv6Md3EySrp60vRE7kGFl/qJWJh8pCgydqZGgAs5O813VwcnhFthQ5M/5Hy8tJcKSLbIxY7Y7HD24sDG98+yvIj0thfqyKn4BeJl384RrdMTpaoSVszsKRNtbEXbPlYYm8ibx18bp70m5l6JWfgLxOX59bQvPtGqcmEPlKjNB3cG1i82S44QQaW4ExW5Q4fPCq9tUJ68n3tP3pKhTlIGPRwonvNGvplIqGxkhpVWardYBowDVzsGjiYk6PpJ0/pwUU/zVn7/8DNvK0d7NK7AAAAAElFTkSuQmCC"},QK3a:function(e,t){e.exports="data:image/gif;base64,R0lGODlhIAAgALMAAP///7Ozs/v7+9bW1uHh4fLy8rq6uoGBgTQ0NAEBARsbG8TExJeXl/39/VRUVAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQAAACwAAAAAIAAgAAAE5xDISSlLrOrNp0pKNRCdFhxVolJLEJQUoSgOpSYT4RowNSsvyW1icA16k8MMMRkCBjskBTFDAZyuAEkqCfxIQ2hgQRFvAQEEIjNxVDW6XNE4YagRjuBCwe60smQUDnd4Rz1ZAQZnFAGDd0hihh12CEE9kjAEVlycXIg7BAsMB6SlnJ87paqbSKiKoqusnbMdmDC2tXQlkUhziYtyWTxIfy6BE8WJt5YEvpJivxNaGmLHT0VnOgGYf0dZXS7APdpB309RnHOG5gDqXGLDaC457D1zZ/V/nmOM82XiHQjYKhKP1oZmADdEAAAh+QQFBQAAACwAAAAAGAAXAAAEchDISasKNeuJFKoHs4mUYlJIkmjIV54Soypsa0wmLSnqoTEtBw52mG0AjhYpBxioEqRNy8V0qFzNw+GGwlJki4lBqx1IBgjMkRIghwjrzcDti2/Gh7D9qN774wQGAYOEfwCChIV/gYmDho+QkZKTR3p7EQAh+QQFBQAAACwBAAAAHQAOAAAEchDISWdANesNHHJZwE2DUSEo5SjKKB2HOKGYFLD1CB/DnEoIlkti2PlyuKGEATMBaAACSyGbEDYD4zN1YIEmh0SCQQgYehNmTNNaKsQJXmBuuEYPi9ECAU/UFnNzeUp9VBQEBoFOLmFxWHNoQw6RWEocEQAh+QQFBQAAACwHAAAAGQARAAAEaRDICdZZNOvNDsvfBhBDdpwZgohBgE3nQaki0AYEjEqOGmqDlkEnAzBUjhrA0CoBYhLVSkm4SaAAWkahCFAWTU0A4RxzFWJnzXFWJJWb9pTihRu5dvghl+/7NQmBggo/fYKHCX8AiAmEEQAh+QQFBQAAACwOAAAAEgAYAAAEZXCwAaq9ODAMDOUAI17McYDhWA3mCYpb1RooXBktmsbt944BU6zCQCBQiwPB4jAihiCK86irTB20qvWp7Xq/FYV4TNWNz4oqWoEIgL0HX/eQSLi69boCikTkE2VVDAp5d1p0CW4RACH5BAUFAAAALA4AAAASAB4AAASAkBgCqr3YBIMXvkEIMsxXhcFFpiZqBaTXisBClibgAnd+ijYGq2I4HAamwXBgNHJ8BEbzgPNNjz7LwpnFDLvgLGJMdnw/5DRCrHaE3xbKm6FQwOt1xDnpwCvcJgcJMgEIeCYOCQlrF4YmBIoJVV2CCXZvCooHbwGRcAiKcmFUJhEAIfkEBQUAAAAsDwABABEAHwAABHsQyAkGoRivELInnOFlBjeM1BCiFBdcbMUtKQdTN0CUJru5NJQrYMh5VIFTTKJcOj2HqJQRhEqvqGuU+uw6AwgEwxkOO55lxIihoDjKY8pBoThPxmpAYi+hKzoeewkTdHkZghMIdCOIhIuHfBMOjxiNLR4KCW1ODAlxSxEAIfkEBQUAAAAsCAAOABgAEgAABGwQyEkrCDgbYvvMoOF5ILaNaIoGKroch9hacD3MFMHUBzMHiBtgwJMBFolDB4GoGGBCACKRcAAUWAmzOWJQExysQsJgWj0KqvKalTiYPhp1LBFTtp10Is6mT5gdVFx1bRN8FTsVCAqDOB9+KhEAIfkEBQUAAAAsAgASAB0ADgAABHgQyEmrBePS4bQdQZBdR5IcHmWEgUFQgWKaKbWwwSIhc4LonsXhBSCsQoOSScGQDJiWwOHQnAxWBIYJNXEoFCiEWDI9jCzESey7GwMM5doEwW4jJoypQQ743u1WcTV0CgFzbhJ5XClfHYd/EwZnHoYVDgiOfHKQNREAIfkEBQUAAAAsAAAPABkAEQAABGeQqUQruDjrW3vaYCZ5X2ie6EkcKaooTAsi7ytnTq046BBsNcTvItz4AotMwKZBIC6H6CVAJaCcT0CUBTgaTg5nTCu9GKiDEMPJg5YBBOpwlnVzLwtqyKnZagZWahoMB2M3GgsHSRsRACH5BAUFAAAALAEACAARABgAAARcMKR0gL34npkUyyCAcAmyhBijkGi2UW02VHFt33iu7yiDIDaD4/erEYGDlu/nuBAOJ9Dvc2EcDgFAYIuaXS3bbOh6MIC5IAP5Eh5fk2exC4tpgwZyiyFgvhEMBBEAIfkEBQUAAAAsAAACAA4AHQAABHMQyAnYoViSlFDGXBJ808Ep5KRwV8qEg+pRCOeoioKMwJK0Ekcu54h9AoghKgXIMZgAApQZcCCu2Ax2O6NUud2pmJcyHA4L0uDM/ljYDCnGfGakJQE5YH0wUBYBAUYfBIFkHwaBgxkDgX5lgXpHAXcpBIsRADs="},QUwa:function(e,t){},QeED:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAACXBIWXMAAAsSAAALEgHS3X78AAABlElEQVRIie2WQYuCQBTHn6IQjGBSULBdokPSpUN9oN3vsOeNLvs1dr9PnYUOiYEeBGFya0BYdZY3W0FmsmrtqT8I+mbm/3vzBp9KlmW9McbmhmF4sizHUFKUUi1N09fpdPqZt1JaLBa81+uBYRhlvYUsywqTJNEB4CUPImPmVc0z+lgul88XgCplKQORb2ieC7kH4Ayi1HWSJIkUQOoD+v2+Ytv2N+f8CwDOzpNz/l4b0Gg0YDQaqYyxVnYsCAK/NuAoQi4rFYZhdK9DPukBeAAegH8AFLaKIAhgs9lAHMcwGAxgv9+D53niWSxWFBHvdrvVAKvVSjSz4XAISZKA7/viHo1RCMM57Xb7FMvqaokwW8wUDZvNJux2O9B1HbbbLURRJGI4dpxbegeaponsMcNW67cTo+l6vQZVVcFxHOyWInOce02FhzyZTEQbRiO8sESdTucUQ/PxeHy1PIU7gMMhmqaZO4Z1/4vu/x6kaXqzr1pW6C1TSp8opTc3R0/0VgghM9d154yxSj+/ecLM0ZwQMvsBTfaz89/3I6wAAAAASUVORK5CYII="},R3xE:function(e,t){},RJ7b:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAAC4jAAAuIwF4pT92AAACkUlEQVRYCe2Zv2/TUBDHv7GCyEBoF88NKupIi/CIxGNjQeI/qLeOzQgTDIwM6dip+ROagf0tSAyWSBmRkNoFKrw0oiDEL6Mz9yLHsZ3aPTsPia9k5YeTl0/u7t27d68VRRGqKFTeFgDFFz1fyxnmCMAYgAZw6OrgrMrvlQINlbcKwAfQLwBbpBGAoauDw1pAQ+U9Y8CVioBpkaX7rg60CCi7eAhgUwgwLbKwvygkCkFD5ZGbD2oCTOoEwCNXB+O8Dzh5N0LlDRqCBMe7Zu9lKhOUIXcbgjRaKYKdc32D7s7ThNKdq4Pj5P0Zi/K/WSYk2LJzqSvt+mFzPIXa5HQ41dT1fOOpJaBGN0wIxBblFadvA1lKU6sa1/tSK07rWhdX7yqJoUjbofJ6SICKWJMgV/f2cf35C3QePJQYEmxEODzTqxYYM2rf3EB7fSN+q/tYLNz/gnKZZrPWyP3/AihJOVz02q7YoiLxWbNUbvVkm/6DSqtd5+CuDi71/Z/v3+FsdwfR+WdZi7Y6Hcnh4sWj+yRe7o8d3g2K6PvrV/j2ciQGGn05x9eD/Ri09eneHapBt8VGB3Dl1m3Aubyzfp9+xK/TD/T0fps7GKKgP96+kRyONHayyn7LNKI9v8Mbf7nAkldsSBNItuyV0prMgHLDSmz2C2pgWj3JqWnbnonaPAPzYgrKXTWbYrWfbJylk53P/2TZ2kv3T7NaOlucW6X6oGV15OpgrpifWz649ad4xjUOmbc1ylznlgQbQ+Y1dBc1cnucx+rqNhtRTBZmnQv18GvsS53w7F64jJc5bOhxL0iigJlwjhxc9Din9DkTA/t8ld3BUp4m65U+b6p8IEZiaJp05jEtahnSReluXPUwDAD+AHm84+aD/9jvAAAAAElFTkSuQmCC"},ReT7:function(e,t,i){"use strict";(function(e){t.a={props:["type","text","inputValue","selectList","sureText","multiple","selectPlaceholder"],data:function(){return{types:this.type?this.type:"1",texts:this.text?this.text:"是否确定删除",values:this.inputValue?this.inputValue:this.multiple?[]:"",selectLists:this.selectList?this.selectList:[],sureTexts:this.sureText?this.sureText:"",multiples:!!this.multiple&&this.multiple,selectPlaceholders:this.selectPlaceholder?this.selectPlaceholder:"请选择分组"}},methods:{cancel:function(){this.$emit("handleCancle")},sure:function(){this.$emit("handleSure",this.values)},selectChange:function(e){this.values=e,console.log(this.values)}},mounted:function(){e("#inputValue").focus()}}}).call(t,i("L7Pj"))},U4qe:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAACXBIWXMAAAsSAAALEgHS3X78AAABUklEQVRIDWP8dGdH3Z+vrxrZBBWfMjKz/mEgEfx6d5/n/7/fJYJ6sQuw6WR8d3HRf25ZCwY2QSVSzQaDD1fXfPz/9xc/AwNDIjZLmEAuJ9dwNDD//aXFCRgWkBMspFjCREXDsVpCCwtQLGGh2ChGRm48llBuAa+iE8vne3t+M/z/94mBgQElPv///99GsQXMnIIMAtqhrH++vBRGl/vx5uZLyoMIClh4xDHEmD49/kGrSEZYMmrBqAWjFow0C749OcXw8cYmOPvH62vUs+Dfry8Mv7+8YGBm42H4+e4O0Y4iujT99fER2BIw/vuLgYVTiDoWgFz7+8Mjhj/f3zHwqXowMHMKgYMJZBETOw/lFrALqYAxMuDX8CPK9Qx0Sab///6mWq2GDkBmM/16f1/61/t7VDccZCbIbBYWbrH6r49PNP7+8pKsxi82AHI52HBusXoAn26TiD/xSwoAAAAASUVORK5CYII="},U4uA:function(e,t,i){"use strict";(function(e){var s=i("IHPB"),n=i.n(s),r=i("4YfN"),a=i.n(r),o=i("9rMa");t.a={data:function(){return{userId:JSON.parse(localStorage.getItem("staffInfo")).userPkid,noticeList:[],catchList:[],loadMore:!1}},computed:a()({},Object(o.c)(["unreadNum"])),methods:a()({},Object(o.b)(["UNREAD_CHANGE"]),{seeAllNotice:function(){this.$router.push("/notice"),this.$emit("enterAll")},clickAllRead:function(){var e=this,t={userId:this.userId};this.$HTTP("post","/user_update_notificationStateAll",t).then(function(t){e.UNREAD_CHANGE(0),e.noticeList=[]}).catch(function(e){console.log("标记已读失败",e)})},clickRead:function(t){var i=this,s={pkid:this.noticeList[t].Pkid};this.$HTTP("post","/user_update_notificationState",s).then(function(s){var n=i.unreadNum-1;i.UNREAD_CHANGE(n),i.$nextTick(function(){e(".notice_every").eq(t).hide(function(){i.noticeList.splice(t,1),console.log(i.noticeList),i.catchList.length?(i.noticeList.push(i.catchList[0]),i.catchList.shift(),i.noticeList=i.noticeList.concat()):(i.unreadNum>4&&i.getNoticeList(1,10,!0),i.noticeList=i.noticeList.concat())})})}).catch(function(e){console.log("标记已读失败",e)})},enterDetail:function(e,t){this.clickRead(t);var i=e.Type;if(1===i)this.$router.push({name:"ProjectInfo",params:{projectId:e.ProjectId}});else{if(2===i)return;3===i||4===i?this.$router.push({name:"TaskDetail",params:{projectId:e.ProjectId,stageId:e.StageId,taskId:e.TaskId,type:i}}):5===i||6===i||11===i?this.$router.push({name:"TaskDetail",params:{projectId:e.ProjectId,stageId:e.StageId,taskId:e.TaskId,type:i,noticeFile:e.Id}}):7===i?this.$router.push({name:"TaskDetail",params:{projectId:e.ProjectId,stageId:e.StageId,taskId:e.TaskId,type:i}}):8===i?this.$router.push({name:"ProjectInfo",params:{projectId:e.ProjectId,type:8}}):9!==i&&10!==i||this.$router.push({name:"ProjectInfo",params:{projectId:e.ProjectId,type:9}})}},clickSet:function(){},getNoticeList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a={page:t,number:s,userId:this.userId,enabled:1};this.$HTTP("post","/user_get_notificationList",a,r?null:e("#noticeList")[0]).then(function(e){var t=[].concat(n()(e.result));t.map(function(e){return e.showDate=i.timeDiff(e.CreateTime)}),t.length<=4?(i.noticeList=t,i.catchList=[]):(i.noticeList=t.splice(0,4),i.catchList=[].concat(n()(t))),console.log(i.noticeList,i.catchList)}).catch(function(e){console.log("消息列表获取失败",e)})}}),created:function(){this.getNoticeList()}}}).call(t,i("L7Pj"))},UwTL:function(e,t,i){"use strict";(function(e){var s=i("a3Yh"),n=i.n(s),r=i("Dr8r");t.a={data:function(){var e;return e={check:!0,checkTwo:!0,emailPlac:"请输入注册的邮箱账号",checkIndex:0,defaults:!0,hintEmail:!1,errorTitle:"",otherEmail:"",countDown:5,num:30,CODES:"",email:"",active:0,countdownTime:"30s",getcodeShow:!1,erroMessage:"",emailCode:"",errorCode:"",verificationCode:"请输入邮箱收到的验证码",hintCode:!1},n()(e,"email",""),n()(e,"number",""),n()(e,"hintEmail",!1),n()(e,"hintPw",""),n()(e,"userName",""),n()(e,"passWord",""),n()(e,"checked",!1),n()(e,"loginType",!1),n()(e,"errorTitle",""),n()(e,"password",""),n()(e,"setPwPlace","请设置密码"),n()(e,"setPwPlacetwo","请再次输入密码"),n()(e,"repPassword",""),n()(e,"radio",!1),n()(e,"radio2",!1),n()(e,"triangleShow",!1),n()(e,"erroPaw",""),n()(e,"hintPwd",!1),n()(e,"hintPwdTwo",!1),n()(e,"main_boxShow",!0),n()(e,"imgCodeMain",""),n()(e,"imgCode","请输入右图验证码"),n()(e,"imgCodes",""),n()(e,"imgCodeShow",!1),n()(e,"hintimgCode",!1),n()(e,"wrongNumber",0),n()(e,"erroMessage",""),n()(e,"imgcodeList",""),n()(e,"clock",null),e},methods:{logIn:function(){this.$router.push("/login")},register:function(){Object(r.b)("registerEmail",""),this.$router.push("/register")},autofocusCode:function(){if(this.verificationCode="请输入邮箱收到的验证码",this.hintCode=!1,""==this.emailCode)return this.erroMessage="请输入邮箱收到的验证码",!1},resetPasswords:function(){var e=this;if(this.autofocusPw(),this.autofocusPwTw(),this.erroPaw)return!1;var t={email:this.email,pwd:this.password};this.$HTTP("post","/user_update_pwd",t).then(function(t){200==t.code&&(e.main_boxShow=!e.main_boxShow,e.$router.push("/login"))})},getEmailCode:function(e){var t=this,i={email:e};this.$HTTP("post","/user_code_get",i).then(function(e){t.CODES=e.result})},codeFocus:function(){this.verificationCode="",this.hintCode=!0,this.hintPw=!1,this.erroMessage=""},next:function(e){if(1==e)this.autofocusEm(this.email),this.erroMessage||(this.emailExists(this.email,e),this.erroMessage||this.active++>2&&(this.active=0));else if("one"==e)this.erroMessage||this.active++>2&&(this.active=0),this.defaults=!this.defaults,this.getCode(),this.getEmailCode(this.email);else if(2==e){var t=localStorage.getItem("wrongNums");if(""==this.emailCode)return void(this.erroMessage="请输入邮箱收到的验证码");if(this.$md5(this.emailCode)==this.CODES)if(localStorage.setItem("wrongNums",0),t<5)this.checkIndex=e;else this.imgCodeMain.toUpperCase()==this.imgcodeList.toUpperCase()?(this.checkIndex=e,erroMessage||this.active++>2&&(this.active=0)):(this.imgCodes=!0,this.erroMessage="动态验证码输入错误，请核对后再输入");else this.erroMessage="验证码错误",this.wrongNumber++,localStorage.setItem("wrongNums",this.wrongNumber),localStorage.getItem("wrongNums")>=5&&(this.imgCodeShow=!0)}},autofocusEm:function(e){this.hintEmail=!1,this.emailPlac="请输入注册的邮箱账号";return""==e?(this.erroMessage="请输入邮箱账号",!1):/^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/.test(e)?void(this.erroMessage=""):(this.erroMessage="请输入正确的邮箱格式",!1)},emailFocus:function(){this.emailPlac="",this.hintEmail=!0,this.errorTitle="",this.erroMessage="",this.hintPw=!1},getCode:function(){var e=this;this.num=60,this.countdownTime=this.num+"s",this.getcodeShow=!1,this.clock=window.setInterval(function(){e.num--,e.countdownTime=e.num+"s",e.num<1&&(window.clearInterval(e.clock),e.num=60,e.getcodeShow=!0)},1e3)},emailExists:function(e,t){var i=this,s={info:e};this.$HTTP("post","/user_exists_info",s).then(function(e){if(1!=e.code)return i.erroMessage="邮箱不存在，请核对后再输入",!1;i.checkIndex=t;i.otherEmail=i.email.replace(/(.{2}).+(.{2}@.+)/g,"$1****$2")})},autofocusImgCode:function(){this.imgCode="请输入右图验证码",this.hintimgCode=!1,""==this.imgCodeMain&&(this.erroMessage="请输入图片验证码",this.imgCodes=!0)},imgcodeFocus:function(){this.imgCode="",this.hintimgCode=!0,this.imgCodes=!1,this.erroMessage=""},pawdFocus:function(){this.setPwPlace="",this.erroPaw="",this.hintPwd=!0,this.triangleShow=!0},pwdInput:function(e){if(e.length>=6?this.radio=!0:this.radio=!1,!/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,21}$/.test(e))return this.radio2=!1,!1;this.radio2=!0},autofocusPw:function(){this.radio&&this.radio2||(this.erroPaw="密码格式不正确，请重新输入"),this.setPwPlace="请输入密码",this.hintPwd=!1,this.triangleShow=!1,""==this.password&&(this.erroPaw="请输入密码")},autofocusPwTw:function(){this.setPwPlaceTwo="请再次输入密码",this.hintPwdTwo=!1,this.password===this.repPassword?(this.erroPaw="",""==this.password&&(this.erroPaw="请输入密码")):this.erroPaw="输入密码不一致，请重新输入"},pawdFocusTwo:function(){this.setPwPlacetwo="",this.hintPwdTwo=!0,this.erroPaw=""}},created:function(){window.clearInterval(this.clock);var e=localStorage.getItem("wrongNums");this.imgCodeShow=e>=5;var t=Object(r.a)("loginEmail");/^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/.test(t)&&(this.email=t)},mounted:function(){this.$nextTick(function(){var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";function i(e,t){if(e=Number(e),t=Number(t),isNaN(e)||isNaN(t))return Math.random();if(e>t){var i=e;e=t,t=i}return Math.round(Math.random()*(t-e)+e)}var s=void 0;function n(){for(var e="",n=0;n<4;n++){var r=i(0,61);e+=t.charAt(r)}s=e}n(),this.imgcodeList=s,e("#validate").click(function(){n()})})}}}).call(t,i("L7Pj"))},VJBB:function(e,t){},WEj9:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAAC4jAAAuIwF4pT92AAAB9klEQVRYhe2ZgXGCQBBFf2jAbAWaCqQESkgH0kHoICmBVBBL0A4oATvQCjZUYGbJHoMHh8IgnDP+GUYdHH3s3u3t/Xs5n88YImYOAUR6yful42cOAHIAGYAdEf0O+b9eoMz8CiAGkHSAXdMewJaIdncBZeYvBVwMBLQlkU6IKBsFVFO8BbAeCdCWRDi+NiQ6QZlZ0vxzJ8C6TgDeiSh3fSFw3WDmdCJI6HjPNHutagVVyI+JII0WXbCN1E+YbpcKKXdEdKzfv4ioPs2ckNDINkqXnfrtdDydWms5rFSlXm98egJq9GaGQBlRXXESH8gsVVE1qY9HXHHG1IaZV3VQH6NpJEFEoDN9aIMxhf5BtU3zWUtJ/yOAiqJAm17fVUbU5/FpFDm7J9/0BB1bT9CRdQx0N/gQoM4NlUfKAnUwfFcetLX9nmkve/5AN/57j0HLQJpZ78teyVZxAaqGlY+zPzVWT72O+tbli82Tmg8VqLpqPo3VpG6c2StTrE8yt75t/7TN0gm1ts61Kz0QUaOZb6z1av1FOuOm1sG1NWptSmaCLSFdhq6ze1LYcKKyJWMy7HKdb/Lw7+hLnXR2X13G+xw2rNQL2owAWGiNTG89zul9zqTAsV59d7BSpyV6vc+bBh+IiRRaJp15tSWWoVxS7vKhh2EA8Ac4UbxRBAwTBAAAAABJRU5ErkJggg=="},WMto:function(e,t){},XDvF:function(e,t,i){"use strict";var s=i("YkNv"),n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"full_preview",on:{click:function(e){e.stopPropagation()}}},[e._e(),e._v(" "),i("div",{staticClass:"full_preview_list clearfix"},e._l(e.fullPreview.stageFileList,function(t,s){return i("div",{key:t.stageTaskId,staticClass:"every_stage"},[i("div",{staticClass:"stage_top"},[e._v(e._s(t.title))]),e._v(" "),i("div",{staticClass:"stage_file"},[t.enabled?e._l(t.fileList,function(t,n){return i("div",{key:t.pkid,staticClass:"file_group"},[i("p",{staticClass:"group_title"},[e._v(e._s(t.groupName?t.groupName:"未分组文件"))]),e._v(" "),i("div",{staticClass:"group_list clearfix"},e._l(t.fileList,function(t,r){return i("div",{key:t.FilePkid,class:{file_box:!0,file_box_hover:t.FilePkid===e.file.FilePkid},on:{mouseenter:function(i){i.stopPropagation(),e.fileMouseenter(i,t,r,n,s)},mouseleave:function(i){e.fileMouseleave(i,t)},click:function(t){e.enterTheDetails(r,n,s)}}},[i("span",{staticClass:"file_img"},[i("img",{attrs:{src:t.UrlMins,alt:""}}),e._v(" "),i("span",{staticClass:"none"})]),e._v(" "),i("p",{staticClass:"file_title word_over"},[e._v(e._s(t.FileName))])])}),0)])}):e._e(),e._v(" "),t.enabled?e._e():i("div",{staticClass:"file_group_empty"},[e._m(1,!0),e._v(" "),i("p",[e._v("该阶段已关闭")])]),e._v(" "),!t.fileList.length&&t.enabled?i("div",{staticClass:"file_group_empty"},[e._m(2,!0),e._v(" "),i("p",[e._v("暂无文件")])]):e._e()],2)])}),0),e._v(" "),i("transition",{attrs:{name:"fade1"}},[e.fileShow?i("div",{staticClass:"hover_file",attrs:{id:"hoverFile"}},[i("div",{staticClass:"every_file",on:{mouseenter:function(t){e.enterFile(e.file)},mouseleave:function(t){e.leaveFile(e.file)},click:function(t){e.enterTheDetails(e.file.index,e.file.groupIndex,e.file.stageIndex)}}},[i("span",{staticClass:"file_pic"},[11===e.file.FileType&&e.file.Desc?[i("span",{staticClass:"text_desc"},[i("span",[e._v(e._s(e.file.Desc))])])]:[i("img",{attrs:{src:e.file.UrlMin,alt:""}})],e._v(" "),i("span",{staticClass:"none"})],2),e._v(" "),i("div",{staticClass:"file_info"},[i("p",{staticClass:"title"},[e._v(e._s(e.file.FileName))]),e._v(" "),i("el-tooltip",{attrs:{effect:"dark",content:e.file.nickName?e.file.nickName:e.file.userName,placement:"top","open-delay":300}},[i("img",{staticClass:"from_header",attrs:{src:e.file.UserPic,alt:""}})]),e._v(" "),i("span",{staticClass:"file_message fr"},[i("el-tooltip",{attrs:{effect:"dark",content:"评论",placement:"top","open-delay":300}},[i("i",{staticClass:"iconfont icon-pinglun"})]),e._v("\n                    "+e._s(e.file.Count)+"\n                    ")],1)],1),e._v(" "),i("div",{staticClass:"null"})])]):e._e()]),e._v(" "),i("transition",{attrs:{name:"fade1"}},[e.filedetailsShow?i("file-details",{attrs:{info:e.enterDetailInfo},on:{closeDetails:e.closeDetails}}):e._e()],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"t_o_right fr"},[t("i",{staticClass:"iconfont icon-haoyou1"}),this._v(" "),t("i",{staticClass:"iconfont icon-rili1"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"empty_img"},[t("img",{attrs:{src:i("s6TT"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"empty_img"},[t("img",{attrs:{src:i("s6TT"),alt:""}})])}]};var r=function(e){i("QUwa")},a=i("C7Lr")(s.a,n,!1,r,null,null);t.a=a.exports},Xzdd:function(e,t,i){"use strict";(function(e){var s=i("ZLEe"),n=i.n(s),r=i("aA9S"),a=i.n(r),o=i("lC5x"),l=i.n(o),c=i("J0Oq"),u=i.n(c),d=i("3cXf"),h=i.n(d),f=i("rVsN"),p=i.n(f);i("Dr8r");t.a={data:function(){return{hintEmail:!1,hintCode:!1,erroMessage:"",errorName:"",errorEmail:"",errorCode:"",errorPwd:"",errorPwdTwo:"",getcodeShow:!1,num:60,email:"",emailCode:"",empalce:"请输入您的工作邮箱",verificationCode:"请输入邮箱收到的验证码",password:"",setPwPlace:"请设置密码",setPwPlaceTwo:"请再次输入密码",repPassword:"",radio:!1,radio2:!1,triangleShow:!1,erroPaw:"",name:"",namePlace:"请输入您的姓名",hintPwd:!1,hintPwdTwo:!1,perfectErro:"",hintName:!1,CODES:"",wrongNumber:0,imgCode:"请输入右图验证码",imgCodes:"",imgCodeMain:"",imgCodeShow:!1,hintimgCode:!1,deleteCode:"",urls:decodeURI(window.location.href).split("?")[1]}},watch:{wrongNumber:function(e){}},methods:{goLogin:function(){localStorage.setItem("registerEmail",this.email)},nameBlur:function(){this.namePlace="请输入您的姓名",this.hintName=!1,""==this.name&&(this.perfectErro="请输入姓名",this.erroMessage="请输入姓名",this.errorName=!0)},nameFocus:function(){this.namePlace="",this.perfectErro="",this.hintName=!0,this.erroMessage="",this.errorName=!1},getCodes:function(e){var t=this;return new p.a(function(i,s){if(t.erroMessage)return!1;if("number"==typeof e){t.num=e;var n=window.setInterval(function(){t.num--,t.num<1&&(window.clearInterval(n),t.getcodeShow=!1)},1e3)}else{t.num=60;var r=window.setInterval(function(){t.num--,t.num<1&&(window.clearInterval(r),t.getcodeShow=!1)},1e3),a={name:t.name,email:t.email,num:(new Date).getTime()};localStorage.setItem("registerInfo",h()(a))}})},getCode:function(e){var t=this;return u()(l.a.mark(function i(){return l.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,t.autofocusEm(t.email);case 3:return i.next=5,t.emailExists(t.email);case 5:return i.next=7,t.getCodes(e);case 7:i.next=12;break;case 9:i.prev=9,i.t0=i.catch(0),console.log(i.t0);case 12:case"end":return i.stop()}},i,t,[[0,9]])}))()},getEmailCode:function(e){var t=this,i={email:e};this.$HTTP("post","/user_code_get",i).then(function(e){t.CODES=e.result,t.deleteCode=window.setInterval(function(){t.CODES=0},3e5)})},register:function(){var t=e("#validate").text();if(this.autofocusEm(this.email),this.autofocusPw(),this.autofocusPwTw(),""!==this.erroMessage)return!1;this.$md5(this.emailCode)==this.CODES?localStorage.getItem("wrongNum")<5?this.zhuce():this.imgCodeMain.toUpperCase()==(t=t.toUpperCase())?this.zhuce():(this.imgCodes=!0,this.erroMessage="图片验证码输入错误"):(this.erroMessage="验证码错误",this.errorCode=!0,this.wrongNumber++,localStorage.setItem("wrongNum",this.wrongNumber),localStorage.getItem("wrongNum")>=5&&(this.imgCodeShow=!0))},zhuce:function(){var e=this,t={realName:this.name,email:this.email,pwd:this.password};this.$HTTP("post","/user_register",t).then(function(t){if(200==t.code){if(e.$message("注册成功,请登录"),e.urls){var i=decodeURI(window.location.href).split("?")[1].split("&");e.myUserId=i[0].split("=")[1],e.type=i[1].split("=")[1],e.id=i[2].split("=")[1],e.$router.push({path:"/login",query:{myUserId:e.myUserId,type:e.type,id:e.id}})}else e.$router.push("/login");localStorage.setItem("wrongNum",0),localStorage.setItem("registerInfo",""),localStorage.setItem("registerEmail",e.email)}})},pawdFocus:function(){this.errorPwd=!1,this.setPwPlace="",this.erroMessage="",this.hintPwd=!0,this.triangleShow=!0},pwdInput:function(e){if(e.length>=6?this.radio=!0:this.radio=!1,!/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,21}$/.test(e))return this.radio2=!1,!1;this.radio2=!0},autofocusPw:function(){if(this.setPwPlace="请设置密码",this.hintPwd=!1,this.triangleShow=!1,""==this.password)return this.erroMessage="请输入密码",void(this.errorPwd=!0);this.radio&&this.radio2||(this.erroMessage="密码格式不正确",this.errorPwd=!0)},autofocusPwTw:function(){if(this.setPwPlaceTwo="请再次输入密码",this.hintPwdTwo=!1,""==this.repPassword)return this.erroMessage="请再次输入密码",void(this.errorPwdTwo=!0);if(this.radio&&this.radio2){if(this.hintPwdTwo=!1,this.password!==this.repPassword)return this.erroMessage="两次输入的密码必须保持一致",void(this.errorPwdTwo=!0);this.erroMessage=""}else this.erroMessage="密码格式不正确",this.errorPwdTwo=!0},pawdFocusTwo:function(){this.errorPwdTwo=!1,this.hintPwdTwo=!0,this.setPwPlaceTwo="",this.erroMessage=""},autofocusEm:function(e){var t=this;return new p.a(function(i,s){if(t.empalce="请输入您的工作邮箱",t.hintEmail=!1,""==t.email)return t.errorEmail="请输入您的工作邮箱",t.erroMessage="请输入您的工作邮箱",!1;if(!/^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/.test(t.email))return t.erroMessage="请输入正确的邮箱格式",t.errorEmail=!0,!1;t.erroMessage="",t.getcodeShow=!1,t.errorEmail=!1,i(e)})},emailExists:function(e){var t=this;return new p.a(function(i,s){var n={info:e};t.$HTTP("post","/user_exists_info",n).then(function(e){i(e),200==e.code?(t.getEmailCode(t.email),t.getcodeShow=!0):1==e.code&&(t.erroMessage="该账号已经注册，点击")})})},autofocusCode:function(){if(this.verificationCode="请输入邮箱收到的验证码",this.hintCode=!1,""==this.emailCode)return this.erroMessage="请输入邮箱收到的验证码",!1},autofocusImgCode:function(){this.imgCode="请输入右图验证码",this.hintimgCode=!1,""==this.imgCodeMain&&(this.erroMessage="请输入图片验证码",this.imgCodes=!0)},emailFocus:function(){this.errorEmail=!1,this.erroMessage="",this.empalce="",this.hintEmail=!0},codeFocus:function(){this.errorCode=!1,this.verificationCode="",this.hintCode=!0},imgcodeFocus:function(){this.imgCode="",this.hintimgCode=!0,this.imgCodes=!1,this.erroMessage=""},pwFocus:function(){this.hintEmail=!1,this.hintPw=!0},isPoneAvailable:function(e){console.log(e);if(!/^0?1[3|4|5|7|8][0-9]\d{8}$/.test(e))return this.perfectErro="*请输入正确的手机号",!1;this.perfectErro=""}},created:function(){var e=this;if(localStorage.getItem("registerInfo")){var t=JSON.parse(localStorage.getItem("registerInfo"));this.name=t.name,this.email=t.email;var i=60-Math.ceil((new Date).getTime()/1e3-t.num/1e3);i>=0?this.getCode(i):(this.num=60,localStorage.setItem("registerInfo",""))}var s=decodeURI(window.location.href).split("?")[1],r=localStorage.getItem("wrongNum");if(this.imgCodeShow=r>=5,!s)return!1;var o=decodeURI(window.location.href).split("?")[1].split("&"),l=o[2].split("=")[1],c=o[4].split("=")[1],u={openid:o[0].split("=")[1],unionid:o[1].split("=")[1]},d=a()({},u);for(var h in u)u[h]=encodeURIComponent(u[h]);d.key="4951841F25AF0C695331B3F3C0369089";o&&function(t){for(var i=n()(t).sort(),s={},r=0;r<i.length;r++)s[i[r]]=t[i[r]];var a="";for(var o in s)s[o]=encodeURIComponent(s[o]),a+=o+"="+s[o]+"&";return a=(a=a.slice(0,a.length-1)).toLocaleUpperCase(),a=(a=e.$md5(a)).toLocaleUpperCase()}(d)==c&&(this.name=l)},mounted:function(){var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";e("#validate").text("2222222");function i(e,t){if(e=Number(e),t=Number(t),isNaN(e)||isNaN(t))return Math.random();if(e>t){var i=e;e=t,t=i}return Math.round(Math.random()*(t-e)+e)}function s(){for(var s="",n=0;n<4;n++){var r=i(0,61);s+=t.charAt(r)}e("#validate").text(s),s}s(),e("#validate").click(function(){s()})}}}).call(t,i("L7Pj"))},YAD0:function(e,t,i){"use strict";(function(e){var s=i("aA9S"),n=i.n(s),r=i("rVsN"),a=i.n(r),o=i("IHPB"),l=i.n(o),c=i("HzJ8"),u=i.n(c),d=i("29Yg");t.a={components:{cPdf:d.a},data:function(){return{groupList:[],defaultGroupList:"",fileListsAll:"",checkIndex:0,fileLists:"",filePkid:"",commentInfo:"",modifyShow:!0,FileName:"",FileType:"",fileItem:"",everyFileList:"",Url:"",oneFilelist:"",isshowpdf:!1,power:!0,fileProgressList:[],uploadProgressFlag:!1,fangdaShow:!0,commentInfoLists:[],loginUser:JSON.parse(localStorage.getItem("staffInfo")),imgLoading:!1}},props:["info"],methods:{closeDetails:function(){this.$emit("closeDetails")},checkFile:function(e,t){this.checkIndex=t,this.fileItem=e,this.filePreview(e)},checkGroup:function(e){var t=!0,i=!1,s=void 0;try{for(var n,r=u()(this.info.fileList);!(t=(n=r.next()).done);t=!0){var a=n.value;if(a.pkid==e)return this.fileLists=a.fileList,void(this.fileLists.length&&this.checkFile(this.fileLists[0],0))}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}},sendComment:function(e){var t=this,i={myUserId:this.loginUser.userPkid,type:this.info.type,descn:e,id:this.fileItem.FilePkid};this.$HTTP("post","/comment_add",i).then(function(i){var s={userPic:t.loginUser.pic,nickName:t.loginUser.realName,descn:e,createTime:i.result.CreateTime};t.commentInfoLists.unshift(s),t.commentInfo=""})},delResultFile:function(e){var t=this,i=this.fileLists.findIndex(function(t){return t.FilePkid==e.FilePkid}),s={FilePkid:e.FilePkid};this.$HTTP("post","/stageTaskFile_delete",s).then(function(e){t.fileLists.splice(i,1),t.checkIndex=0,t.fileItem=t.fileLists[0],t.filePreview(t.fileItem),t.fileLists=[].concat(l()(t.fileLists))})},closepdf:function(){this.isshowpdf=!1,this.iframeFlag=!1},fullScreen:function(){this.fangdaShow=!this.fangdaShow;var e,t=document.getElementById("imgType"),i=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullScreen;void 0!==i&&i?i.call(t):void 0!==window.ActiveXObject&&(e=new ActiveXObject("WScript.Shell"))&&e.SendKeys("{F11}")},closeFull:function(){this.fangdaShow=!this.fangdaShow;var e,t=document.getElementById("imgType"),i=(t=document).cancelFullScreen||t.webkitCancelFullScreen||t.mozCancelFullScreen||t.exitFullScreen;void 0!==i&&i?i.call(t):void 0!==window.ActiveXObject&&null!=(e=new ActiveXObject("WScript.Shell"))&&e.SendKeys("{F11}")},closeProgress:function(){this.uploadProgressFlag=!1,this.fileProgressList=[]},autofocusFileName:function(t){var i=this,s=t.FileTitle+"."+t.Type;if(""===t.FileTitle)return this.$message({type:"warning",message:"文件名不能为空！",center:!0}),void e("#fileNameInput").focus();if(-1!==this.fileLists.findIndex(function(e){return e.FileName===s&&e.FilePkid!==t.FilePkid}))return this.$message({type:"error",message:"该分组内含有同名文件！",center:!0}),void e("#fileNameInput").focus();if(s!==this.fileItem.FileName){var n={FilePkid:t.FilePkid,newTitle:s};this.$HTTP("post","/stageTaskFile_update",n).then(function(e){i.fileItem.FileTitle=t.FileTitle,i.fileItem.FileName=s}),this.modifyShow=!0}else this.modifyShow=!0},ModifyFileName:function(){var e=this;this.modifyShow=!this.modifyShow,this.$nextTick(function(t){e.$("#fileNameInput").focus()})},next:function(){this.checkIndex<this.everyFileList.length-1?(this.checkIndex=this.checkIndex+1,this.oneFilelist=this.everyFileList[this.checkIndex],this.filePreview(this.everyFileList,this.oneFilelist,this.checkIndex)):this.$message("没有更多文件了")},popFileProgress:function(e){return-1==e.findIndex(function(e){return e.progress<100})},filePreview:function(t){var i=this;if(this.imgLoading=!1,1===t.FileType)this.$nextTick(function(){e("#fileListBox").css({height:"420px"});var t=document.getElementById("ImgBg"),s=void 0,n=void 0;if(t.naturalWidth){s=t.naturalWidth,n=t.naturalHeight;var r={w:s,h:n},a=e("#ImgBg").width();if(r.h<=420||r.w>r.h)e("#fileListBox").css({height:"420px"});else if(a<r.w){var o=(a/r.w).toFixed(2);e("#fileListBox").css({height:r.h*o+"px"})}else e("#fileListBox").css({height:r.h+"px"})}else{i.imgLoading=!0;var l=new Image;l.src=t.src,l.onload=function(){s=l.width,n=l.height,i.imgLoading=!1;var t=s,r=n,a=e("#ImgBg").width();if(r<=420||t>r)e("#fileListBox").css({height:"420px"});else if(a<t){var o=(a/t).toFixed(2);e("#fileListBox").css({height:r*o+"px"})}else e("#fileListBox").css({height:r+"px"})}}});else if(6===t.FileType)this.$nextTick(function(){i.isshowpdf=!0,e("#fileListBox").css({height:"calc(100vh - 198px)"}),console.log(e("#fileListBox").height())});else if(2==t.FileType||3==t.FileType||5==t.FileType){if(-1===this.fileItem.Url.indexOf("view.officeapps.live.com")){var s="http://eggs.apexgame.cn/"+t.Url;s=encodeURIComponent(s);this.fileItem.Url="https://view.officeapps.live.com/op/view.aspx?src="+s}this.$nextTick(function(){i.iframeFlag=!0,e("#fileListBox").css({height:"calc(100vh - 198px)"}),console.log(e("#fileListBox").height())})}else 7==t.FileType||8==t.FileType?this.$nextTick(function(){i.iframeFlag=!0,e("#fileListBox").css({height:"420px"})}):11===t.FileType?this.$nextTick(function(){i.iframeFlag=!0,e("#fileListBox").css({height:"calc(100vh - 198px)"}),console.log(e("#fileListBox").height())}):this.$nextTick(function(){e("#fileListBox").css({height:"420px"}),console.log(e("#fileListBox").height())})},getImgWH:function(e){var t=this;return new a.a(function(i){t.$nextTick(function(){var t=document.getElementById(e),s=void 0,n=void 0;if(t.naturalWidth)s=t.naturalWidth,n=t.naturalHeight;else{var r=new Image;r.src=t.src,r.onload=function(){s=r.width,n=r.height}}i({w:s,h:n})})})},handleExceed:function(e,t){this.$message.warning("最多只能选择9个文件")},beforeUpload:function(e){this.uploadProgressFlag||(this.uploadProgressFlag=!0);var t=this.conver(e.size),i=this.getSuffix(e.name);i=this.getFlieTyle(i);var s={uid:e.uid,size:t,name:e.name,type:this.info.type,progress:0,status:!1,FileType:i,imgUrl:""};this.fileProgressList.unshift(s)},uploadChange:function(e,t){},uploadSuccess:function(e,t,i){this.fileUpload(e,t)},uploadProgress:function(e,t,i){var s=parseInt(e.percent),n=this.fileProgressList.findIndex(function(e){return e.uid===t.uid});-1!==n&&(this.fileProgressList[n].progress=s,this.fileProgressList[n].imgUrl||1!=this.fileProgressList[n].FileType||(this.fileProgressList[n].imgUrl=t.url))},fileUpload:function(e,t){var i=this,s={articlePkid:this.teskId,fileIds:e};this.$HTTP("post","/AppendTaskFile",s).then(function(e){var s=!0,n=!1,r=void 0;try{for(var a,o=u()(e.result);!(s=(a=o.next()).done);s=!0){var l=a.value;i.$set(l,"checked",!1),i.$set(l,"delFlag",!1),i.$set(l,"percentFile",null),i.$set(l,"FileType",i.getFlieTyle(l.FileType))}}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}i.fileList=e.result.concat(i.fileList),console.log("YYYYYY上传成功",i.fileList,e);var c=i.fileProgressList.findIndex(function(e){return e.uid===t.uid});-1!==c&&(i.fileProgressList[c].status=!0);var d=i.popFileProgress(i.fileProgressList);i.uploadProgressFlag&&d&&setTimeout(function(){i.closeProgress()},2e3)}).catch(function(e){console.log("上传错误",e)}),this.clearCard(2)},setLeft:function(){this.$nextTick(function(){var t=e("#leftFileOne").offset().left;e("#rightFileLists").css({left:t+880+"px"})})},getGroupList:function(e){var t=!0,i=!1,s=void 0;try{for(var n,r=u()(e.fileList);!(t=(n=r.next()).done);t=!0){var a=n.value;this.groupList.push({label:a.groupName,value:a.pkid}),this.defaultGroupList=e.groupIndex}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}this.fileLists=e.fileList[e.groupIndex].fileList,this.checkIndex=e.fileIndex,this.fileItem=this.fileLists[e.fileIndex],this.filePreview(this.fileItem),this.getCommenList(this.fileItem.FilePkid),this.$nextTick(function(){document.getElementById("selectFile").scrollIntoView({behavior:"smooth"})})},getCommenList:function(e){var t=this,i={myUserId:this.loginUser.userPkid,type:this.info.type,id:e,page:"",number:""};this.$HTTP("post","/comment_get_list",i).then(function(e){var i=[],s=!0,r=!1,a=void 0;try{for(var o,l=u()(e.result);!(s=(o=l.next()).done);s=!0){var c=o.value,d=!0,h=!1,f=void 0;try{for(var p,v=u()(c.user);!(d=(p=v.next()).done);d=!0){var m=p.value;i.push(n()(c,m))}}catch(e){h=!0,f=e}finally{try{!d&&v.return&&v.return()}finally{if(h)throw f}}}}catch(e){r=!0,a=e}finally{try{!s&&l.return&&l.return()}finally{if(r)throw a}}t.commentInfoLists=i})}},created:function(){this.getGroupList(this.info),this.setLeft()},mounted:function(){var t=this;window.onresize=function(){t.setLeft()},this.$nextTick(function(){e(".task_detail_yun").eq(0).css({zIndex:14});var i=t.info.noticeType;5!==i&&6!==i&&11!==i&&12!==i||document.getElementById("allComment").scrollIntoView({behavior:"smooth"})})},beforeDestroy:function(){e(".task_detail_yun").eq(0).css({zIndex:11})}}}).call(t,i("L7Pj"))},YCba:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABBCAYAAACel4eZAAAACXBIWXMAAAsSAAALEgHS3X78AAACrElEQVRoBe2bvW/TQBTAn8+J7RLTJNCoBaFSVQhFDAUhFhboxMDAwF7xryEqMSIECyMbDIDUDFWqRuVLVC2kzgdJsJ3Yh55Do4SWYJscea7uJ51ycXzx++ndPUc+ReGcQ620nlP12Sfcc28yI9tSjWwbpoBrvS9wv7sNAKv5lbV6nAgUa+NRTjVyZaNQnNfyy9PwGNDYet7yne8mAGzElWKYGf3M8tRlfuMqALzEmRN1IOPcv67PFUUHGIdYUkxRNU5G4SiRpVgqM9f4jwHGIZIUIxf+8YSWSooQ/JJ6+reTkiSE3K6V1h+OOyFpQsiDcVJJFIJxUkkVgj9JkRJiqp6KOOSIFCkh/ewlAxSlFXHYiBQpofTsBWApQ4sxdCBFSkhRNTCXVjWFpd0YwwOpqHNWOOpMHmYv39U6u2+7vdaeDwBtAN4Nc13O+R1yQgjTMmAu3Upj33fbuu+GW1Z2dWufpNAwKIct1LnNz3aS70PHIoWoI4WoI4WoI4WoI4WoI4WoI4WoI4WoI4WoI4WoI4WoI4WoI4Wiwj0XGuVnQcP+MPa3TaiVHoP3w0qOkGNVAB+2Y7O/bo58xnt9QS/kw/gwiBc6qADTzKC5jU+iLydWqNvaCzKTNhdAyy4GfdFSQoXcg0rwms4tQur0wsgxUQjbH8ICgBnCbUbMEAR7PeYga9gXgTAhLAaHVQ0r2TA47YzCFdpCWHqb2y9g5ty1IFi33l8r2eK9QTYOSzgWClFCwtYQBo+FYHhq4fTDY4P3qf4OvjrB6ae0v7z+cOr8jYsT+8Yp0tl981H+9KGOFKLOyRPyOtY8gTgmQq9dzTK/ZzsnwCWAe67CFIW9c6plAuH8G+iALsxzmvcda2ffre0kVgZjRwd0IfX/oah4diPj2w1TUbVXKJNfWav/BMetIXFgbGKCAAAAAElFTkSuQmCC"},YkNv:function(e,t,i){"use strict";(function(e){var s=i("HzJ8"),n=i.n(s),r=i("aA9S"),a=i.n(r),o=i("iIsA");t.a={props:["taskId","fullList"],components:{FileDetails:o.a},data:function(){return{fileTypeImgM:[{src:i("QeED")},{src:i("9fRE")},{src:i("EVfD")},{src:i("aL5B")},{src:i("blPS")},{src:i("p9T0")},{src:i("hjiM")},{src:i("kpDV")},{src:i("Igbf")},{src:i("G8L8")},{src:i("U4qe")},{src:i("tVkU")}],fileTypeImgB:[{src:i("MzaG")},{src:i("qFMc")},{src:i("s9QU")},{src:i("6OdW")},{src:i("JYI+")},{src:i("MK+o")},{src:i("62YV")},{src:i("lfVU")},{src:i("GWU5")},{src:i("Gttd")},{src:i("YCba")},{src:i("EBPn")}],fullPreview:{},file:{},fileShow:!1,_time:null,_time1:null,filedetailsShow:!1}},methods:{enterTheDetails:function(e,t,i){var s=this.fullPreview.stageFileList[i];this.enterDetailInfo={groupIndex:t,fileIndex:e,fileList:s.fileList,type:1,menuList:[this.fullPreview.taskTitle,s.title,s.fileList[t].groupName,s.fileList[t].fileList[e].FileName]},this.filedetailsShow=!0},closeDetails:function(){this.filedetailsShow=!1},fileMouseenter:function(t,i,s,n,r){var o=this;(this._time||this._time1)&&(clearTimeout(this._time),clearTimeout(this._time1),this._time=null,this._time1=null),this._time=setTimeout(function(){o.fileShow=!0,o.file=a()({},i,{index:s,groupIndex:n,stageIndex:r});var l=o.findparent(e(t.target)),c=l[0],u=l[1]+70;o.$nextTick(function(){e("#hoverFile").offset().left,e("#hoverFile").offset().top;var t=e("#hoverFile").width(),i=e("#hoverFile").height(),s=e("#app").width(),n=e("#app").height();c+t>s&&(c=s-t),u+i>n&&(u=u-i-70),e("#hoverFile").css({left:c+"px",top:u+"px"})})},200)},fileMouseleave:function(e,t){var i=this;(this._time||this._time1)&&(clearTimeout(this._time),clearTimeout(this._time1),this._time=null,this._time1=null),this._time1=setTimeout(function(){i.fileShow=!1,i.file={}},200)},enterFile:function(){this._time&&clearTimeout(this._time),this._time1&&clearTimeout(this._time1),this.fileShow=!0},leaveFile:function(){this.fileShow=!1,this.file={}},findparent:function(e){var t=e.attr("class");return t&&"file_box"===t?[e.offset().left,e.offset().top]:this.findparent(e.parent())},getData:function(){this.fullPreview=a()({},this.fullList);var e=!0,t=!1,i=void 0;try{for(var s,r=n()(this.fullPreview.stageFileList);!(e=(s=r.next()).done);e=!0){var o=s.value,l=!0,c=!1,u=void 0;try{for(var d,h=n()(o.fileList);!(l=(d=h.next()).done);l=!0){var f=d.value,p=!0,v=!1,m=void 0;try{for(var g,_=n()(f.fileList);!(p=(g=_.next()).done);p=!0){var y=g.value;this.$set(y,"FileType",this.getFlieTyle(y.Type)),1!==y.FileType&&this.$set(y,"UrlMin",this.fileTypeImgB[y.FileType].src),this.$set(y,"UrlMins",this.fileTypeImgM[y.FileType].src)}}catch(e){v=!0,m=e}finally{try{!p&&_.return&&_.return()}finally{if(v)throw m}}}}catch(e){c=!0,u=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw u}}}}catch(e){t=!0,i=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw i}}}},created:function(){this.getData()}}}).call(t,i("L7Pj"))},Z516:function(e,t,i){"use strict";var s=i("9nDm"),n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"reminder2 transfer_view_yun"},[i("div",{staticClass:"reminder2_box"},[i("div",{staticClass:"reminder2_top"},[e._v("温馨提示")]),e._v(" "),i("div",{staticClass:"reminder2_center"},[i("p",{staticClass:"text"},[e._v("请确认是否将该文件移交给下一阶段使用")]),e._v(" "),i("el-select",{attrs:{size:"small",multiple:!0,"collapse-tags":"",placeholder:"请选择阶段"},on:{change:e.selectChange},model:{value:e.values,callback:function(t){e.values=t},expression:"values"}},e._l(e.selectLists,function(e){return i("el-option",{key:e.value,attrs:{label:null==e.label?"未分组":e.label,value:e.value,disabled:e.disabled}})}),1),e._v(" "),e.descShow?i("div",{staticClass:"demand_box",attrs:{id:"demandBox"}},[i("span",[e._v("需求描述")]),e._v(" "),i("i",{staticClass:"iconfont icon-guanbijiantou fr",on:{click:e.cancelDesc}}),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.descText,expression:"descText"}],ref:"descRef",class:e.descTextFocus?"textarea_desc_focus":"textarea_desc",attrs:{rows:"2",placeholder:"添加文字说明"},domProps:{value:e.descText},on:{focus:e.descFocus,blur:e.descBlur,input:function(t){t.target.composing||(e.descText=t.target.value)}}})]):i("p",{staticClass:"transfer_desc mainColor",on:{click:e.addDesc}},[e._v("需求描述")])],1),e._v(" "),i("div",{staticClass:"reminder2_bottom"},[i("button",{staticClass:"but fl",on:{click:e.cancel}},[e._v("取消")]),e._v(" "),e.values.length||e.descText?i("button",{staticClass:"but but_right color_main fl",on:{click:e.sure}},[e._v("确认")]):i("button",{staticClass:"but but_right color_dis fl",attrs:{disabled:""}},[e._v("确认")])])])])},staticRenderFns:[]};var r=function(e){i("cwPW")},a=i("C7Lr")(s.a,n,!1,r,null,null);t.a=a.exports},ZPJN:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAAC4jAAAuIwF4pT92AAACW0lEQVRYCdWZzXHCMBCFXwQMDJfkwmUvIRUkJVBCOog7CB0kJZAKQgmhA0qADshlL1zCgeHAX2bJinGMbZBijPJmPMAYw6ddaSU9XW23W/iImR8AdPSS97cZPzMGMAIwBPBBRF8+/+cEysw3ACIA3RywYxoA6BPRx1lAmflVAa89AZOSSHeJaFgIqKa4D+C+IMCkJMLRsS6RC8rMkub3MwHG9QngkYhGWV8wWTeYuVcSJLS/DzV7qUoFVcjnkiCtrvNgD1JfYrqzNJNyR0ST+P1fEdXWXBISGtmD0pVMfb88nlzdaznca596vfESCKjVne0Cu4jqjNMNgSyhfVRt6qMCZ5wi9cTM7ThoiNG0kiDC6Ej3XWCUoR9QXaaFrFtJ/38AFXWMLnpDV7vq2j8rlQqazaZ3uzabDRaLxe7VQZ2qy7drtRparZY3pJU0dDqdOj2TucxLU6PR+DMktMH1et3pGSfQIuWYejfQ+XyO5XL5Z1yf33HqoxIF6VuSOmP8krFarbBer10fm1R1N+i0cSsiqo6aGDUHQtfQqIMRukYmbdkfmAay5ze68R8EDLoLpB26oeyVkpr9AlXDahwSoapnrZ54MQxtlS82T89+2IOqqxZSX+3GjbPk9BJpSy6tt6R/mmbpPGhtvdSudExEB4v5gwlbrb+OjriyNc7aGqWuLC4Eu4PMMnSPGbltrWPncputpE/mVp2TPPwz+lKfOrqPTuMuhw1t9YKeCgCcaY3snXqc43zOpMCRXq4Oi9RpiZ7zeZP3gZhIoWXQ2dekxDKUS8rdyPcwDAC+AW2b6hhc+EhRAAAAAElFTkSuQmCC"},a2aA:function(e,t,i){e.exports=i.p+"static/media/IMG_2156.d197824.mp4"},aL5B:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAACXBIWXMAAAsSAAALEgHS3X78AAABxklEQVRIDe2Wy0rDQBiFT0NCm9gmxnovVejCuhDdKejCTV/AN9B3cK248TX0CXTpwoK4cONGFFErUoslNrWtvdIoGVOZQaU3a6/gogcCycyf8/1zBiaxnUTOt9JGdsfjGtN4jidoUVpedxLrY3NtNrBf703bwe1xaX7UD4883qo3UzB8ljUtogDYqAfhaOftmldp7/AuuF4DaCeWViBcF83rQnoBqIDwHVvZMNAA0jlgcXKBP9cuTatk5QBU7GcJ2O0YINudCPhWhFcj466ei2S0eOcRfWlIHKwZ0wvJt15t8o/6gD6gD/ivANMiyL7nm6r99Sy60G+g2F1IGmkMiyrC6Sd6qCFVTOM6cQ9RECFwfEWNaZnwu33NrWBudAahVBgS74Bid7Kuy0XHJcEBn+oF+SCI5p5rzBsCotkY3JIKvZBAkbxVzHnlSUiCyGqiuRjrXOAEdv9nRLQoVkiwKFanlxiAPlMdPZz+1I07RyA7XGzOp06xFYVSj/DKE40BtKC8iEZAr3LRuIqmwfIv17KkNh9RI31vbjPiiEW69lWrFvXmtHzco+X0rptTT+rNq6KyffUS2kkZmbZ+fuuJdk7NVVHZ/gScD78UNopbvgAAAABJRU5ErkJggg=="},ayI4:function(e,t,i){"use strict";var s=i("HzJ8"),n=i.n(s),r=i("IHPB"),a=i.n(r),o={props:["defaultList","ids","fullViewFlag"],data:function(){return{stageTimeList:[]}},methods:{timeChange:function(e,t){var i=this;t.rangeSeparator=e?"-":" ";var s={stageId:t.stageId,taskId:this.ids.taskId,startTime:e?this.format(e[0]):"",endTime:e?this.format(e[1]):"",myUserId:this.ids.userId};this.$HTTP("post","/stageTask_date_update",s).then(function(e){e.result.stageId=e.result.stageId.toString();var t={item:e.result,del:[],add:[]};i.$emit("stageInfoChange",2,t)}).catch(function(e){console.log("任务修改时间失败",e)}),this.stageTimeList=this.stageTimeList.concat()},setData:function(){var e=this;if(this.stageTimeList=[].concat(a()(this.defaultList)),!this.fullViewFlag){var t=this.stageTimeList.findIndex(function(t){return t.stageId==e.ids.stageId});if(t>0){var i=this.stageTimeList[t];this.stageTimeList.splice(t,1),this.stageTimeList.unshift(i)}}var s=!0,r=!1,o=void 0;try{for(var l,c=n()(this.stageTimeList);!(s=(l=c.next()).done);s=!0){var u=l.value;this.$set(u,"rangeSeparator",u.startTime?"-":" "),this.$set(u,"timeRange",[new Date(u.startTime),new Date(u.endTime)])}}catch(e){r=!0,o=e}finally{try{!s&&c.return&&c.return()}finally{if(r)throw o}}}},created:function(){this.setData(),console.log("addTime---",this.stageTimeList)}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"add_time_yun"},[i("div",{staticClass:"stage_time_box"},e._l(e.stageTimeList,function(t,s){return i("div",{key:t.stageId,staticClass:"stage_time_list"},[i("span",{staticClass:"names"},[e._v(e._s(t.stageTitle))]),e._v(" "),i("el-date-picker",{staticClass:"el_time",attrs:{"popper-class":"stage_time",type:"datetimerange",align:"right","start-placeholder":"请设置时间","range-separator":t.rangeSeparator,"default-time":["08:00:00","18:00:00"],format:"MM/dd HH:mm",clearable:!1,"prefix-icon":"el-icon-date"},on:{change:function(i){e.timeChange(i,t)}},model:{value:t.timeRange,callback:function(i){e.$set(t,"timeRange",i)},expression:"stage.timeRange"}}),e._v(" "),s?e._e():i("div",{staticClass:"selected_stage"})],1)}),0),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"arrow_div"},[t("div",{staticClass:"arrow_box"})])}]};var c=i("C7Lr")(o,l,!1,function(e){i("3b8I")},null,null);t.a=c.exports},ba5N:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ4AAACtCAYAAABBa8Z4AAAACXBIWXMAAAsSAAALEgHS3X78AAAGWUlEQVR4Ae3dz2/TdRzH8Xfb79a1S0YkGYMEhcQwk8G4wE1PmnjwIvOkBw3+B/wpHj2aeNBoIosHDiQYLx6JioQEkWQFE91mMDTZWPdtV/P+9vuFUtqtLa6vb799PhIuo2ztN08+3x+fz/e7XLPZtHq9fsnMPjOzUwYcnoqZXQmCYDUXhqFHd5WNjRFa8fDWGOkwYhUPr8lWx6jl2eJQIDxIEB4kCA8ShAcJwoME4UGC8CBBeJAgPEgQHiQIDxKEBwnCgwThQYLwIEF4kCA8SBAeJAgPEoQHCcKDBOFBgvAgQXiQIDxIEB4kCA8ShAcJwoME4UGC8CBBeJAgPEgQHiQIDxKEBwnCgwThQYLwIEF4kCA8SBAeJAgPEoQHCcKDBOFBgvAgQXiQIDxIBFnd7Dv1pl1fq1ul2rCFcsGOzWr+j/2yHtrsdM4+Xpq2mSAneQ9plAvDsJm1D+XRfXM3tHPzU9EfpS9ubdnGdtMWZomvXSZ3tT7SnXklkEfXbn2raV/e2Y3+UyCj4a1v7dmFE9MpeCfPI75nMhfe41rTiinenRFfS+bCO1LM2WtzhRS8k96Ij8spMpMeH+EJeXzf3g0n8rMTnlilumff/zF58RFeCtzabExcfISXEpMWH+GlyCTFR3iHrDTgNcVJiY/wDtnZ+SkrDnhZcRLiI7xD5nPGg456NgHxEd4h8+m7S4slKw2xAC3L8WV2PV6a+FrAT5bL9mOlZg+qDZsq5KzfMdCv82UR4Y3IkWLe3l8sRT9sY2vPao3+pspub+6O/WfvhvAEBlkN/bCazaMhjvEgQXiQIDxIEB4kCA8ShAcJwoME4UGC8CBBeJAgvCHV6k37dWMy7xD7PzBXOyCf4PcVJrc3Q9vY3rN/tvfszNEg9TeRpw3h9clj++nPXXtYbTz3D27+HUZ/ioWcXTwxZRePT6X6ERppQXh9uLFWi+JyHtiZo4VomZM/BcAfO3bvUT0a/TzM3zZD+2CxJHse37ggvANcu79jtzfr0YvePDnddUTzr/uI+MNaLQrwqztP7PL5UhQnumPL7MNHsiS6D5dKUWC9dqN+jPfRUsmOlfPRIs+rd3dS8RnSivD2caNSi/7y7VPFvk4ePEqPz3fHPvL5CQi6I7wefLSr1po2V2ydNPTL43vndOuhkPceNQb9sROD8Hp4EJ+9Lg/xOFu/pdHd+7c+gnc6ngivB99VWvygx0G1Hwf6dT+8iPAOMDfkmemr8THhTp93k00awoME4fXJd5mdZ6l+wbjW9ijZbq9Bd1xA7tN3vz+JznJ9F+oXhj0wD+9xbc/ee30m+ibtr8H+CK9PPg22sd14Ohvhv7zFf7WBz2QkOl+D3givTz732jn/6jMZ7bq9Bt2xlbrw4zY/XvMZiIXycJsouQzTuZoFLYTXwS8cf/7zdjTf6jMWwy5xSkZDPw701S01fo3UcwivjUfy9Z0nUXQ+2d9+/DYoP87zOV6L1+z5ihU/EUEL4cU8Cg/P4tHq8vnySy/o9BHTV7X4fG+yXg8thBdLorhwfOqFk4aX4ataPl0uR9/Bl1gx6rVwVhvzEwmL40jmaQ8SNprR0z0Pkhzf+c/gUksL4cXeOjkdnYF6dId1JposlwLhPeXHc35c96BHdA/jm30sXhjq1+uSES9Z8u7HcsksRie/LMNNQM8QXodeK4396+039fgNP77r9DV3Pk3mPDpuc+wP4Q3Al7Vfu1+LYkvuxbBo6VSO6AZEeAPwXeXKGzPRmanvete3uJl7WIQ3BD8zPTKft3PzY/fWU4Nze0gQHiQIDxKZDK/XtbhxlKXP0i6T4WVpCVJWl1NlMryF2bzd/Gv8V4L4Z1jI6IrmTH6qd08H8UXe8b3jy9+7fwb/LFmUC8Mwk2O5P7vu+lrdKtWGLZQLY3MvhC+5X99u2Km5QhTdTEbndzMbHtKNyymQIDxIEB4kCA8ShAcJwoME4UGC8CBBeJAgPEgQHiQIDxKEBwnCgwThQYLwIEF4kCA8SBAeJAgPEoQHCcKDBOFBgvAgQXiQIDxIEB4kCA8ShAcJwoME4UGC8CBBeJAgPEgQHiQIDxKEBwnCgwThQYLwIEF4kCA8SBAeJAgPEoQHCcKDBOFBgvAgQXiQIDxIeHgVNj1GrOLhXWGrY8Su5IMgWDWzFUY+jIA3thIEwep/VLgZAFH8zZEAAAAASUVORK5CYII="},blPS:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAACXBIWXMAAAsSAAALEgHS3X78AAABqElEQVRIiWOctfdj3aM3vxv15NmfsrMw/mEgEVx8+JPn15//Jc1hwguw6WSsWfnmv68JD4O+PDupZoNBz+Z3H3/8+s/PwMCQiM0SJpDLyTUcDcyvXfU2AcMCcoKFFEuYqGg4VktoYQGKJSyUmsTEwMCNxxLKfRBty8fCwcr4m5WZ8S0LM+NLZMzMxNBGsQ/EBVgYSvyEWB++/i2MLnfyzo+XFFsAA/KirBhiN57++kGrSIaDUQtGLRi1YDBa8Pw9afUT3rJo27mvDOfu/wCzjRQ5GO6/+s0gIcjM8OL9X4Ygcx6Gufs+guUEuZkZomx5wTQ6IOgDJx0uBi8jbrDhMKAoxsrAwcYI5tUECzMYKrIz7LvyjXQfgABMI8iiH7//M3CwMjKcv/8T7BNiAFYLQMFy/ckvsJdBBlupczL8+PUfHCQgg0GuB/kCBFrWvoUHETbAuPHMlwfuBtzyRDkHGskgA2FBhA/svPD1IckVjqQgaVqYfv75T7VaDR2AzGa69PCn9MWHP6luOMhMkNksciKs9ZvPfGl8+Po3WY1fbADkcpDhciKs9QA9O5u2nNCI3gAAAABJRU5ErkJggg=="},"c4l/":function(e,t,i){"use strict";var s=i("3cXf"),n=i.n(s),r=i("IHPB"),a=i.n(r),o=i("HzJ8"),l=i.n(o),c=i("4YfN"),u=i.n(c),d=i("NYhm"),h=i("9rMa"),f={data:function(){return{userId:"",describeShow:!1,newButtonShow:!1,addPeopleShow:!1,title:"",descn:"",textShow:!1,createrId:"",startTime:"",endTime:"",titleFocus:"",descnFocus:!1,addListShow:!1,itemInfo:"",saveButtonShow:!1,userList:[],oneSelfImg:"",addPeopleLists:["1024"],userLitsShow:!1,saveButton:!1,oldItemInfo:"",fromInfo:{type:1,id:this.projectId}}},props:["AddPeople","classify","projectId"],components:{AddPeople:d.a},watch:{title:function(e,t){this.newButtonShow=""!==e,e!==this.itemInfo.title?this.saveButton=!0:this.saveButton=!1},descn:function(e,t){e!==this.itemInfo.descn?this.saveButton=!0:this.saveButton=!1},userList:function(e,t){this.oldItemInfo.length?e.lenght!==this.oldItemInfo.userlist.lenght?this.saveButton=!0:this.saveButton=!1:e.length?this.saveButton=!0:this.saveButton=!1},startTime:function(e,t){this.itemInfo.startTime,e!==this.itemInfo.startTime?this.saveButton=!0:this.saveButton=!1},endTime:function(e,t){e!==this.itemInfo.endTime?this.saveButton=!0:this.saveButton=!1}},methods:u()({},Object(h.b)(["SHOW_NEWPREJECTPOP"]),{cancelAddPeople:function(e){if(!1!==e&&!1!==e.invite||(this.addPeopleShow=!1),e){var t=!0,i=!1,s=void 0;try{for(var n,r=l()(e.arr);!(t=(n=r.next()).done);t=!0){var a=n.value;this.userList.push({image:a.Images,userId:a.userid,realname:a.realname,add:!0})}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}}},describeBox:function(){var e=this;this.textShow=!0,this.describeShow=!0,this.descnFocus=!0,this.$nextTick(function(t){e.$refs.describeFocus.focus()})},addPeo:function(){this.addPeopleShow=!0,this.addListShow=!0,this.userLitsShow=!0;var e=[];if(this.userList){var t=!0,i=!1,s=void 0;try{for(var n,r=l()(this.userList);!(t=(n=r.next()).done);t=!0){var a=n.value;a.del||e.push(a.userId)}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}this.addPeopleLists=e}},delPeo:function(e,t){e.default?(e.del=!0,this.userList=[].concat(a()(this.userList))):e.default&&e.add&&this.$delete(e,"del",""),e.add&&(e.del=!0,e.add=!1,this.userList=[].concat(a()(this.userList)))},enterNew:function(){var e=this;if(0!=this.newButtonShow){this.startTime&&(this.startTime=this.format(this.startTime,"yyyy-MM-dd HH:mm:ss")),this.endTime&&(this.endTime=this.format(this.endTime,"yyyy-MM-dd HH:mm:ss"));var t=[];if(this.userList){var i=!0,s=!1,r=void 0;try{for(var a,o=l()(this.userList);!(i=(a=o.next()).done);i=!0){var c=a.value;t.push(c.userId)}}catch(e){s=!0,r=e}finally{try{!i&&o.return&&o.return()}finally{if(s)throw r}}}var u={title:this.title,descn:this.descn,userList:t.join(","),createrId:this.createrId,startTime:this.startTime,endTime:this.endTime};this.$HTTP("post","/project_add",u).then(function(t){200==t.code?(console.log(t.result),localStorage.setItem("projectItem",n()(t.result)),e.$router.push("/project/projectInfo"),e.$message.success("项目创建成功")):(e.closeNewPop(),e.$message.warning("项目创建失败"))})}},format:function(e,t){var i=new Date(e),s=function(e){return(e<10?"0":"")+e};return t.replace(/yyyy|MM|dd|HH|mm|ss/g,function(e){switch(e){case"yyyy":return s(i.getFullYear());case"MM":return s(i.getMonth()+1);case"mm":return s(i.getMinutes());case"dd":return s(i.getDate());case"HH":return s(i.getHours());case"ss":return s(i.getSeconds())}})},saveMain:function(){var e=this;if(this.saveButton){this.startTime&&(this.startTime=this.format(this.startTime,"yyyy-MM-dd HH:mm:ss")),this.endTime&&(this.endTime=this.format(this.endTime,"yyyy-MM-dd HH:mm:ss"));var t=[],i=[];if(this.userList){var s=!0,n=!1,r=void 0;try{for(var a,o=l()(this.userList);!(s=(a=o.next()).done);s=!0){var c=a.value;c.add&&t.push(c.userId),c.del&&i.push(c.userId)}}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}}var u={projectId:this.projectId,title:this.title,descn:this.descn,AddUserList:t.join(","),DelUserList:i.join(","),startTime:this.startTime,endTime:this.endTime,userId:this.userId};this.$HTTP("post","/project_update",u).then(function(t){e.$message("信息修改成功"),e.$emit("closePop")})}},closeNewPop:function(){this.$emit("closePop")},closeAdd:function(){this.addPeopleShow=!1},getProjectMain:function(e){var t=this,i={projectId:e};this.$HTTP("post","/project_get",i).then(function(e){t.itemInfo=e.result,t.oldItemInfo=[].concat(a()(e.result)),t.oneSelfImg=t.itemInfo.createrPic,t.title=t.itemInfo.title,t.descn=t.itemInfo.descn,t.startTime=t.itemInfo.startTime,t.endTime=t.itemInfo.endTime,t.userList=t.itemInfo.userlist,t.userList.splice(0,1);var i=!0,s=!1,n=void 0;try{for(var r,o=l()(t.userList);!(i=(r=o.next()).done);i=!0){r.value.default=!0}}catch(e){s=!0,n=e}finally{try{!i&&o.return&&o.return()}finally{if(s)throw n}}})},titleInputFocus:function(){this.titleFocus=!this.titleFocus},titleInputBlur:function(){this.titleFocus=!this.titleFocus},descnInputFocus:function(){this.descnFocus=!0},descnInputBlur:function(e){this.descnFocus=!1,""==e&&(this.textShow=!1)}}),created:function(){var e=JSON.parse(localStorage.getItem("staffInfo"));this.oneSelfImg=e.pic,this.createrId=e.userPkid,this.userId=e.userPkid,console.log(this.classify),"newInformation"!==this.classify&&this.getProjectMain(this.projectId),"pigeonhole"==this.classify&&(this.addListShow=!0)}},p={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"Info_k"}},[i("div",{staticClass:"popup"},[i("div",{staticClass:"popup_box_k"},[i("div",{staticClass:"popup_top"},["newInformation"==e.classify?i("span",{staticClass:"popup_title"},[e._v("新建项目")]):i("span",{staticClass:"popup_title"},[e._v("项目信息")]),e._v(" "),i("i",{staticClass:"iconfont  icon-guanbijiantou fr",on:{click:e.closeNewPop}})]),e._v(" "),i("div",{staticClass:"popup_content popup_content_k popup_content_main clearfix"},[i("ul",[i("li",{staticClass:"enterTitle"},[i("i",{staticClass:"iconfont icon-title"}),e._v(" "),"newInformation"==e.classify||"myResponsible"==e.classify?i("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],class:e.titleFocus?"pitchOn":"titleInput",attrs:{type:"text",placeholder:"输入项目的标题"},domProps:{value:e.title},on:{focus:e.titleInputFocus,blur:e.titleInputBlur,input:function(t){t.target.composing||(e.title=t.target.value)}}}):i("span",{staticClass:"titleInput"},[e._v(e._s(e.title))])]),e._v(" "),i("li",{staticClass:"describeBox clearfix"},[i("div",[i("i",{staticClass:"iconfont icon-caidan"}),e._v(" "),"newInformation"==e.classify||"myResponsible"==e.classify?i("span",{class:{describeBold:e.descn||e.textShow},on:{click:e.describeBox}},[e._v("描述")]):i("span",{staticClass:"describeBold"},[e._v("描述")])]),e._v(" "),i("textarea",{directives:[{name:"show",rawName:"v-show",value:e.textShow||e.descn,expression:"textShow ||descn"},{name:"model",rawName:"v-model",value:e.descn,expression:"descn"}],ref:"describeFocus",staticClass:"fr",class:e.descnFocus?"describePitchOn":"describe",staticStyle:{resize:"none"},attrs:{name:""},domProps:{value:e.descn},on:{focus:e.descnInputFocus,blur:function(t){e.descnInputBlur(e.descn)},input:function(t){t.target.composing||(e.descn=t.target.value)}}}),e._v(" "),"pigeonhole"==e.classify?i("span",{staticClass:"fr describes"},[e._v(e._s(e.descn))]):e._e()]),e._v(" "),i("li",{staticClass:"addProBox clearfix"},[i("i",{staticClass:"iconfont icon-haoyou"}),e._v(" "),"newInformation"==e.classify?i("span",{class:{addbold:e.addListShow},on:{click:e.addPeo}},[e._v("添加成员")]):i("span",{staticClass:"addbold"},[e._v("添加成员")]),e._v(" "),e.userLitsShow||"newInformation"!==e.classify?i("div",{staticClass:"addList clearfix"},[i("span",{staticClass:"oneself"},[i("img",{attrs:{src:e.oneSelfImg}})]),e._v(" "),i("span",{staticClass:"line"}),e._v(" "),i("span",{staticClass:"userImgBox clearfix"},[e._l(e.userList,function(t,s){return t.del?e._e():i("div",{key:s,staticClass:"userImg fl clearfix"},[i("span",{staticClass:"addPhoto fl"},[i("img",{attrs:{src:t.image,alt:""}}),e._v(" "),"pigeonhole"!==e.classify||"newInformation"==e.classify?i("i",{staticClass:"delBox"}):e._e(),e._v(" "),"pigeonhole"!==e.classify||"newInformation"==e.classify?i("i",{staticClass:"iconfont  icon-guanbijiantou",on:{click:function(i){e.delPeo(t,s)}}}):e._e()])])}),e._v(" "),"pigeonhole"!==e.classify||"newInformation"==e.classify?i("div",{staticClass:"addPhotoIcon fl",on:{click:e.addPeo}},[i("i",{staticClass:"iconfont icon-jia1"})]):e._e()],2)]):e._e()]),e._v(" "),i("li",{staticClass:"optionDate"},[i("i",{staticClass:"iconfont icon-rili1"}),e._v(" "),"iParticipate"==e.classify||"pigeonhole"==e.classify?i("span",[i("span",{directives:[{name:"show",rawName:"v-show",value:e.startTime,expression:"startTime"}]},[i("span",[e._v(e._s(e.startTime))]),e._v(" "),i("span",{staticClass:"lines"},[e._v("-")]),e._v(" "),i("span",[e._v(e._s(e.endTime))])]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!e.startTime,expression:"!startTime"}],staticStyle:{margin:"0"}},[e._v("创建者未设置时间")])]):i("span",[i("div",{staticClass:"block"},[i("el-date-picker",{attrs:{type:"date","default-time":"",placeholder:"设置开始时间"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1),e._v(" "),i("span",{staticClass:"lines"},[e._v(" -")]),e._v(" "),i("div",{staticClass:"block"},[i("el-date-picker",{attrs:{type:"date",placeholder:"设置截止时间"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1)])])]),e._v(" "),"newInformation"==e.classify?i("input",{staticClass:"enterNew fr",class:e.newButtonShow?"main_button_bg":"main_button_disabled_bg",attrs:{type:"button",value:"开始创建"},on:{click:e.enterNew}}):i("input",{staticClass:"enterNew fr",class:e.saveButton?"main_button_bg":"main_button_disabled_bg",attrs:{type:"button",value:"保存信息"},on:{click:e.saveMain}})])])]),e._v(" "),e.addPeopleShow?i("add-people",{attrs:{defaultTreeKeys:e.addPeopleLists,fromInfo:e.fromInfo},on:{handleCancel:e.cancelAddPeople}}):e._e()],1)},staticRenderFns:[]};var v=i("C7Lr")(f,p,!1,function(e){i("/qLT")},null,null);t.a=v.exports},cvk5:function(e,t){},cwPW:function(e,t){},e0be:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABBCAYAAACel4eZAAAACXBIWXMAAAsSAAALEgHS3X78AAACTElEQVRoBe3aP2gTURzA8d/v3Yt34S7+ae2gIihSEHEpFHTQSYcKHYoU/IcQN0cHBycJgtIxoIOdzKJgESfB0tFBcaoiSlH8A2IsplF6lzOX5nJPXqWlDkmpF+Pvjt93y3L5fe7xLhfuUCkFaUqkSsOgBMQg6jGIegyiHoOoJzvNd/q+N5ox1PjfGio1LE7ncy96eQ7a3pyenXIvA8DEkb3K2LllYzew5UWERgvgQxWX5l387DXg+HQ+96lLM3esLWjsruedGWo5Zsc1XD+Nm3krakETjvZitdruIWeTCuNidHp1Rw9EjiXhyUjJ2xr/iJ3ryUVhu63g4A6VG3BU8V9/1+oajJS8PQOOKqx8Ftj5grHRhndH8GbeOHX+gdt1RKWGhZU9uryHLjx0r9abeGVoV5Ttt3+f0SS04CNUfYDZL6KezaiJOyc3X8Pxe+4521SlE/sj2Y098z9qhACP50ToNzAvFEDx2GByMTo9uzZoi7CkkjmTwFQx0wZtEY4JjURL1qQtUqCwX39FMkPFSSDacrBPwsVDVnIVa7r9PAAhBVbJTBQzbeH/Q9RjEPUYRD0GUY9B1GMQ9RhEPQZRj0HUYxD1GEQ9BlEvfaDFIOonMEdXqvyMLFH2VJgCy3ILvjKFG0Tht1pEYJx4aYO2CES8VHwahP5Sct8O1rNrg7YYL6euv5p518RHc83DlsQMIMK2bDKeF338EcFsOYSbz4K6JfHG5Jh9a/VNEv1Yf1+fUVj3KAR7/73152P9NMU/rNRjEPUYRL10gQDgF4PcxMV9hQ1lAAAAAElFTkSuQmCC"},e2pZ:function(e,t,i){"use strict";var s=i("HzJ8"),n=i.n(s),r=i("IHPB"),a=i.n(r),o={props:["creatorId","defaultKeys","userList"],data:function(){return{list:[],listCopy:[],searchValue:""}},computed:{allSelected:function(){var e=[].concat(a()(this.list)).filter(function(e){return 1==e.checked});return!!e.length&&(e.length==this.list.length||void 0)}},methods:{search:function(e){var t=[].concat(a()(this.listCopy));this.list=t.filter(function(t){return-1!=t.userName.indexOf(e)||-1!=t.nickName.indexOf(e)})},allChange:function(e){if(!e)for(var t=0;t<this.list.length;t++)this.change(t,!0)},change:function(e,t){this.list[e].checked=t||!1===t?t:!this.list[e].checked,this.list[e].default?this.list[e].checked?delete this.list[e].del:this.list[e].del=!0:this.list[e].checked?this.list[e].add=!0:!this.list[e].checked&&this.list[e].add&&delete this.list[e].add,this.list=this.list.concat()},invitePeople:function(){var e=this.computedNum();(e.add||e.del)&&this.$emit("handleSure",e),e.ids&&this.$emit("handleInvite",e.ids)},sure:function(){var e=this.computedNum();e.add||e.del?this.$emit("handleSure",e):this.$emit("handleSure",void 0)},computedNum:function(){var e=[],t=[],i=[],s=!0,r=!1,a=void 0;try{for(var o,l=n()(this.list);!(s=(o=l.next()).done);s=!0){var c=o.value;c.checked&&e.push(c.userId),c.add&&t.push(c.userId),c.del&&i.push(c.userId)}}catch(e){r=!0,a=e}finally{try{!s&&l.return&&l.return()}finally{if(r)throw a}}return{add:t,del:i,ids:e}},getProjectPeople:function(){this.list=[].concat(a()(this.userList)),this.list.map(function(e){return e.checked=!1});var e=!0,t=!1,i=void 0;try{for(var s,r=n()(this.defaultKeys);!(e=(s=r.next()).done);e=!0){var o=s.value,l=!0,c=!1,u=void 0;try{for(var d,h=n()(this.list);!(l=(d=h.next()).done);l=!0){var f=d.value;f.userId==o&&(f.checked=!0,f.default=!0),f.add&&delete f.add,f.del&&delete f.del}}catch(e){c=!0,u=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw u}}}}catch(e){t=!0,i=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw i}}this.list=this.list.concat(),this.listCopy=this.list.concat()}},created:function(){this.getProjectPeople()}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"participant_y"},[i("div",{staticClass:"top_search"},[i("el-input",{attrs:{placeholder:"搜索","prefix-icon":"el-icon-search",size:"small"},on:{input:e.search},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1),e._v(" "),e.list&&e.list.length?i("div",{staticClass:"center_list"},[i("div",{staticClass:"all_checked",on:{click:function(t){t.stopPropagation(),e.allChange(e.allSelected)}}},[i("i",{staticClass:"iconfont icon-haoyou"}),e._v(" "),i("span",[e._v("所有任务成员")]),e._v(" "),e.allSelected?i("i",{staticClass:"iconfont icon-xuanzhong"}):e._e()]),e._v(" "),i("ul",{staticClass:"center_ul"},e._l(e.list,function(t,s){return i("li",{key:s,on:{click:function(t){t.stopPropagation(),e.change(s)}}},[i("img",{staticClass:"header",attrs:{src:t.userPic,alt:""}}),e._v(" "),t.nickName?i("span",{staticClass:"names"},[e._v(e._s(t.nickName))]):i("span",{staticClass:"names"},[e._v(e._s(t.userName))]),e._v(" "),t.checked?i("i",{staticClass:"iconfont icon-xuanzhong"}):e._e()])}),0)]):i("div",{staticClass:"center_list"},[""!=e.searchValue?i("p",{staticClass:"list_empty"},[e._v("没有搜到～～")]):i("p",{staticClass:"list_empty"},[e._v("项目中暂无人员，点击\n            "),i("span",{staticClass:"mainColor_text",on:{click:function(t){return t.stopPropagation(),e.invitePeople(t)}}},[e._v("邀请好友")]),e._v("添加人员")])]),e._v(" "),i("div",{staticClass:"participant_bottom"},[i("button",{staticClass:"main_button_",on:{click:function(t){return t.stopPropagation(),e.invitePeople(t)}}},[e._v("邀请好友")]),e._v(" "),i("button",{staticClass:"main_button_bg",on:{click:function(t){return t.stopPropagation(),e.sure(t)}}},[e._v("确定")])]),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"arrow_div"},[t("div",{staticClass:"arrow_box"})])}]};var c=i("C7Lr")(o,l,!1,function(e){i("xlya")},null,null);t.a=c.exports},eE66:function(e,t,i){"use strict";var s=i("1Ouf"),n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"popup",attrs:{id:"shadePop"}},[i("div",{staticClass:"editStage"},[i("div",{staticClass:"titleTop"},[e._v("编辑项目阶段\n            "),i("i",{staticClass:"iconfont icon-return fl",on:{click:e.closePop}})]),e._v(" "),i("div",{staticClass:"defaultLists"},[i("ul",{staticClass:"stageLists labelLists clearfix"},[e._l(e.stageLists,function(t,s){return i("li",{key:s,staticClass:"stageL fl cur",on:{click:function(i){i.stopPropagation(),e.addStage(t)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"list.title"}],staticClass:"title",attrs:{disabled:t.isRedact},domProps:{value:t.title},on:{change:function(i){e.stageChange(t.title)},blur:function(i){i.stopPropagation(),e.newStageBlur(t.title,t)},input:function(i){i.target.composing||e.$set(t,"title",i.target.value)}}}),e._v(" "),i("i",{staticClass:"iconfont icon-bianji",on:{click:function(i){i.stopPropagation(),e.redactStage(t,s)}}}),e._v(" "),t.enabled?e._e():i("i",{staticClass:"iconfont icon-close-",on:{click:function(i){i.stopPropagation(),e.delStage(t,s)}}}),e._v(" "),t.enabled?i("i",{staticClass:"iconfont icon-xuanze1"}):e._e()])}),e._v(" "),i("li",{staticClass:"userDefined fl cur",on:{click:e.addList}},[e._v("自定义")])],2)]),e._v(" "),i("div",{staticClass:"selective"},[i("p",[e._v(" 阶段展示 ")]),e._v(" "),i("div",[i("draggable",{attrs:{options:{handle:".icon-yidong"}},on:{update:e.datadragEnd,start:e.starDrag},model:{value:e.stageLists,callback:function(t){e.stageLists=t},expression:"stageLists"}},[i("transition-group",e._l(e.stageLists,function(t,s){return t.enabled?i("div",{key:t.pkid,staticClass:"stageListCheck",attrs:{"data-partitionid":t.pkid}},[i("div",[i("i",{staticClass:"iconfont icon-yidong cur"}),e._v(" "),i("span",{staticClass:"stageName cur"},[e._v(" "+e._s(t.title))]),e._v(" "),i("i",{staticClass:"iconfont icon-close-",on:{click:function(i){e.delCheck(t,s)}}})])]):e._e()}),0)],1)],1)])])])},staticRenderFns:[]};var r=function(e){i("VJBB")},a=i("C7Lr")(s.a,n,!1,r,null,null);t.a=a.exports},eeMx:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAAC4jAAAuIwF4pT92AAACVklEQVRYCe2Zv07DMBDGv0bdYSIiC+UJQLAxlTfgDciSmUrADC+AVFYy0BG29g26UNZWgoUJBArKgERhYym6cg6pEydNSBMPfFLUVM6fX+7s8/lcm0wmyCPTtTYBNPmg8zXFY0YAhgD6ALq+473neV8mUNO1lgHYAFoJYGnqAej4jtddCKjpWqcMuJQTUBZZuuU7Xr8QUHZxB8BGQYCyyMJ2WpdIBDVdi9x8uSDAsJ4A7PmON1RdYKgaTNdqlwQJ7u999l6sYkEZ8qAkSKGlJNiI60t0t0pjCne+4z2G22csyl9TJSTYspHQJbu+Ux5PojY4HAYKXM8NJ5qACq2LLjC1KM84LR3IJAVWFa63C5xxitS+6VqNMKiO1hQiI8LgkZ43wShDP6CcpumsNXJ/XQV6vH0YnD9/vuDq4Tr1W/56z413i8HrIO6yZp2T3oiOtn4fMHi9neulf70HOFOBNgzN+6dQU5k96aZ/0KL1D1qwHg1eDWoPWlu5WKUcdF9u2VndCc4/vsa4e7svGy6s3TpXMCKgisBblYZGXNqvmXq05jd44d/TGHRqSDHqdVkryRrPgHLBSsfR3xalnnAc1S3LpzJPW/wJQLmqplNfbYULZ/LMZPOXVK1zuX4aV9LZ5Nha1ap05DteJJmPzPVc+mvyiCtbI9XSKDYpqQh2Cqkq6KYVchscxxZVbRaiPpkYdeaq4S+wLvXEozt1Gs+y2dDgWlAkgcmhMcfI9rzbOZn3mRjY5iPrCpbiNFkv835T7g0xEkPToBO/sqhkSAeFu2HezTAA+AakDesLe7fEagAAAABJRU5ErkJggg=="},fb0b:function(e,t,i){e.exports=i.p+"static/img/tolead.79bd6a7.png"},fcQl:function(e,t,i){e.exports=i.p+"static/img/module_2.2ea9ede.png"},hhMQ:function(e,t,i){"use strict";(function(e){var s=i("zsLt"),n=i.n(s),r=i("IHPB"),a=i.n(r),o=i("HzJ8"),l=i.n(o),c=i("rVsN"),u=i.n(c),d=i("lC5x"),h=i.n(d),f=i("J0Oq"),p=i.n(f),v=i("4YfN"),m=i.n(v),g=i("9rMa"),_=i("z0pV");i.n(_);t.a={props:["defaultTreeKeys","invite","fromInfo"],data:function(){return{userPkid:JSON.parse(localStorage.getItem("staffInfo")).userPkid,userName:JSON.parse(localStorage.getItem("staffInfo")).realName,defaultProps:{children:"friendsList",label:"userName"},treeList:[],usedList:[],selectedList:[],emailList:[{email:"",check:""},{email:"",check:""}],disabled:!1,addInvite:!1,addIdsCopy:[],keysList:[]}},computed:m()({},Object(g.c)(["demo"]),{canInvite:function(){this.emailList.findIndex(function(e){return e.check})}}),methods:{lastStep:function(){var e=this;return p()(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.addInvite){t.next=19;break}return e.addInvite=!1,e.selectedList=[],t.prev=3,t.next=6,e.getList();case 6:return t.next=8,e.getUserList();case 8:if(t.t0=!e.invite,!t.t0){t.next=12;break}return t.next=12,e.setInitChecked(e.keysList);case 12:t.next=17;break;case 14:t.prev=14,t.t1=t.catch(3),console.log(t.t1);case 17:t.next=20;break;case 19:e.$emit("handleCancel");case 20:case"end":return t.stop()}},t,e,[[3,14]])}))()},cancel:function(){this.addInvite=!1,this.$emit("handleCancel",!1)},addSure:function(){var e=this.computedNum();console.log(e);var t=e.ids;t&&t.length?this.$emit("handleCancel",{addIds:t,arr:e.arr,invite:!1}):this.$emit("handleCancel",!1)},setCheckedNodes:function(e){for(var t=0;t<e.length;t++)e[t].checked||(e.splice(t,1),t--);this.$refs.tree1.setCheckedNodes(e)},setInitChecked:function(e){var t=this;return new u.a(function(i,s){var n=!0,r=!1,a=void 0;try{for(var o,c=l()(e);!(n=(o=c.next()).done);n=!0){var u=o.value;u=Number(u);var d=!0,h=!1,f=void 0;try{for(var p,v=l()(t.usedList);!(d=(p=v.next()).done);d=!0){var m=p.value;u==m.userid&&(m.checked=!0,m.disabled=!0)}}catch(e){h=!0,f=e}finally{try{!d&&v.return&&v.return()}finally{if(h)throw f}}var g=!0,_=!1,y=void 0;try{for(var C,w=l()(t.treeList);!(g=(C=w.next()).done);g=!0){var A=C.value,k=!0,b=!1,I=void 0;try{for(var x,P=l()(A.friendsList);!(k=(x=P.next()).done);k=!0){var S=x.value;S.userid==u&&(S.checked=!0,S.disabled=!0,t.selectedList.push(S))}}catch(e){b=!0,I=e}finally{try{!k&&P.return&&P.return()}finally{if(b)throw I}}}}catch(e){_=!0,y=e}finally{try{!g&&w.return&&w.return()}finally{if(_)throw y}}}}catch(e){r=!0,a=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw a}}t.usedList=t.usedList.concat(),t.setCheckedNodes(t.selectedList),i(!0)})},treeCheckChange:function(e,t){e.checked=t,e.groupName||this.checkedOne(e)},usedCheckChange:function(e){this.checkedTwo(e)},delCheckChange:function(e,t){e.checked=!1,this.selectedList.splice(t,1),this.checkedThree(e)},checkedOne:function(e){var t=this.usedList.findIndex(function(t){return t.userid===e.userid});-1!=t&&(this.usedList[t].checked=e.checked);var i=this.selectedList.findIndex(function(t){return t.userid===e.userid});-1!=i?this.selectedList[i].checked=e.checked:this.selectedList.push(e),this.usedList=this.usedList.concat(),this.selectedList=this.selectedList.concat()},checkedTwo:function(e){var t=this.selectedList.findIndex(function(t){return t.userid===e.userid});-1!=t?this.selectedList[t].checked=e.checked:this.selectedList.push(e),this.setCheckedNodes(this.selectedList),this.selectedList=this.selectedList.concat()},checkedThree:function(e){var t=this.usedList.findIndex(function(t){return t.userid===e.userid});-1!=t&&(this.usedList[t].checked=e.checked),this.setCheckedNodes(this.selectedList),this.usedList=this.usedList.concat()},computedNum:function(){var e=[],t=[],i=!0,s=!1,n=void 0;try{for(var r,a=l()(this.selectedList);!(i=(r=a.next()).done);i=!0){var o=r.value;o.checked&&!o.disabled&&(e.push(o.userid),t.push(o))}}catch(e){s=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(s)throw n}}return e.length,{ids:e,arr:t}},clickInvite:function(){this.addInvite=!0;var e=this.computedNum(),t=e.ids;t&&t.length&&(this.addIdsCopy=t,this.treeList&&this.$message.success("已将修改后的人员加至项目中，前往邀请页面"),this.$emit("handleCancel",{addIds:t,arr:e.arr,invite:!0}),this.keysList=this.keysList.concat(this.defaultTreeKeys),this.keysList=this.keysList.concat(t))},emailFocus:function(e){e===this.emailList.length-1&&this.emailList.push({email:"",check:""})},emailBlur:function(e){if(""!==e.email)if(new RegExp("^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$").test(e.email)){var t={userId:JSON.parse(localStorage.getItem("staffInfo")).userPkid,email:e.email};this.$HTTP("post","/user_friends_exists_email",t).then(function(t){200==t.code?e.check="":1==t.code||2==t.code&&(e.check="已经是您的好友")}).catch(function(e){console.log("请求失败",e)})}else e.check="邮箱格式错误"},emailInput:function(e){e.check&&(e.check="")},inviteButton:function(){var e=[],t=[],i=!0,s=!1,r=void 0;try{for(var o,c=l()(this.emailList);!(i=(o=c.next()).done);i=!0){var u=o.value;u.check?t.push(u):u.email&&e.push(u.email)}}catch(e){s=!0,r=e}finally{try{!i&&c.return&&c.return()}finally{if(s)throw r}}e.length?(e=[].concat(a()(new n.a(e))),this.inviteJoin(e.join(","),t),this.$emit("handleInvite",e)):t.length===this.emailList.length-1?this.$message({type:"error",message:"邮箱格式错误!",center:!0}):this.$message({type:"error",message:"您还没有输入邀请邮箱!",center:!0})},inviteJoin:function(t,i){var s=this,n={emailList:t,myUserId:this.userPkid,type:this.fromInfo.type,id:this.fromInfo.id};this.$HTTP("post","/user_invitationEmail",n,e("#app")[0]).then(function(e){s.$message({type:"success",message:"您的邀请已发送成功!",center:!0}),s.emailList=[],1===i.length?s.emailList=s.emailList.concat(i,[{email:"",check:""}]):i.length>=2?s.emailList=s.emailList.concat(i):s.emailList=[{email:"",check:""},{email:"",check:""}],console.log(e)})},copyButton:function(){document.getElementById("copyContent").select(),document.execCommand("Copy",!1,null)&&this.$message.success("已复制到剪贴板，赶快粘贴发送给好友吧")},getList:function(){var e=this;return new u.a(function(t,i){var s={myUserId:e.userPkid};e.$HTTP("post","/user_friends_getlist",s).then(function(i){e.treeList=[].concat(a()(i.result));var s=!0,n=!1,r=void 0;try{for(var o,c=l()(e.treeList);!(s=(o=c.next()).done);s=!0){var u=o.value;u.userName=u.groupName;var d=!0,h=!1,f=void 0;try{for(var p,v=l()(u.friendsList);!(d=(p=v.next()).done);d=!0){var m=p.value;m.userName=m.nickName?m.nickName:m.userName}}catch(e){h=!0,f=e}finally{try{!d&&v.return&&v.return()}finally{if(h)throw f}}u.friendsList.map(function(e){return(e.checked=!1)&&(e.disabled=!0)})}}catch(e){n=!0,r=e}finally{try{!s&&c.return&&c.return()}finally{if(n)throw r}}console.log("好友分组列表",e.treeList),t(e.treeList)}).catch(function(e){console.log("获取好友分组列表失败",e),i(e)})})},getUserList:function(){var e=this;return new u.a(function(t,i){e.usedList=[],e.usedList=[],e.usedList.map(function(e){return(e.checked=!1)&&(e.disabled=!0)}),t(e.usedList)})}},created:function(){var e=this;return p()(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("-----",e.defaultTreeKeys,e.fromInfo),t.prev=1,t.next=4,e.getList();case 4:return t.next=6,e.getUserList();case 6:if(t.t0=!e.invite,!t.t0){t.next=10;break}return t.next=10,e.setInitChecked(e.defaultTreeKeys);case 10:t.next=15;break;case 12:t.prev=12,t.t1=t.catch(1),console.log(t.t1);case 15:case"end":return t.stop()}},t,e,[[1,12]])}))()}}}).call(t,i("L7Pj"))},hjiM:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAACXBIWXMAAAsSAAALEgHS3X78AAABfklEQVRIDe2WP2vCQBiH38td49BiBzNEOxRBP4KDCO6Z3JwU2t2xc8WlX0D3dnDSz+AiiIObIAhxsEOjgh2qS738K3fFFk1UkmiH4g8Owl3yPO97CUmQ2Ww+CtNpxUwk3kAUDfAYrKpXoOsPUCq9uF2J7GrVNrJZMJNJr2yeUL3+AavVNQDcu0kEVrlf+FaeoVa7cwj8bIsXiXBEuKvkFIINCQlKsgEu0W5J8A50RSG2KOpAyDtgPNsaT8E7iESAFosXwmQS2V7Dg8EssGAdKxp1zAnj8eepbvKv5Cw4C86CfyDY+y7CwyGQTocf25IEliTxORYjlfoG9Ho/6zSXczAOdmDFYkDzeUDzOaDFgoNXhQKQfn/jPDMe994Br0DTQGw0uMgOh10L0BVl5/WuArRccqiRyWwA2HaxLWFjvUUQCu0tEBmt1thIp28PdeInpNt9/YPHlNKjfdUcoZQIeDS6wap6dDZjMjaxZLlM2u0K0jRfP7+uoZQwuCXL5S8W8Yz9N9J6MAAAAABJRU5ErkJggg=="},huUL:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ4AAAB1CAYAAAC/Blg6AAAACXBIWXMAAAsSAAALEgHS3X78AAAD/0lEQVR4nO3dvW7TUByG8b+dBOeD0gJqgQUqQRdg4yqQEB87F8GlcA0sjDAgITFxAwwIGPhUgQEoKtDSNHEb2+ikSSk0kRJB8rrHz0/qZrc+1hPHSX3sIMsy67luZrfN7IwB/997M7tlZvfdb+6H56K7x87GFNxw8fXDW+ZIhylxR77FfngZex1TFITsbSgQHiQIDxKEBwnCgwThQYLwIEF4kCA8SBAeJAgPEoQHCcKDBOFBgvAgQXiQIDxIEB4kCA8ShAcJwoME4UGi7Otub3cye/g2tuW1xE40Qluoa15jT790bHGuZFeWIotKgWQb8sjLebUuursvWnZhvmIX5yvSbbnzrGlhENjxWkh8v/k5r9Yd6c4dLcuj22u1ldqD17HFCXPnzddzvM/NxC6dOpSDLfkT8f3mXXg/2mmu386Ib4d34c1VQzt9pJSDLRmO+Pg6Rabo8RGekIvv0butQo6d8MQ+bST2+H1cuHETXg68+la8+AgvJ4oWH+HlSJHiI7wJq1YC64zxwbUo8RHehJ0/XrEkHe8rkyLER3gTtnS0bK677XS8v+N7fIQ3YVE5sGtLNdvczixOxvtbPsdHeFOw0Ajt5sWazdcD+xG7ADNzl6ON8vNytePlPvH2QtC8mY1Cu7pU627VSjMd+V9lz79ue7k/CE/AHQFH9XHdzyMeb7WQIDxIEB4kCA8ShAcJwoME4UGC8CBBeJAgPEgQHiQIDxKEBwnCgwThQYLwIEF4kCA8SHDpe0+WpdbaWLc02bnUvBLVLKo1Bi7rlnHLunXcLSAP1WasEkUDl92OY9tq/ezeZNotWz08a6Vyfm6Rq8IRryfebO5GZ91gWpZ0Bk+0aW9udKOz3l3L49ZPS9PBE2f70fWXbW+sTWT7DxrC68my/ZNeh4W3N9Dd9dPB6/89l4y7H+8gvJ4g2H/72mFviWFp/xlKEA5e/++7MfOwgR2E1xPVG38E5c7xhoVXrR+2oPekBhdSVJuxMBy8K935Xz+2/jke+HCxy4VUn5kbaVkXaGP22EjLug8dwz54FBlHPEgQHiQIDxKEBwnCgwThQYLwIEF4kCA8SBAeJAgPEoQHCcKDBOFBgvAgQXiQIDxIeBneh/Uxn1aXYz6NZS8vwxv1OWEHgU9j2cvL8E42Svbk01YOtuTfuDG4sfjIy/Aun43szffOgX7yodt2NwY3Fh8F7pmoPs4zbncye/g2tuW1xE40QluoH4zX2Mpmal+aqS3OlrrRVctezsQNvA0PuRbwdQokCA8ShAcJwoME4UGC8CBBeJAgPEgQHiQIDxKEBwnCgwThQYLwIEF4kCA8SBAeJAgPEoQHCcKDBOFBgvAgQXiQIDxIEB6mz8x+AZnBU6MU4Q0DAAAAAElFTkSuQmCC"},hxba:function(e,t){},"i+oY":function(e,t){},iIsA:function(e,t,i){"use strict";var s=i("YAD0"),n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"FileDetails"}},[s("div",{staticClass:"fileTop"},[s("div",{staticClass:"fl leftNav"},[s("ul",[e._l(this.info.menuList,function(t,i){return s("li",{directives:[{name:"show",rawName:"v-show",value:i<3,expression:"index<3"}],key:i,staticClass:"fl"},[e._v("\n                    "+e._s(t)+" /\n                ")])}),e._v(" "),s("span",[e.modifyShow?s("span",{staticClass:"cur fileName"},[e._v(" "+e._s(e.fileItem.FileName)+"\n                        "),e.fileItem.isOwn?s("i",{staticClass:"iconfont  icon-bianji",on:{click:e.ModifyFileName}}):e._e()]):e._e(),e._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:!e.modifyShow,expression:"!modifyShow"},{name:"model",rawName:"v-model",value:e.fileItem.FileTitle,expression:"fileItem.FileTitle"}],attrs:{type:"text",id:"fileNameInput"},domProps:{value:e.fileItem.FileTitle},on:{blur:function(t){e.autofocusFileName(e.fileItem)},input:function(t){t.target.composing||e.$set(e.fileItem,"FileTitle",t.target.value)}}})])],2)]),e._v(" "),s("div",{staticClass:"right fr"},[s("span",{staticClass:"cur"},[s("i",{staticClass:"iconfont icon-xiazai"},[s("a",{attrs:{href:e.fileItem.Url,download:e.fileItem.FileName}},[e._v("下载")])])]),e._v(" "),e._m(0),e._v(" "),s("span",{staticClass:"cur",on:{click:e.closeDetails}},[s("i",{staticClass:"iconfont icon-guanbijiantou"})])])]),e._v(" "),s("div",{staticClass:"fileContent"},[s("div",{staticClass:"content_box"},[s("div",{staticClass:"leftFileOne",attrs:{id:"leftFileOne"}},[s("div",{staticClass:"fileBoxBig"},[s("div",{staticClass:"fileListBox",attrs:{id:"fileListBox"}},[1==e.fileItem.FileType?s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.imgLoading,expression:"imgLoading"}],staticClass:"imgBg",attrs:{"element-loading-text":"Loading","element-loading-spinner":"el-icon-loading"}},[s("img",{attrs:{id:"ImgBg",src:e.fileItem.Url,alt:"",draggable:"true"}})]):e._e(),e._v(" "),2==e.fileItem.FileType||3==e.fileItem.FileType||5==e.fileItem.FileType||11==e.fileItem.FileType?s("div",{staticClass:"otherType"},[s("iframe",{attrs:{src:e.fileItem.Url,width:"100%",height:"100%",frameborder:"0"}})]):e._e(),e._v(" "),6==e.fileItem.FileType?s("div",{staticClass:"pdfType"},[s("c-pdf",{attrs:{pdfurl:this.fileItem.Url},on:{closepdf:e.closepdf}})],1):e._e(),e._v(" "),7==e.fileItem.FileType?s("div",{staticClass:"audio_div"},[s("div",{staticClass:"audioBox"},[s("div",{staticClass:"iframe_title"},[e._v(e._s(e.fileItem.FileName))]),e._v(" "),7==e.fileItem.FileType?s("audio",{attrs:{src:e.fileItem.Url,controls:"controls",autoplay:"autoplay",preload:"preload"}},[e._v("亲 您的浏览器不支持html5的audio标签")]):e._e()])]):e._e(),e._v(" "),8==e.fileItem.FileType?s("div",{staticClass:"video_div"},[s("div",{staticClass:"videoBox"},[8==e.fileItem.FileType?s("video",{attrs:{src:e.fileItem.Url,controls:"controls",autoplay:"autoplay",preload:"preload"}},[e._v("亲 您的浏览器不支持html5的video标签")]):e._e()])]):e._e(),e._v(" "),0==e.fileItem.FileType||4==e.fileItem.FileType||9==e.fileItem.FileType||10==e.fileItem.FileType?s("div",{staticClass:"OtherStyle"},[s("div",{staticClass:"otherBox"},[s("div",{staticClass:"topName"},[s("div",{staticClass:"c"},[e._v(" "+e._s(e.fileItem.FileName)+" ")])]),e._v(" "),s("div",{staticClass:"fileImg"},[0===e.fileItem.FileType?s("img",{staticClass:"typeTwo",attrs:{src:i("MzaG")}}):e._e(),e._v(" "),4===e.fileItem.FileType?s("img",{staticClass:"typeTwo",attrs:{src:i("JYI+")}}):e._e(),e._v(" "),9===e.fileItem.FileType?s("img",{staticClass:"typeTwo",attrs:{src:i("Gttd")}}):e._e(),e._v(" "),10===e.fileItem.FileType?s("img",{staticClass:"typeTwo",attrs:{src:i("YCba")}}):e._e()]),e._v(" "),s("div",{staticClass:"dowButton cur"},[s("a",{attrs:{href:e.fileItem.Url,download:e.fileItem.FileName}},[e._v("下载文件（"+e._s(e.fileItem.Size)+"）")])])])]):e._e()]),e._v(" "),s("div",{staticClass:"personalInfo"},[s("span",{staticClass:"userImg"},[s("img",{attrs:{src:e.fileItem.UserPic,alt:""}})]),e._v(" "),s("span",{staticClass:"nickName"},[e._v(e._s(e.fileItem.nickName))]),e._v(" "),s("span",{staticClass:"formatTime"},[e._v(e._s(e.fileItem.formatTime))]),e._v(" "),e._e()])]),e._v(" "),s("div",{staticClass:"commentBox"},[s("div",{staticClass:"topInputBox"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.commentInfo,expression:"commentInfo"}],staticClass:"commentiInput",attrs:{name:"",placeholder:"输入评论内容，可@通知对方，Enter快速发布"},domProps:{value:e.commentInfo},on:{input:function(t){t.target.composing||(e.commentInfo=t.target.value)}}}),e._v(" "),s("div",{staticClass:"atButton"},[s("span",{staticClass:"fr commentButton",class:e.commentInfo?"main_button_bg":"main_button_disabled_bg",on:{click:function(t){e.sendComment(e.commentInfo)}}},[e._v("评论")])])]),e._v(" "),s("div",{staticClass:"allComment",attrs:{id:"allComment"}},[e.commentInfoLists.length?s("p",[e._v("全部评论")]):e._e(),e._v(" "),s("ul",e._l(e.commentInfoLists,function(t,i){return s("li",{key:i,staticClass:"clearfix commentList"},[s("span",{staticClass:"commentator"},[s("img",{attrs:{src:t.userPic,alt:""}})]),e._v(" "),s("div",{staticClass:"commentatorInfo"},[s("p",{staticClass:"name"},[e._v(e._s(t.nickName))]),e._v(" "),s("p",{staticClass:"infoBox"},[e._v(e._s(t.descn))])]),e._v(" "),s("span",{staticClass:"fr time"},[s("p",[e._v(e._s(t.createTime))])])])}),0)])])])]),e._v(" "),s("div",{staticClass:"rightFileLists fr",attrs:{id:"rightFileLists"}},[s("el-select",{staticClass:"el_select",attrs:{placeholder:"请选择"},on:{change:function(t){e.checkGroup(e.defaultGroupList)}},model:{value:e.defaultGroupList,callback:function(t){e.defaultGroupList=t},expression:"defaultGroupList"}},e._l(e.groupList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),s("ul",{staticClass:"allFileLists"},e._l(e.fileLists,function(t,i){return s("li",{key:i,staticClass:"allList",class:{allListCheck:e.checkIndex==i},attrs:{id:e.checkIndex==i?"selectFile":""},on:{click:function(s){e.checkFile(t,i)}}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.checkIndex==i,expression:"checkIndex==index"}],staticClass:"check"}),e._v(" "),s("span",{staticClass:"fileBox"},[s("img",{attrs:{src:t.UrlMin,alt:""}})]),e._v(" "),s("p",[e._v(e._s(t.FileName))])])}),0)],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"cur"},[t("i",{staticClass:"iconfont icon-fenxiang"}),this._v(" 分享\n            ")])}]};var r=function(e){i("pn0K")},a=i("C7Lr")(s.a,n,!1,r,null,null);t.a=a.exports},iLpf:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAA1CAYAAADiUa1YAAAACXBIWXMAAAsSAAALEgHS3X78AAACe0lEQVRoge2asbIhURCGe7e2SIhIiEREIhIikYhM5AE8x+6biLwACZGISERCJCISkZDY+ru0OnfW3a6tOrdW8H9VUzNzzpkx/U2fPm5d3+73+08hnwJBd+r5nO/v+mDvAgU5UJADBTlQkAMFOVCQAwU5UJADBTlQkAMFOVCQAwU5UJADBTlQkAMFOVCQAwU5/Ihxk8PhIJPJRDKZjPT7/Q99s9lM9vu9dDodKRaL2nY6nWSxWMjxeNTzQqEgpVJJqtXq87rxePzsB6lUSnK5nFQqFSmXy9q2Wq10e8VgMIgRWhxBxuVy0eARCLjdbion5Hw+a/AIuFarqRyMWS6Xkk6nn8ED3KfRaOgx7o1x8/lc2+0zAOR/FVEFIYO22600m009x3ESvHHI6fV6ugeWWQgemWTt2FsfQN9wOPzwEsLrv4KoNQgBhBmz2+20LQT9oQTDphemq4EMxLltmJbymJIh4RhsEBiLqBmE+rDZbPQBIQB7BB5KQ9CYSkmy2ay24BqTimPUNgNZ02q1nmONcIwJ7Ha7UWKKKggB2DRDEHaeHHO9Xv+4FuKs37BAkRWoUfLI0iSxCvIroi/zyCJkDKZXWHANK8omxLB69aqeoK3dbmuBn06nsR/5r0TNIAApKMRYdfC2EVRIvV7X5Xs0Gun0Q8as12ttw/RJ1iYDGYlVD5mE8eFXgrBuGfl8/tN7/QvRBdnUwh5bUhAeGtkAicgaiLTl/FXGhUAKMhPXIlONZA2Sx9IfY3Xjrzsc+KeGAwU5UJADBTlQkAMFOVCQAwU5UJADBTlQkAMFOVCQAwU5UJADBTlQkAMFOVCQAwU54L8av976Cf8nIvIbKn7+k2uYvvoAAAAASUVORK5CYII="},jJoP:function(e,t,i){"use strict";(function(e){var s=i("rVsN"),n=i.n(s),r=i("IHPB"),a=i.n(r),o=i("aA9S"),l=i.n(o),c=i("lC5x"),u=i.n(c),d=i("HzJ8"),h=i.n(d),f=i("J0Oq"),p=i.n(f),v=i("e2pZ"),m=i("NYhm"),g=i("+Llw");t.a={components:{Participant:v.a,AddPeople:m.a,Reminder2:g.a},props:["defaultList","ids","fullViewFlag"],data:function(){return{stagePeopleList:[],addPeopleShow:!1,creatorId:"",defaultKeys:[],userList:[],selectedIndex:[],delPeopleFlag:!1,inviteShow:!1,inviteDefaultKeys:[],fromInfo:{type:2,id:this.ids.taskId}}},methods:{peopleEnter:function(e){e.hovers=!0,this.stagePeopleList=this.stagePeopleList.concat()},peopleLeave:function(e){e.hovers=!1,this.stagePeopleList=this.stagePeopleList.concat()},delPeople:function(e,t,i){this.delPeopleFlag=!0,this.reminderText="是否确认从任务中删除参与人："+(e.nickName?e.nickName:e.userName),this.selectedIndex=[t,i]},delPeopleCancel:function(){this.delPeopleFlag=!1},delPeopleSure:function(){var e=this;this.delPeopleFlag=!1;var t=this.selectedIndex[0],i=this.selectedIndex[1],s={projectId:this.ids.projectId,addVale:"",delVale:this.stagePeopleList[t].userList[i].userpkid,stageId:this.stagePeopleList[t].stageId,taskId:this.ids.taskId,myUserId:this.ids.userId};this.$HTTP("post","/stageTask_user_update",s).then(function(s){var n={item:e.stagePeopleList[t],del:[e.stagePeopleList[t].userList[i].userpkid],add:[]};e.$emit("stageInfoChange",1,n),e.stagePeopleList[t].userList.splice(i,1),console.log("任务删除人员",s,e.stagePeopleList)}).catch(function(e){console.log("任务删除人员失败",e)})},addPeople:function(t){var i=this;return p()(u.a.mark(function s(){var n,r,a,o,l,c,d,f;return u.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:for(i.selectedIndex[0]=t,i.defaultKeys=[],n=i.stagePeopleList[t].userList,r=!0,a=!1,o=void 0,s.prev=6,l=h()(n);!(r=(c=l.next()).done);r=!0)d=c.value,i.defaultKeys.push(d.userpkid);s.next=14;break;case 10:s.prev=10,s.t0=s.catch(6),a=!0,o=s.t0;case 14:s.prev=14,s.prev=15,!r&&l.return&&l.return();case 17:if(s.prev=17,!a){s.next=20;break}throw o;case 20:return s.finish(17);case 21:return s.finish(14);case 22:return i.selectedIndex=i.selectedIndex.concat(),s.prev=23,s.next=26,i.getProjectUser();case 26:i.addPeopleShow=t,i.$nextTick(function(){var i,s,n=void 0,r=void 0;n=e(".add_people_box").eq(t).offset().top,r=e(".add_people_box").eq(t).offset().left,i=e("#addPeople").width(),s=e("#app").width(),n+=40,(r-=155)+i>s&&(r=s-i-24),e("#addPeople").css({top:n+"px",left:r+"px"})}),s.next=33;break;case 30:s.prev=30,s.t1=s.catch(23),console.log(s.t1);case 33:f=function t(s){i.addPeopleShow=!1,e(document).unbind("click",t)},e(document).bind("click",f);case 35:case"end":return s.stop()}},s,i,[[6,10,14,22],[15,,17,21],[23,30]])}))()},handleAddPeople:function(e){e?(!1===e.invite&&(this.inviteShow=!1),console.log("add-people",e),this.addPeopleSure(l()(e,{add:e.addIds,del:[]}))):this.inviteShow=!1},addPeopleSure:function(e){var t=this,i=this.selectedIndex[0],s=(this.selectedIndex[1],this.stagePeopleList[i].userList);if(this.addPeopleShow=!1,e&&(e.add.length||e.del.length)){var n=[].concat(a()(e.add)),r=[].concat(a()(e.del)),o={projectId:this.ids.projectId,addVale:n.join(","),delVale:r.join(","),stageId:this.stagePeopleList[i].stageId,taskId:this.ids.taskId,myUserId:this.ids.userId};this.$HTTP("post","/stageTask_user_update",o).then(function(e){var o=e.result.userList,l=!0,c=!1,u=void 0;try{for(var d,f=h()(o);!(l=(d=f.next()).done);l=!0){var p=d.value;t.$set(p,"show",!1),t.$set(p,"hovers",!1)}}catch(e){c=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(c)throw u}}if(r)for(var v=0;v<r.length;v++)for(var m=0;m<s.length;m++)r[v]==s[m].userpkid&&(s.splice(m,1),m--);t.stagePeopleList[i].userList=[].concat(a()(o)),t.stagePeopleList=t.stagePeopleList.concat();var g={item:t.stagePeopleList[i],del:r,add:n};t.$emit("stageInfoChange",1,g)}).catch(function(e){console.log("任务添加人员失败",e)})}},invitePeople:function(e){this.addPeopleShow=!1,this.inviteShow=!0,this.inviteDefaultKeys=e},getProjectUser:function(){var e=this;return new n.a(function(t,i){var s={projectId:e.ids.projectId,myUserId:e.ids.userId};e.$HTTP("post","/project_usersList_get",s).then(function(i){console.log("获取项目参与人员列表",i.result),e.userList=i.result,t(e.userList)}).catch(function(e){console.log(e),i(e)})})},setData:function(){var e=this;if(this.stagePeopleList=[].concat(a()(this.defaultList)),!this.fullViewFlag){var t=this.stagePeopleList.findIndex(function(t){return t.stageId==e.ids.stageId});if(t>0){var i=this.stagePeopleList[t];this.stagePeopleList.splice(t,1),this.stagePeopleList.unshift(i)}}var s=!0,n=!1,r=void 0;try{for(var o,l=h()(this.stagePeopleList);!(s=(o=l.next()).done);s=!0){var c=o.value;this.$set(c,"show",!1);var u=!0,d=!1,f=void 0;try{for(var p,v=h()(c.userList);!(u=(p=v.next()).done);u=!0){var m=p.value;this.$set(m,"hovers",!1)}}catch(e){d=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(d)throw f}}}}catch(e){n=!0,r=e}finally{try{!s&&l.return&&l.return()}finally{if(n)throw r}}}},created:function(){this.setData(),console.log("addHuman---",this.stagePeopleList)}}}).call(t,i("L7Pj"))},"jU3/":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ4AAACtCAYAAABBa8Z4AAAACXBIWXMAAAsSAAALEgHS3X78AAAEsUlEQVR4nO3dMW8TdxjH8efsc0oCpXYaYXWgCKcIkFKmiEgsFeyVyM7WgQmUN9CpQ9dKnTr0NTSvAJRKDEjZyFBESXAkipwqxNBESXy2D/0zOSRxlNb17+7J9yN5y/B/zl+fL5f/QZSmqbXb7btm9pOZXTLg/1M3s7k4juejJElCdL9xsDFEsyG8V5zpMGT1EF7KUcewFTjiUCA8SBAeJAgPEoQHCcKDBOFBgvAgQXiQIDxIEB4kCA8ShAcJwoME4UGC8CBBeJAgPEgQHiQIDxKEBwnCgwThQYLwIEF4kCA8SBAeJAgPEoQHCcKDBOFBgvAgQXiQIDxIEB4kCA8ShAcJwoME4UGC8CBBeJAgPEgQHiQIDxKEBwnCgwThQYLwIEF4kCA8SBAeJAgPErHXw77VSu2XxbY9a3SsNl60y5V8fMZWNrq2/LZjX1eLdn86trMjUQZWNXhRkiSpt6FCdD8sJHa7VrI7k6UMrOjkHr1M7PFyYt9/U3IZn8uv2nCmu3kxzm10QVh7mCHM4pHL8MLX1bfXRjKwkv8mzBBm8cjdNV5jM7WxI76aon/eW6HRsEJzY+jr6qdbrli3WrX00/MHfuqoWfLOXXjVc9HehfnHouaGxX++UC/vUOGDEF7tr65YWq7s+5HDZvHg1NxOKa6uZmAV/eVhjYNyasKLWrsZWEV/eVjjoHADGRKEBwnCgwThQYLwIEF4kCA8SBAeJAgPEq43gv66uGtLjY5dHi9Ybex6BlZ1vOWFbVt527WpatG+m/4k68v911yG1+qY/biwbXdqJXt460wGVnRyYSNomOHqhM9NAi7De/53x2a+zP9G0K0ktaerYSOov/hcXuM1d1I3G0HDLB653Ah61DMKm91dW2tvWbOzPfR19VMujtqF+KydKxy8pvP6sI/LjaBXJw6eyJudHVturUvWdJzwQQiv2sjnVi7uvyY9bBYPTs3tlNfJuwysor88rHFQTk14u2n2n9bKwxoHhRvIkCA8SBAeJAgPEoQHCcKDBOFBwmV4YXeKF55m6eUyvMqon79vepqll8ttUb+/atva9v5/3quVfiZbz0k8ifZvYPij0bV7N/xti3IZ3sVKZNOXPn6z8vnmhZ3UHvHLBSQIDxKEBwnCgwThQYLwIEF4kCA8SBAeJAgPEoQHCcKDBOFBwmV4iaPNk55m6eUyvPJoBhYxIJ5m6cVXLSQIDxKEBwnCgwThQcJleC/X/Twgs+Joll4+H+hu+3mzdhzN0stleJOVgi2u5v/Oa5ghzOKRy6kezJSsvt61pb/yG19Ye5ghzOJRlCSJy3N5eBD656eJLa117Yvz0d4rD968T/deUxcKe9F5/e8G3IaHbON2CiQIDxKEBwnCgwThQYLwIEF4kCA8SBAeJAgPEoQHCcKDBOFBgvAgQXiQIDxIEB4kCA8ShAcJwoME4UGC8CBBeJAgPEgQHiQIDxKEBwnCgwThQYLwIEF4kCA8SBAeJAgPEoQHCcKDBOFBgvAgQXiQIDxIEB4kCA8ShAcJwoME4UGC8CBBeJAgPEgQHiQIDxKEBwnCg0QIr86hx5DVQ3hzHHUM2VwhjuN5M5vlzIchCI3NxnE8/wHBsAHU9C6H8AAAAABJRU5ErkJggg=="},ja3z:function(e,t){},k5bu:function(e,t,i){"use strict";var s=i("IHPB"),n=i.n(s),r=i("HzJ8"),a=i.n(r),o=i("4YfN"),l=i.n(o),c=i("9rMa"),u={data:function(){return{recordList:[]}},filters:{},result:"",props:["projectId"],watch:{},methods:l()({},Object(c.b)(["SHOW_NEWPREJECTPOP"]),{closeNewPop:function(){this.$emit("closeItem")},getRecordList:function(e){var t=this,i={projectId:e};this.$HTTP("post","/projectLog_getListByProjectId",i).then(function(e){t.recordList=e.result;var i=!0,s=!1,n=void 0;try{for(var r,o=a()(t.recordList);!(i=(r=o.next()).done);i=!0){var l=r.value;l.open=!1,l.createTime=l.createTime.replace(new RegExp("-","gm"),"/"),l.createTime=new Date(l.createTime).getTime(),console.log(l.createTime),l.createTime=t.getDateDiff(l.createTime)}}catch(e){s=!0,n=e}finally{try{!i&&o.return&&o.return()}finally{if(s)throw n}}})},openOhter:function(e,t){this.recordList[t].open=!this.recordList[t].open,this.recordList=[].concat(n()(this.recordList))},getDateDiff:function(e){var t=Date.parse(new Date),i=Math.abs(t-e);if(i>6048e5){var s=new Date(e),n=(s.getFullYear(),s.getMonth()+1);n=n<10?"0"+n:n;var r=s.getDate();r=r<10?"0"+r:r;var a=s.getHours();a=a<10?"0"+a:a;var o=s.getMinutes(),l=s.getSeconds();return o=o<10?"1"+o:o,l=l<10?"0"+l:l,n+"-"+r+" "+a+":"+o}return i<6048e5&&i>864e5?Math.floor(i/864e5)+"天前":i<864e5&&i>36e5?Math.floor(i/36e5)+"小时前":i<36e5&&i>1?Math.floor(i/6e4)+"分钟前":i<36e5&&i<1?"刚刚":void 0}}),created:function(){this.getRecordList(this.projectId)}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"Info_k"}},[i("div",{},[i("div",{staticClass:"popup"},[i("div",{staticClass:"popup_box "},[i("div",{staticClass:"popup_top"},[i("span",{staticClass:"popup_title"},[e._v("项目记录")]),e._v(" "),i("i",{staticClass:"iconfont icon-guanbijiantou fr",on:{click:e.closeNewPop}})]),e._v(" "),i("div",{staticClass:"popup_content popup_content_ke popup_content_main clearfix"},[i("ul",{staticClass:"recordList"},e._l(e.recordList,function(t,s){return i("li",{key:s},[i("span",{staticClass:"creationTime"},[e._v(e._s(t.createTime))]),e._v(" "),i("span",{staticClass:"name"},[e._v(e._s(t.userName))]),e._v(" "),i("span",[e._v(e._s(t.typeName))]),e._v(" "),3==t.type?i("span",{staticClass:"other",on:{click:function(i){e.openOhter(t,s)}}},[e._v(e._s(t.type2Name))]):e._e(),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"list.open"}],staticClass:"postscript"},[i("i",{staticClass:"iconfont"}),e._v(" "),i("div",{staticClass:"headline"},[e._v("修改前：")]),e._v(" "),i("div",[e._v(e._s(t.frontContent))]),e._v(" "),i("div",{staticClass:"headline"},[e._v("修改后：")]),e._v(" "),i("div",[e._v(e._s(t.backContent))])])])}),0)])])])])])},staticRenderFns:[]};var h=i("C7Lr")(u,d,!1,function(e){i("mwh8")},null,null);t.a=h.exports},kpDV:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAACXBIWXMAAAsSAAALEgHS3X78AAABmUlEQVRIiWNc/e563YvfnxtV2UWesjEy/2EgEdz6+Ybn9/+/JTlipguw6WSc/PLUf3seRQY1dhFSzQaDRe/Offz5/y8/AwNDIjZLmEAuJ9dwNDB/yqvTCRgWkBMspFjCREXDsVpCCwtQLGGh3CxGbjyWUG6BN586y9ZPN37/Zfj/6T8DA2p8/v/fRrEFwixcDHFCRqzPf38WRpe7/OPFSyoEEQRIsvJiiN3/9f4HrSIZDkYtGLVg1AISLfj87yftLDj77SnDiveXwOx1H68ybPl0g+HX/78E9eEti0AuPvjlPtigt3++wcXtuRUZ3v79xrDr820GHz4N8n3w5e8vhue/P6MYDgLHvz1iEGbmwrCYZAtwAV4mdrAP2BiZCarFawEuA0BFM8gHn//+BNcH+ADeOABpThU2BQfFgS/3GB7++gAWBwXb8a+PCIY/A7F1MsgnbryqoFYcmA9qR4Eaa8QApl///xJdq8EaaNhqL2wAZDbT7Z9vpGEuoyYAmQkym0WClbf+4Jf7jc9+fyar8YvL5SDDJVh56wFzsrIX6B0pPAAAAABJRU5ErkJggg=="},kwUQ:function(e,t,i){"use strict";var s=i("6JvN"),n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"clearfix",attrs:{id:"top_k"}},[s("img",{staticClass:"company_logo  ",attrs:{src:i("C4zT"),alt:""}}),e._v(" "),s("div",{staticClass:"otherButton fr clearfix"},[s("ul",{staticClass:"clearfix"},[s("span",{ref:"userInfo"},[s("li",{staticClass:"last"},[s("el-dropdown",{attrs:{trigger:"click"}},[s("span",{staticClass:"el-dropdown-link"},[e._v("\n            "+e._s(e.staffInfo.realName?e.staffInfo.realName:"Happy work")+"\n            "),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",[s("router-link",{attrs:{tag:"li",to:"/myCenter"}},[e._v("\n              个人中心\n              ")])],1),e._v(" "),s("el-dropdown-item",[e._v("系统设置")]),e._v(" "),s("el-dropdown-item",[e._v("问题反馈")]),e._v(" "),s("el-dropdown-item",{nativeOn:{click:function(t){return e.exitLogin(t)}}},[e._v("\n              退出登录\n              ")])],1)],1)],1),e._v(" "),s("li",{staticClass:"imgboxB"},[s("span",{staticClass:"imgbox"},[e.staffInfo.pic?s("img",{staticClass:"userImg",attrs:{src:e.staffInfo.pic,alt:""}}):s("img",{staticClass:"userImg",attrs:{src:i("QK3a"),alt:""}})])])]),e._v(" "),s("li",[s("el-tooltip",{attrs:{effect:"dark",content:"刷新",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont  icon-shuaxin",on:{click:e.refresh}})])],1),e._v(" "),s("li",{staticClass:"notice_icon",on:{mouseenter:function(t){t.stopPropagation(),e.getNoticeNum()},click:function(t){return t.stopPropagation(),e.clickNotice(t)}}},[s("el-tooltip",{attrs:{effect:"dark",content:"消息通知",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-tongzhi"})]),e._v(" "),Number(e.unreadNum)?s("span",{staticClass:"unread"},[e._v(e._s(e.unreadNum>99?"···":e.unreadNum))]):e._e(),e._v(" "),s("transition",{attrs:{name:"fade1"}},[e.noticeShow?s("notice-page",{on:{enterAll:e.enterAll}}):e._e()],1)],1),e._v(" "),s("li",{on:{click:e.friend}},[s("el-tooltip",{attrs:{effect:"dark",content:"好友管理",placement:"top","open-delay":300}},[s("i",{staticClass:"iconfont icon-haoyouliebiao"})])],1)])])])},staticRenderFns:[]};var r=function(e){i("DbkO")},a=i("C7Lr")(s.a,n,!1,r,null,null);t.a=a.exports},"lMB+":function(e,t,i){(function(e){var t;(t=e).extend({ms_DatePicker:function(e){var i=t.extend({},{YearSelector:"#sel_year",MonthSelector:"#sel_month",DaySelector:"#sel_day",FirstText:"--",FirstValue:0},e),s=t(i.YearSelector),n=t(i.MonthSelector),r=t(i.DaySelector),a=i.FirstText,o='<option value="'+i.FirstValue+'">'+a+"</option>";s.html(o),n.html(o),r.html(o);for(var l=(new Date).getFullYear(),c=s.attr("rel"),u=l;u>=1900;u--){var d='<option value="'+u+'" '+(f=c==u?"selected":"")+">"+u+"</option>";s.append(d)}var h=n.attr("rel");for(u=1;u<=12;u++){var f,p='<option value="'+u+'" '+(f=h==u?"selected":"")+">"+u+"</option>";n.append(p)}function v(){r.html(o);var e=parseInt(s.val()),t=0;switch(parseInt(n.val())){case 1:case 3:case 5:case 7:case 8:case 10:case 12:t=31;break;case 4:case 6:case 9:case 11:t=30;break;case 2:t=28,(e%4==0&&e%100!=0||e%400==0)&&(t=29)}r.attr("rel");for(var i=1;i<=t;i++){var a='<option value="'+i+'" '+f+">"+i+"</option>";r.append(a)}}n.change(function(){v()}),s.change(function(){v()}),""!=r.attr("rel")&&v()}})}).call(t,i("L7Pj"))},lfVU:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABBCAYAAACel4eZAAAACXBIWXMAAAsSAAALEgHS3X78AAADOElEQVRoBe2bvW/TQBTAn8+J7aYxTdqmpSAhkEpVKYhKRR06lYWIORtT/4H+N3RjYWZADEyw0CkSFZX4GKIGqXyoQEpKE/KB7cQ59K51IW1IY/ecnJF/khXHulPu5/f8zrk4EqUU1vc2EwlZe2xRe3lM1mrjcqwOQ6BgllIWtQsAcHttaqnsZQTS/eLLRFIeyd8cuTg9p04Ow+OYR+U3tYptxgHgtVcpgpGZ11JDlznBAgC8wMxx25HYQBdvaNN+D9ALnqSIKslUGIXTuJYi0xG9MsABesGVFBFu+N3pWyooQnAk9eSsRkESQlbW9zYf9moQNCFktZdUEIWgl1RQheBfUkIJaVI04rLLKSmhhOa1lEZAqrns1iEllNBVJQkaiSgeuh5LCSWkSDLc1ecURZItD92ZlNuc9Z2JSAyyibSSq39u7jYrbQmkehtos6/PpTQjnBCiExUy+mwU9/dbDdWidl/93hrfikIK/Q1GrF92rAMjyPNQV0Ih0QmFRCcUEp1QSHRCIdEJhUQnFBKdUEh0QiHRCYVEJxQSnf9OyNeFRlzxfFYtsJXQlfg1dmzbLMHXZhVmojr48bCHb0L7rQaTqbUtgOif41XbZFK4vWrsQka/7mp19Cx8STkc7NOf+UOZE9yKXYbV8UVYHr3CIojtUJ4XXCKEkXAW1PG11wCrbZOlID6OMxPRmRBu95IL7OeU88IlQh+tMrsucDvrbG8bJXiwv8nSDVPNiRRGlQcDr3IqOUyKrV9f4IN1wApDnChsP5BCmGpOdXOiossqt+toKPMQlmy/GLgQptZGbYft44/EcFTKeZXugQs5qeWkHgpieXfkzguXso1nt99rYE6bZBuWbuyD0cJyzeuugYtQdizd8f6dUYRc/VPXtigCRwUB22DJvqPPcpmDwK9bH0ynCTnWMeE6oATK4HGUQBle6QZ+3sthJcsm0vC8+r7j7GN6zrR1uBS9wNKMV2QcfL3bxvQ6mY4o4ecj1eEXPNEhpVZdyKfQvVBsVcdIgzbN4A29Oya1JSKDtIXzRtBBB3QhZdvI5o3vRV7fR4YBjh0d0EWo/w+55YfdGK3YRlyR5BzKrE0tlX8Dj+ReMYtwmk8AAAAASUVORK5CYII="},moUO:function(e,t,i){"use strict";(function(e){var s=i("a3Yh"),n=i.n(s),r=i("3cXf"),a=i.n(r),o=i("Dr8r");t.a=n()({data:function(){return{email:"",emPlace:"请输入邮箱账号",pwPlace:"请输入密码",passWord:"",checked:!1,errorTitle:"",hintEmail:!1,hintPw:!1,myUserId:"",type:"",id:"",goUrl:"1111",errorName:!1,errorPassWord:!1,urls:decodeURI(window.location.href).split("?")[1]}},watch:{email:function(e){this.errorTitle&&(this.errorTitle="")},passWord:function(e){this.errorTitle&&(this.errorTitle="")}},mounted:function(){Object(o.a)("loginEmail")&&(this.email=Object(o.a)("loginEmail"))},methods:{register:function(){if(Object(o.b)("registerEmail",""),this.urls){var e=decodeURI(window.location.href).split("?")[1].split("&");this.myUserId=e[0].split("=")[1],this.type=e[1].split("=")[1],this.id=e[2].split("=")[1],this.$router.push({path:"/register",query:{myUserId:this.myUserId,type:this.type,id:this.id}})}else this.$router.push("/register")},forgetPwd:function(){Object(o.b)("loginEmail",this.email),this.$router.push("/forgetPwd")},autofocusEm:function(e){this.emPlace="请输入邮箱账号",this.hintEmail=!1;""==e?(this.errorTitle="请输入邮箱账号",this.errorName=!0):/^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/.test(e)||/^0?1[3|4|5|7|8][0-9]\d{8}$/.test(e)?(this.errorTitle="",this.errorName=!1):(this.errorTitle="格式错误，请核对后再输入",this.errorName=!0)},emailFocus:function(){this.emPlace="",this.hintEmail=!0,this.errorTitle="",this.eamilBoderRed=!1,this.hintPw=!1,this.errorName=!1},pwFocus:function(){this.pwPlace="",this.hintEmail=!1,this.hintPw=!0,this.errorPassWord=!1,this.errorTitle=""},pwBlur:function(){this.pwPlace="请输入密码",this.hintPw=!1,this.passWord?this.errorPassWord=!1:(this.errorPassWord=!0,this.errorTitle="请输入密码")},enterLogin:function(){var t=this;if(this.hintPw=!1,this.hintEmail=!1,""!=this.email&&""!=this.passWord){this.email,this.passWord;var i={userName:this.email,pwd:this.passWord};this.$HTTP("post","/user_login",i,e(".loginBox")[0]).then(function(e){200==e.code?(t.myUserId?(console.log(1),t.$router.push({path:"/project",query:{myUserId:t.myUserId,type:t.type,id:t.id}})):t.$router.push({path:"/project"}),t.checked?Object(o.b)("RememberYourPassword",t.email,2592e6):Object(o.b)("RememberYourPassword",t.email,864e5),localStorage.setItem("staffInfo",a()(e.result))):3==e.code?t.errorTitle="该邮箱尚未注册,点击":t.errorTitle="密码输入错误，请核对后再输入"}).catch(function(e){t.$messge("登录失败")})}else this.errorTitle="请输入用户名或密码"}},computed:{},created:function(){var e=localStorage.getItem("staffInfo");localStorage.getItem("registerEmail")&&(this.email=localStorage.getItem("registerEmail"));var t=decodeURI(window.location.href).split("?")[1];if(t&&e){console.log("执行这个1");var i=decodeURI(window.location.href).split("?")[1].split("&");this.myUserId=i[0].split("=")[1],this.type=i[1].split("=")[1],this.id=i[2].split("=")[1],this.$router.push({path:"/project",query:{myUserId:this.myUserId,type:this.type,id:this.id}})}else if(t){var s=decodeURI(window.location.href).split("?")[1].split("&");this.myUserId=s[0].split("=")[1],this.type=s[1].split("=")[1],this.id=s[2].split("=")[1],this.$router.push({path:"/login",query:{myUserId:this.myUserId,type:this.type,id:this.id}})}else e&&Object(o.a)("RememberYourPassword")&&(console.log("执行这个3"),this.$router.push("/project"))}},"mounted",function(){})}).call(t,i("L7Pj"))},mvWG:function(e,t){},mwh8:function(e,t){},mwmI:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAABfGlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGAqSSwoyGFhYGDIzSspCnJ3UoiIjFJgv8PAzcDDIMRgxSCemFxc4BgQ4MOAE3y7xsAIoi/rgsxK8/x506a1fP4WNq+ZclYlOrj1gQF3SmpxMgMDIweQnZxSnJwLZOcA2TrJBUUlQPYMIFu3vKQAxD4BZIsUAR0IZN8BsdMh7A8gdhKYzcQCVhMS5AxkSwDZAkkQtgaInQ5hW4DYyRmJKUC2B8guiBvAgNPDRcHcwFLXkYC7SQa5OaUwO0ChxZOaFxoMcgcQyzB4MLgwKDCYMxgwWDLoMjiWpFaUgBQ65xdUFmWmZ5QoOAJDNlXBOT+3oLQktUhHwTMvWU9HwcjA0ACkDhRnEKM/B4FNZxQ7jxDLX8jAYKnMwMDcgxBLmsbAsH0PA4PEKYSYyjwGBn5rBoZt5woSixLhDmf8xkKIX5xmbARh8zgxMLDe+///sxoDA/skBoa/E////73o//+/i4H2A+PsQA4AJHdp4IxrEg8AAAanSURBVGgF3ZuLdqowEEV5af//c6uId/YhhxspUqhWobMWTQwhmTOvTAItr0HFE4nh2rYtuq7Tde2uhafort1Q95RlWapalVVBvazKoqoqXU3TqM19n1E2zxgEQN0lACZAgL20l+G3AU/N5XvxdA+4K4u6qotr3QuKOlTVvUCmxljTVsaED2kYcGi0PbfFpbsMGpwa1tocMzjXl2cA3RyaAo2j/UfoRxqGQa7L5dJfoc320g58wKTMMjNTbhqwSwMdymT+WAqChLhH3WVd1wUXY3gcdVz4Z7WGNXGY77k9F+fzeWCM+QCJNjA/1/HJpYwxNkK0SyBE2kwGeTgcikNzKOqmN3ffX1KuApybr5mBiRykNfuIzwlwAk6d+JC7C3MCGk2vNfPFgJH06XTSBRMQ4JjQF21LtUnf78jaVYwgTqTo7+eY/3g86lo67yLARNzchBm8qRuZFOUj2jTzcyXArWVMPgcO6DUm/i1gtPn5+Sl/ZWLAIlV86LeBTgkBfogd+aoAT4D++PiQ1U0957bZKI1mT+fTANYmZO16kFeW1iggy3Op1QFFIAToeDjOBrO7gCXJFIkZ0GDRLpO9k3LQxam4AS1BpGxtisdJwIB1gMrBYjbvBmsQ8EGwhMq2HKwQviEUg2DG9AWwzYMHqTOwgkKAnRpgPOArf5s38nAIs4ZneOfelDXeiIDOREB812Dlr7HebQ1sLliCp5bGWDEgeAcDWKjndKNhQj+dnCaSUByOh8F08ge3VLd5A44L/rkwdbSfZ2Q3GiaHtVQYhI5IjvrWCR5xPXimLuAkKoEppwEwgcp5LB3QrpP0/IEt16UkNhfBOzTGRJsAWxrYvRpJGWM7BuC9kfLr4N0xZ+zLA2ClbGmLJ9/dYFReInyAyrSTluXPsVdHqVAPOPah+C4ks0h+oIYd/hlj0E4rMEIVyPOtF9pFSjy0V4J3MNiXc4yVzqIiYEGWjBfyvQKGby9HVhwBDKwV2qWCFASYJCMW8r0TGGypYAMjWCuF7qhAkkoAtlT2DFrKwz1T2inFhpblw0hAgEMqfwGsFZWfp4GRq+Kg/K8SygO0CayNkevmishsq/Bg7yiXWKNxGWeT55pLBuBBB4B3gPSc8Ip/rjlmAuuwW1oClgCn3VR6y+DJ31UCmBR4at9rnnIN0yaTzm+6fq8U6NEB+b2+v93O+6g1SyjWOWh4CXMyo5TBEObfTeZnjo+x5TY0OAC5vDcAfX2OVHfv3UnBCxfpI+U9yjGJf3fkRn7T7ePSu5Fx+5Z/57gaHB9fWENzEl0zziv65mAV1WGea6mGX8HkM+cwLuMM0P/tP/884ZmTvnOscSZZGTlMSRp/KNW0dsEGzrSD+r9RJhNhuaHj3gkMOpRMp5Y+2AjQ/f7XfuyN8t4BK/2NV6sAt3Z70GmjDEBJJU4u8/x6r8BlrekNChhYTmXSoM8Xb2+U92zW8J4fbOQYdZZDpHYG5c57B+z3Y2hXCk2rUQ8YLcfRDi/OIHZE4y90dGMHf9AsvDvXBxM7KrQMDYDRsF86aUfEFjCcfm+kFwrBOxig8fux4XhS57icWIZzQ0iIh/dk2vAKz9buGBO4BsD6wYY6vS3UwxHl/JKZ+1sm+MUV7buYMFjIn3O6+UXYptPgy7xnDfNgoK1rWnHnNPJdAAemnG5+WSrYvU1bL6MCMAv5VklLUJgyvKIYmfKdd9tfTjwAzds3HnSkpoSaa//VnSPeFgTgqGzXA6y/SZni8wtgQPAQB2OQP24xaNrs59TfSVYKPALcyrr3BQ+8TgLmhiQVX9t50KGM3RR1BYQU0en/atKL7jDhMVh9ITjD113AAMCXP6oPYbHJ2E8AjekgmFcS8xJP+PbT1mfNPvzpIUBk3vE5H4MCGtMBNMk5dTK0fMf1W+ANlLmtXdpkiSH47zRrvr79uNQdGRyJ2oTczoRayljO4oKmgoX7ry2Zl0sZVKwWLD8IGpIyItbMHcSP51sMmAel3ZiQyW3itAPQWoYJLjRP+0/AAxCztRUxr/a36XCCMZ0jr40lqwADzsz4+2lrgHuQmfFabuD93fm/GiuCoreoBmmN8jTC1LLzw8+XVwNmUoNU3kruGikovpWTNB1pnbSctmbWtkvGgYYyrQBo1nN4TDSKEBUzHrCeHwE2E5Q28/yDbdoNgrrJQP3b5VxfnsFdnvVvPA8DhmkYts+pHj6H1qc0ZZBTJeC4SPjtEv5NTkz9UXoK4JwJADuSov38rNsCyPsbBCCpc/riwEdA8v38mUfq/wCqTS3IvuPjNQAAAABJRU5ErkJggg=="},nIDT:function(e,t){},nNfu:function(e,t,i){e.exports=i.p+"static/img/noBody1.66da828.png"},npnC:function(e,t,i){"use strict";var s={props:["fileProgressList"],data:function(){return{fileTypeImg:[{src:i("QeED")},{src:i("9fRE")},{src:i("EVfD")},{src:i("aL5B")},{src:i("blPS")},{src:i("p9T0")},{src:i("hjiM")},{src:i("kpDV")},{src:i("Igbf")},{src:i("G8L8")},{src:i("U4qe")},{src:i("tVkU")}]}},filters:{},methods:{close:function(){this.$emit("closeProgress")},cancel:function(e){var t=this.fileProgressList.findIndex(function(t){return t.uid==e.uid});-1!=t&&this.fileProgressList.splice(t,1),!this.fileProgressList.length&&this.close(),this.$emit("handleCancel",e)},reUpload:function(e){this.$emit("handleRe",e)}},cerated:function(){}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"fade"}},[i("div",{staticClass:"upload_progress"},[i("p",{staticClass:"upload_progress_title"},[e._v("上传进度")]),e._v(" "),i("i",{staticClass:"upload_progress_close iconfont icon-guanbijiantou",on:{click:e.close}}),e._v(" "),i("ul",{staticClass:"upload_progress_ul"},e._l(e.fileProgressList,function(t,s){return i("li",{key:s,staticClass:"upload_progress_li"},[t.error?i("span",{staticClass:"upload_progress_img"},[i("img",{attrs:{filetype:t.FileTypeNum,src:e.fileTypeImg[t.FileTypeNum].src,alt:""}})]):i("span",{class:(t.FileTypeNum,"upload_progress_img")},[i("img",{attrs:{filetype:t.FileTypeNum,src:e.fileTypeImg[t.FileTypeNum].src,alt:""}})]),e._v(" "),i("span",{staticClass:"upload_progress_name"},[e._v(e._s(t.name))]),e._v(" "),t.error?i("span",{staticClass:"upload_progress_error"},[1===t.error?i("span",[e._v("该目录下已包含同名文件")]):2===t.error?i("span",[e._v("文件大于1G，无法上传")]):3===t.error?i("span",[e._v("网络错误，无法上传")]):e._e()]):i("span",{staticClass:"upload_progress_percent"},[i("el-progress",{attrs:{"stroke-width":4,percentage:Number(t.progress),"show-text":!1}})],1),e._v(" "),Number(t.progress)<100?i("span",{staticClass:"upload_progress_size"},[e._v(e._s(t.nowSize)+"/"+e._s(t.sizes))]):i("span",{staticClass:"upload_progress_size"},[e._v(e._s(t.sizes))]),e._v(" "),1==t.status?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"取消上传",placement:"top"}},[i("i",{staticClass:"iconfont icon-guanbijiantou",on:{click:function(i){i.stopPropagation(),e.cancel(t)}}})]):e._e(),e._v(" "),2==t.status?i("i",{staticClass:"iconfont icon-xuanzhong"}):e._e(),e._v(" "),3==t.status?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"重新上传",placement:"top"}},[i("i",{staticClass:"iconfont icon-shuaxin",on:{click:function(i){i.stopPropagation(),e.reUpload(t)}}})]):e._e()],1)}),0)])])},staticRenderFns:[]},r=i("C7Lr")(s,n,!1,null,null,null);t.a=r.exports},o3Go:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAAC4jAAAuIwF4pT92AAACu0lEQVRYhc2Zv2/TQBTHv7EqsSClW9UpYenA0FYd6gkpCxMg2o0F1UMXJrJbKgjhPUyMRGJia4TYw4Y7VEk3OlTN2AnyF6R61jvbOfv843Ln9CtZsS+W7+P37p7fvWstFgvoyA2wD6DHB513FI+ZApgAGAM4D3381+mvFqgbYBOAB6BfAFamEYBh6OPcCqgb4CMDtjUBZZGl+6EfWXp1UHbxEMCeIUBZZGGvbEgUgrpB5OZvlgDTmgE4Cv1oLOfKKYAcNAQJHu9j9l51UIZ8bxUtq3YRbMb1DbpbpTmFu9DHbfr/JYvy26wTEmzZTOiSXT9sjifRdhs46CQHRRgOh7Fi1/MfH5qG3NkCvr4FHj9K2twgPn0ihoCD5IvTfwiQkmKrCtd7Br84piBJJ26ALlKgjVqzCPLXVaaJjAiHZ7puglFbZZCffipAOU17qJCkDrm/MVBNSKGew0mvVa0ISepuyOOTgu/LVEL3+y9wfaf/GgYgSb0NuWV7Ezh9lly/OQTefdeDNQQZSZnmCVEn1Bl1ui7ISqDQgDUNiTzQy1lu0K0MawMyF5RED9OBtQUJ4Nbh1eDKsBYhY1DlgqoqrGVI0tjhCoZSZbDPn1qHJE1ah58XlIv+K7vz7BXwYjfbTml3K+d+g5Cj0MeRwwv/UdndKstahoRYP4lZX2mtpIJNyzDkfAmUC1a5s78OrGFI0kCUetJxtHKWTzB/bpbbflwYh6Qyz0BcLBUg3CCy7Guj3enrOF2alL9MHr/JuvVFrp/mlXT2ObY2uipNaRr62WQ+863n0l+PZ1zTmqqWRrlJyZpgI0hVQbeskNvlOGar2ixEY7Iw6lSq4VusS824jl+68VBns6HLtaATA4BzjpGDqts5tfeZGNjjo26FhXIKsl7t/SbtDTESQ9OkE7+yqGRIB4W7ie5mGADcA7YHIsfldTecAAAAAElFTkSuQmCC"},oVmI:function(e,t){},p9T0:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAACXBIWXMAAAsSAAALEgHS3X78AAABsElEQVRIDWP8eHR73d/3rxtZpRSeMrKw/mEgEfx69oCH4c/vEkHv2AXYdDK+27LoP4eOGQOrlCKpZoPBl/3rP/7//YufgYEhEZslTCCXk2s4Gpj/fuviBAwLyAkWUixhoqLhWC2hhQUolrBQbhYjNx5LKLeAy8SB5duZfb8Z/v37xPCfASU+/zP8b6PYAiZeAQYexyDWv+9eCaPL/Xp06yUVgggCmIXEMC1/9eQHrSIZYcmoBaMWjFowDCzAWRZ9PbyV4d/3L2A2u6oew8/bl8BsRlY2MP3/9y9EMHDyMLDKKDH8efmYgUPfCsyHy+GzncvYgYFVRpnhz7uXYD6vWzgDIwsb2EIQZhYWB4uxq0EcAFKLbDhBC76dPcDw+8ldBlZxWTD/866VYBpkMDL49eQuA4u4LMOv+zcIB9GPa2cYmDi54T4AGQYLKpBrkQHIN3/fvmT4/+0rA5etA9hBoGBigToIHKRfLh1/wK5hJI/PJ+SCnzfOPaR9Mv3/5zfVajV0ADKb6fezB9K/n92nuuEgM0FmszALitb/uHKq8e+7V2Q1frEBkMtBhjMLitYDAEawo4G9BFtaAAAAAElFTkSuQmCC"},pn0K:function(e,t){},qFMc:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABBCAYAAACel4eZAAAACXBIWXMAAAsSAAALEgHS3X78AAACzUlEQVRoBe2bPW8TMRiAX/s+kjRJcyqgRlkACVaQYKEMwID4AR278NdY6IiYmRBLOyCksoBEBjqQtlBo0lw+7tPojZLQNB/cnZzLe5UfKcrdyb74ie33HNthQgho7B5bWll/I7xwSyvrtraud2AFOIe9G8IX3wDgWW2n2kxSAvbj9ZGlretf83eLm7mbhVV4jGm9O7UD2y8BwEFSKY41k7tVWLnMJe4DwHtsOXEzchGKB/k7xWUXMAmJpDg3uCCjME1sKa5fM1opFjAJsaQ4ueLPJrJUVoRgKPX2f4myJIQ8bewev1qUIGtCyMtFUlkUgkVSWRWCeVKkhJjJ9ZhZpqRICeVuF/LAwI6ZbUKKlJBZywHPa2aCrGMpWk3O4FB+bJlMZ26C7AOpuG126WgVAyrPr5udg7bn/3RCYNABAV6UzxUCXpATQviaBuUty8DjoOXlQjfa+Nmpd05ICl0Ea0yLmNZr9PtZfg7NRAlRRwlRRwlRRwlRRwlRRwlRRwlRRwlRRwlRRwlRRwlR58oJSZ9oFF6IW1xAeAKYwQA3dOCcdVpIFzr/8AeClj8+dxsOrD/ZSE1I6lfn/XInZBD/FK9FmmuXglSheQWPOtkuA6lCZi0/dQ37kW5NtuzeFxvCbkBfCJdBSo+swfvoHPvPxaCAMqPXMpAeFLCWZtUUDJvkSMRt9GHtXll6BEz1OWR//LdPCsM6hnfZpCaENXM5Avbr3ewIYZMaRT0M57P6DAYGTCeTpSxJooC93xxEuOLDCnQ/t+eLH/bm9rkkSK8hHPrY+2fDYzEQWxSi3SNHagiXLtTeaw5E4tCvy9tVLX2kgEOduOB4TxZS+xAuwW9sV2XeMjbqBx51uH/mbV4VGf+3V+GhE8rrkSsm9ELGGWefZIbNVYEO6MKDtr/tfO+dLGOgmBZYdnRAF1L/H4pLcO4Xg7ZfYgbfQ5naTrX5F/pIQWRx1O0zAAAAAElFTkSuQmCC"},qO4h:function(e,t,i){"use strict";(function(e){var s=i("IHPB"),n=i.n(s),r=i("4YfN"),a=i.n(r),o=i("9rMa");t.a={data:function(){return{fromPath:"",userId:JSON.parse(localStorage.getItem("staffInfo")).userPkid,noticeList:[],loadMoreShow:!1,page:1,number:10}},computed:a()({},Object(o.c)(["unreadNum"]),{isAllRead:function(){return-1!==this.noticeList.findIndex(function(e){return e.Enabled})}}),methods:a()({},Object(o.b)(["UNREAD_CHANGE"]),{returnBack:function(){this.fromPath?this.$router.push(this.fromPath):this.$router.push("/project")},clickAllRead:function(){var e=this,t={userId:this.userId};this.$HTTP("post","/user_update_notificationStateAll",t).then(function(t){e.UNREAD_CHANGE(0),e.noticeList.map(function(e){return e.Enabled=!1})}).catch(function(e){console.log("标记已读失败",e)})},clickRead:function(e){var t=this,i={pkid:this.noticeList[e].Pkid};this.$HTTP("post","/user_update_notificationState",i).then(function(i){var s=t.unreadNum-1;t.UNREAD_CHANGE(s),t.noticeList[e].Enabled=!1,t.noticeList=t.noticeList.concat()}).catch(function(e){console.log("标记已读失败",e)})},enterDetail:function(e,t){this.clickRead(t);var i=e.Type;if(1===i)this.$router.push({name:"ProjectInfo",params:{projectId:e.ProjectId}});else{if(2===i)return;3===i||4===i?this.$router.push({name:"TaskDetail",params:{projectId:e.ProjectId,stageId:e.StageId,taskId:e.TaskId,type:i}}):5===i||6===i||11===i?this.$router.push({name:"TaskDetail",params:{projectId:e.ProjectId,stageId:e.StageId,taskId:e.TaskId,type:i,noticeFile:e.Id}}):7===i?this.$router.push({name:"TaskDetail",params:{projectId:e.ProjectId,stageId:e.StageId,taskId:e.TaskId,type:i}}):8===i?this.$router.push({name:"ProjectInfo",params:{projectId:e.ProjectId,type:8}}):9!==i&&10!==i||this.$router.push({name:"ProjectInfo",params:{projectId:e.ProjectId,type:9}})}},loadMore:function(){this.page++,this.getNoticeList(this.page,20,!0)},getNoticeList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a={page:t,number:s,userId:this.userId,enabled:""};this.$HTTP("post","/user_get_notificationList",a,e("#app")[0]).then(function(e){var t=[].concat(n()(e.result));t.map(function(e){return e.showDate=i.timeDiff(e.CreateTime)}),i.noticeList=r?i.noticeList.concat(t):t,i.noticeList.length&&i.noticeList.length<Number(e.iRecordsTotal)?i.loadMoreShow=!0:i.loadMoreShow=!1}).catch(function(e){console.log("消息列表获取失败",e)})}}),created:function(){this.getNoticeList()},beforeRouteEnter:function(e,t,i){i(function(e){e.fromPath=t.path})}}}).call(t,i("L7Pj"))},qUIR:function(e,t,i){"use strict";(function(e){var s=i("lC5x"),n=i.n(s),r=i("J0Oq"),a=i.n(r),o=i("3cXf"),l=i.n(o),c=i("aA9S"),u=i.n(c),d=i("rVsN"),h=i.n(d),f=i("IHPB"),p=i.n(f),v=i("HzJ8"),m=i.n(v),g=i("c4l/"),_=i("eE66"),y=i("4oPz"),C=i("e2pZ"),w=i("npnC"),A=i("NYhm"),k=i("+Llw"),b=i("Jpdf"),I=i.n(b);t.a={components:{draggable:I.a,Info:g.a,Reminder2:k.a,ShadePop:_.a,ToLead:y.a,Participant:C.a,UploadProgress:w.a,AddPeople:A.a},data:function(){return{searchIsShow:!1,text:"改一下试一试",abg:"10 100",addPopShow:!1,addPopShowPageX:"",addPopShowPageY:"",fillPageX:100,fillPageY:100,fileUploadShow:!1,stageTaskId:"",nowClickItem:"",nowClickLists:"",nowClickName:"",nowClickElment:"",riliIsShow:!1,riliPageX:"",riliPageY:"",mouseLeftIndex:-1,mouseTopIndex:-1,topAddPopShow:!0,taskPeopleList:[],value6:"",toLeadShow:!1,popShow:!1,reminder2Flag:!1,errMessage:"",newStageName:"",buttonMes:"确认",itemInformationShow:!1,projectId:JSON.parse(localStorage.getItem("projectItem")).projectid,classify:"",projectItem:JSON.parse(localStorage.getItem("projectItem")),projectList:[],selectedProject:"选项1",starFlag:"",detailsShow:!1,taskId:"",nowTaskId:"",nowStageId:"",nowPartitionId:"",searchValue:"",isFixed:!1,leftFixed:!1,loginUser:JSON.parse(localStorage.getItem("staffInfo")),userPkid:JSON.parse(localStorage.getItem("staffInfo")).userPkid,stageList:[],partitionsList:[],noPartitions:[],EmptyData:"",newTask:"",delPartitionLists:[],delIndex:"",delStageLists:[],delNowStageLists:[],delStageIndex:"",delFlage:"",nowYear:"",userList:[],addPeopleShow:!1,inviteShow:!1,defaultKeys:[],isNewP:!1,isNewS:!1,nowPartitionsName:"",nowStageName:"",fileTypeImg:[{src:i("MzaG")},{src:i("MzaG")},{src:i("s9QU")},{src:i("6OdW")},{src:i("JYI+")},{src:i("MK+o")},{src:i("62YV")},{src:i("lfVU")},{src:i("GWU5")},{src:i("Gttd")},{src:i("YCba")},{src:i("EBPn")}],blurTime:"",uploadProgressFlag:!1,fileProgressList:[],delFileFlag:!1,notGroupedList:[],fileNum:"",nowTime:"",nowBlurTime:"",nowUploadId:[],addPopLists:[],fromInfo:{type:2,id:this.nowStageId}}},watch:{partitionsList:{deep:!0,handler:function(e,t){if(e){var i=!0,s=!1,n=void 0;try{for(var r,a=m()(e);!(i=(r=a.next()).done);i=!0){var o=r.value;o.taskList.length||(o.isBlank=!0)}}catch(e){s=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(s)throw n}}}}}},computed:{},methods:{fileUpload:function(t,i,s,n,r){var a=this;this.nowClickItem=i,this.nowClickLists=s,this.nowClickName=r,this.nowClickElment=n,s.stageHoverIsShow=!0,this.fileUploadShow=!0,this.fillPageX=t.pageX,this.fillPageY=t.pageY,this.stageTaskId=s.stageTaskId;e(document).bind("click",function t(i){a.fileUploadShow=!1,s.stageHoverIsShow=!1,e(document).unbind("click",t)})},serchPartitionAndTask:function(e){this.getProjectAll(e,this.projectId)},haha:function(t){t.stageHoverIsShow=!0,this.partitionsList=[].concat(p()(this.partitionsList));e(document).bind("click",function i(s){t.stageHoverIsShow=!1,e(document).unbind("click",i)})},uploadVistible:function(e){console.log(e)},userListChoose:function(e){},getProjectUsers:function(){var e=this;return new h.a(function(t,i){var s={projectId:e.projectId,myUserId:e.userPkid};e.$HTTP("post","/project_usersList_get",s).then(function(i){e.userList=i.result,t(e.userList)}).catch(function(e){i(e)})})},checkEnter:function(t){var i=t||window.event;13==(i.charCode||i.keyCode)&&(window.event?(e(".stageTittle").blur(),e(".stageName").blur(),window.event.returnValue=!1):(e(".stageTittle").blur(),e(".stageName").blur(),t.preventDefault()))},projectStart:function(){this.starFlag=!this.starFlag;var e={projectId:this.projectId,userId:this.userPkid};this.$HTTP("post","/project_update_isStar",e).then(function(e){})},mouseEnter:function(e,t){this.mouseLeftIndex=e.taskId},mouseTopEnter:function(e,t,i){this.mouseTopIndex=t},invitePeople:function(e){this.inviteShow=!0,this.inviteDefaultKeys=e},cancelAddPeople:function(e){e?(!1===e.invite&&(this.inviteShow=!1),console.log("add-people",e),this.addPeopleSure(u()(e,{add:e.addIds,del:[]}))):this.inviteShow=!1},partIn:function(e,t){var i=this,s={addVale:this.userPkid,delVale:"",stageId:t.stageId,taskId:e.taskId,myUserId:this.userPkid,projectId:this.projectId};this.$HTTP("post","/stageTask_user_update",s).then(function(s){i.enterDetail(e,t)})},cancelPartIn:function(e,t){var i=this;console.log(t.userList,e);var s=t.userList.findIndex(function(e){return e.userpkid==i.userPkid});t.userList.splice(s,1),this.partitionsList=[].concat(p()(this.partitionsList)),t.isPartIn=!1;var n={addVale:"",delVale:this.userPkid,stageId:t.stageId,taskId:e.taskId,myUserId:this.userPkid,projectId:this.projectId};this.$HTTP("post","/stageTask_user_update",n).then(function(e){console.log(e)})},checkTime:function(e,t,i){var s=this;t.stageHoverIsShow=!1,this.partitionsList=[].concat(p()(this.partitionsList));var n=this.format(i[0],"yyyy-MM-dd HH:mm:ss").split(" "),r=this.format(i[1],"yyyy-MM-dd HH:mm:ss").split(" "),a={stageId:t.stageId,taskId:e.taskId,startTime:this.format(i[0],"yyyy-MM-dd HH:mm:ss"),endTime:this.format(i[1],"yyyy-MM-dd HH:mm:ss"),myUserId:this.userPkid};this.$HTTP("post","/stageTask_date_update",a).then(function(e){if(n&&r)if(n=n[0].split("-").concat(n[1].split(":")),r=r[0].split("-").concat(r[1].split(":")),t.startTime=s.format(i[0],"yyyy-MM-dd HH:mm:ss"),t.endTime=s.format(i[1],"yyyy-MM-dd HH:mm:ss"),t.startTimeArr=[{year:n[0].substring(2,4),month:n[1],day:n[2],hour:n[3],minute:n[4]}],t.endTimeArr=[{year:r[0].substring(2,4),month:r[1],day:r[2],hour:r[3],minute:r[4]}],console.log(t,new Date-new Date(t.startTime)),new Date-new Date(t.startTime)<=0)t.taskTime=0;else if(new Date(t.endTime)-new Date<=0)t.taskTime=1;else{t.taskTime=2;var a=(new Date-new Date(t.startTime))/(new Date(t.endTime)-new Date(t.startTime));t.ratio=100*a}t=JSON.parse(l()(t)),s.partitionsList=[].concat(p()(s.partitionsList))})},closeStage:function(e,t){t.enabled=!1,this.partitionsList=[].concat(p()(this.partitionsList));var i={stageId:t.stageId,taskId:e.taskId,enabled:0};this.$HTTP("post","/stageTask_IsOpen",i).then(function(e){console.log(t)})},openStage:function(e,t){t.enabled=!0,this.partitionsList=[].concat(p()(this.partitionsList));var i={stageId:t.stageId,taskId:e.taskId,enabled:1};this.$HTTP("post","/stageTask_IsOpen",i).then(function(e){})},getProjectUser:function(e){var t=this;return new h.a(function(e,i){var s={projectId:t.projectId,myUserId:t.userPkid};t.$HTTP("post","/project_usersList_get",s).then(function(i){if(t.userList=i.result,e(t.userList),t.taskPeopleList){var s=!0,n=!1,r=void 0;try{for(var a,o=m()(t.taskPeopleList);!(s=(a=o.next()).done);s=!0){var l=a.value;t.defaultKeys.push(l.userpkid)}}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}}t.addPopShow=!0,t.partitionsList=[].concat(p()(t.partitionsList))}).catch(function(e){i(e)})})},addPeople:function(t,i,s,r,o){var l=this;return a()(n.a.mark(function r(){var a,c,u,d,h,f,v,g;return n.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(l.addPopShow=!0,l.addPopShowPageX=t.pageX,l.addPopShowPageY=t.pageY,a=[],c=!0,u=!1,d=void 0,n.prev=7,h=m()(s.userList);!(c=(f=h.next()).done);c=!0)v=f.value,a.push(v.userpkid);n.next=15;break;case 11:n.prev=11,n.t0=n.catch(7),u=!0,d=n.t0;case 15:n.prev=15,n.prev=16,!c&&h.return&&h.return();case 18:if(n.prev=18,!u){n.next=21;break}throw d;case 21:return n.finish(18);case 22:return n.finish(15);case 23:return l.addPopLists=s,s.stageHoverIsShow=!0,l.defaultKeys=a,l.nowPartitionId=o.partitionId,l.nowTaskId=i.taskId,l.nowStageId=s.stageId,l.taskPeopleList=s.userList,l.fromInfo.id=l.nowStageId,l.partitionsList=[].concat(p()(l.partitionsList)),n.prev=32,n.next=35,l.getProjectUser(s);case 35:n.next=40;break;case 37:n.prev=37,n.t1=n.catch(32),console.log(n.t1);case 40:g=function t(i){l.addPopShow=!1,s.stageHoverIsShow=!1,l.partitionsList=[].concat(p()(l.partitionsList)),e(document).unbind("click",t)},e(document).bind("click",g);case 42:case"end":return n.stop()}},r,l,[[7,11,15,23],[16,,18,22],[32,37]])}))()},addPeopleSure:function(e){var t=this;this.addPopLists.stageHoverIsShow=!1;var i=e.add.findIndex(function(e){return e==t.userPkid}),s=e.del.findIndex(function(e){return e==t.userPkid});if(console.log(i,s),e&&(e.add||e.del)){var n=[].concat(p()(e.add)),r=[].concat(p()(e.del)),a={addVale:n.join(","),delVale:r.join(","),stageId:this.nowStageId,taskId:this.nowTaskId,myUserId:this.userPkid,projectId:this.projectId};this.$HTTP("post","/stageTask_user_update",a).then(function(e){var n=e.result,r=!0,a=!1,o=void 0;try{for(var l,c=m()(t.partitionsList);!(r=(l=c.next()).done);r=!0){var u=l.value;if(u.partitionId==t.nowPartitionId){var d=!0,h=!1,f=void 0;try{for(var v,g=m()(u.taskList);!(d=(v=g.next()).done);d=!0){var _=v.value;if(_.taskId==t.nowTaskId){var y=_.stageTaskList.findIndex(function(e){return e.stageId==t.nowStageId});-1!==i&&(_.stageTaskList[y].isPartIn=!0),-1!==s&&(_.stageTaskList[y].isPartIn=!1),t.addPopShow=!1,_.stageTaskList[y].userList=n.userList}}}catch(e){h=!0,f=e}finally{try{!d&&g.return&&g.return()}finally{if(h)throw f}}}t.partitionsList=[].concat(p()(t.partitionsList))}}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}}).catch(function(e){console.log("任务添加人员失败",e)})}},toLead:function(){console.log("hah"),this.toLeadShow=!0},closePop:function(){this.popShow=!1,this.toLeadShow=!1,this.getstageList(this.projectId),this.getProjectAll("",this.projectId)},parthCommand:function(e){"editStage"==e&&(console.log("chufa"),this.popShow=!0)},enterDetail:function(e,t){this.$router.push({name:"TaskDetail",params:{projectId:this.projectId,stageId:t.stageId,taskId:e.taskId}})},reminderCancel:function(){this.reminder2Flag=!1},reminderSure:function(){"stage"==this.delFlage?(console.log("fileNames 任务"),this.okdelStage(this.delStageLists,this.delNowStageLists,this.delStageIndex)):"project"==this.delFlage&&(console.log("fileNames 分区"),this.delPartition(this.delPartitionLists,this.delIndex))},newStageBlur:function(e,t){var i=this;if(t&&!1===e.isnew){if(""==t)return;var s={myUserId:this.userPkid,projectId:this.projectId,partitionId:e.partitionId,title:t,iSort:0};this.$HTTP("post","/task_add",s).then(function(e){i.getProjectAll("",i.projectId)})}},projectChange:function(e){this.getProjectAll("",e);var t=this.projectList.findIndex(function(t){return t.projectid==e});this.starFlag=this.projectList[t].isStar,this.projectId=e,localStorage.setItem("projectItem",l()(this.projectList[t])),this.projectItem=this.projectList[t],this.getstageList(e)},closeInfo:function(){this.itemInformationShow=!1,this.getProjectAll("",this.projectId)},addPartition:function(t,i,s){this.nowTime=(new Date).getTime(),this.nowTime-this.nowBlurTime>=1e3&&(this.isNewP=!0,this.EmptyData.partitionTitle="","addPartition"==s?(console.log("分区名字"),this.partitionsList.splice(i+1,0,this.EmptyData),this.EmptyData.partitionId=this.partitionsList.length+1,this.$nextTick(function(t){e(".hhah").children().eq(i).find(".stageTittle").focus()})):(this.partitionsList.splice(1,0,this.EmptyData),this.EmptyData.partitionId=this.partitionsList.length+1,this.$nextTick(function(t){e(".hhah").children().eq(0).find(".stageTittle").focus()})))},partitionBlur:function(t,i,s){var n=this,r=e(".hhah").children().eq(i-1).find(".stageTittle")[0].innerHTML;if(this.nowBlurTime=(new Date).getTime(),this.isNewP)if(r){var a={myUserId:this.userPkid,projectId:this.projectId,title:r,iSort:i+1};this.$HTTP("post","/partition_iSort_add",a).then(function(e){e.result.isBlank=!0,e.result.isnew=!1,n.isNewP=!1,n.partitionsList.splice(i,1,e.result)})}else this.isNewP=!1,this.partitionsList.splice(i,1);else this.nowPartitionsName!==r&&this.modifyPartitionName(t.partitionId,r)},partitionFocus:function(e,t,i){this.isNewP||(this.nowPartitionsName=e)},openDelPartition:function(e,t){this.delPartitionLists=e,this.delIndex=t,this.errMessage="您确认删除该分区？删除后，分区内的任务将移入到未分区内",this.reminder2Flag=!0,this.delFlage="project"},delPartition:function(e,t){var i=this;if(e.taskList.length){var s=[],n=!0,r=!1,a=void 0;try{for(var o,l=m()(e.taskList);!(n=(o=l.next()).done);n=!0){var c=o.value;""!==c.taskId&&(this.noPartitions.taskList.push(c),s.push(c.taskId))}}catch(e){r=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw a}}var u={vals:s.join(","),type:0};this.$HTTP("post","/partition_updateType",u).then(function(e){i.partitionsList.splice(t,1)})}else this.partitionsList.splice(t,1);var d={partitionId:e.partitionId};this.$HTTP("post","/partition_delete",d).then(function(e){i.reminder2Flag=!1}),this.getProjectAll("",this.projectId)},getdata:function(e){var t=!0,i=!1,s=void 0;try{for(var n,r=m()(this.partitionsList);!(t=(n=r.next()).done);t=!0){n.value.autoExpand=!0}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}},datadragEnd:function(e){console.log(e);var t={partitionId:e.item.dataset.partitionid,isSort:e.newIndex};this.$HTTP("post","/partition_update_isSort",t).then(function(e){})},modifyPartitionName:function(e,t){var i={partitionId:e,title:t};this.$HTTP("post","/partition_update",i).then(function(e){console.log(e)})},addStage:function(t,i,s,n,r){var a=this;setTimeout(function(){var s=a.partitionsList.findIndex(function(e){return e.partitionId==r.partitionId});"Partitions"==n?(a.newTask.taskTitle="",a.isNewS=!0,t.splice(i+1,0,a.newTask),a.$nextTick(function(t){e(".hhah").children().eq(s-1).find(".stageName").eq(i+1).focus()})):(a.isNewS=!0,a.newTask.taskTitle="",t.splice(i+1,0,a.newTask),a.$nextTick(function(t){e(".taskLists").children().eq(i+1).find(".stageName").focus()}))},600)},stageNameBlur:function(t,i,s,n,r){var a=this,o="";if(o=0==r?e(".taskLists").find(".stageName").eq(n)[0].innerHTML:e(".hhah").children().eq(r-1).find(".stageName").eq(n)[0].innerHTML,this.isNewS)if(o){var l={myUserId:this.userPkid,projectId:this.projectId,partitionId:s.partitionId,title:o,iSort:n};this.$HTTP("post","/task_add",l).then(function(e){s.taskList.splice(n,1,e.result),e.result.isnew=!1,a.isNewS=!1})}else this.isNewS=!1,s.taskList.splice(n,1);else this.nowStageName!==o&&this.ModifyTaskName(i.taskId,o)},stageFocus:function(e,t,i,s){console.log(this.isNewS,e),this.isNewS||(this.nowStageName=e)},ModifyTaskName:function(e,t){console.log(e,t);var i={taskId:e,title:t};this.$HTTP("post","/task_update_title",i).then(function(e){console.log(e)})},delStage:function(e,t,i,s){console.log(i,"当前删除的任务的index"),this.delStageLists=t,this.delNowStageLists=e,this.delStageIndex=i,this.delFlage="stage",this.reminder2Flag=!0,this.errMessage=" 您确认删除该任务？删除后文件内容也会被删除"},okdelStage:function(e,t,i){var s=this,n={taskId:t.taskId};this.$HTTP("post","/task_del",n).then(function(t){s.delFlage,s.reminder2Flag=!1,e.taskList.splice(i,1)})},starDrag:function(){},goFlod:function(e){e.autoExpand=!e.autoExpand;var t={myUserId:this.userPkid,projectId:this.projectId,partitionId:e.partitionId,isState:e.autoExpand};this.$HTTP("post","/partition_operation",t).then(function(e){})},moveNopartitonTask:function(e,t){if(console.log(e),t.to.dataset.partitionid){var i={taskId:t.item.dataset.taskid,partitionId:t.to.dataset.partitionid,isSort:t.newIndex};this.$HTTP("post","/task_group_update_isSort",i).then(function(e){})}},handleScroll:function(){var t=parseInt(e(".tableBox")[0].scrollTop),i=parseInt(e(".tableBox")[0].scrollLeft);this.isFixed=t>=40,this.leftFixed=i>=224},datadragEnd2:function(e,t){var i={taskId:t.item.dataset.taskid,partitionId:e.partitionId,isSort:t.newIndex};this.$HTTP("post","/task_group_update_isSort",i).then(function(e){})},getstageList:function(e){var t=this,i={projectId:e,state:1};this.$HTTP("post","/stage_list_get",i).then(function(e){t.stageList=e.result;for(var i=[],s=0;s<t.stageList.length;s++)i.push({stageId:s});t.EmptyData={partitionId:-1,partitionTitle:"",autoExpand:!1,taskList:[{taskId:-1,stageTaskList:i}]},t.newTask={taskId:-1,stageTaskList:i},console.log(t.stageList,t.newTask,"=================")})},getProjectAll:function(t,i){var s=this,n={project:i,myUserId:this.userPkid,keys:t};this.$HTTP("post","/project_get_info2",n,e("#app")[0]).then(function(e){var t=e.result;if(t.length?(s.partitionsList=t,s.searchIsShow=!1):(s.partitionsList=[],s.noPartitions=[],s.searchIsShow=!0),console.log(s.partitionsList),s.partitionsList){var i=!0,n=!1,r=void 0;try{for(var a,o=m()(s.partitionsList);!(i=(a=o.next()).done);i=!0){var l=a.value;if(l.isnew=!1,""!==l.taskList){var c=!0,u=!1,d=void 0;try{for(var h,f=m()(l.taskList);!(c=(h=f.next()).done);c=!0){var p=h.value;p.isnews=!1,""==p.taskId&&(l.isBlank=!0,l.taskList.splice(p,1)),s.stageTaskList=p.stageTaskList;var v=!0,g=!1,_=void 0;try{for(var y,C=m()(p.stageTaskList);!(v=(y=C.next()).done);v=!0){var w=y.value;if(s.addPopShow=!1,w.isRepeat=!1,w.stageHoverIsShow=!1,w.userList.length){var A=w.userList.findIndex(function(e){return e.userpkid==s.userPkid});w.isPartIn=-1!==A}else w.isPartIn=!1;if(w.startTime)if(new Date-new Date(w.startTime)<=0)w.taskTime=0;else if(new Date(w.endTime)-new Date<=0)w.taskTime=1;else{w.taskTime=2;var k=(new Date-new Date(w.startTime))/(new Date(w.endTime)-new Date(w.startTime));w.ratio=100*k}if(w.startTime){var b=w.startTime.split(" ");b=b[0].split("/").concat(b[1].split(":")),w.startTimeArr=[{year:b[0].substring(2,4),month:b[1],day:b[2],hour:b[3],minute:b[4]}]}if(w.endTime){var I=w.endTime.split(" ");I=I[0].split("/").concat(I[1].split(":")),w.endTimeArr=[{year:I[0].substring(2,4),month:I[1],day:I[2],hour:I[3],minute:I[4]}]}}}catch(e){g=!0,_=e}finally{try{!v&&C.return&&C.return()}finally{if(g)throw _}}}}catch(e){u=!0,d=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw d}}}}}catch(e){n=!0,r=e}finally{try{!i&&o.return&&o.return()}finally{if(n)throw r}}s.noPartitions=s.partitionsList[0]}})},getProjectUserList:function(){var e=this,t={projectId:this.projectId,myUserId:this.userPkid};this.$HTTP("post","/project_usersList_get",t).then(function(t){e.userList=t.result})},handleClickUpload:function(e,t,i,s){e=this.nowClickItem,t=this.nowClickLists,i=this.nowClickElment,s=this.nowClickName,t.stageHoverIsShow=!1,this.fileNum=t.fileCont,this.filePartitionId=0,this.notGroupedList=t.fileNames,this.nowUploadId={name:s,taskId:e.taskId,stage:t.stageId,partitionId:i.partitionId},this.partitionsList=[].concat(p()(this.partitionsList))},closeProgress:function(){this.uploadProgressFlag=!1,this.fileProgressList=[]},cancelUpload:function(e){var t=this;this.getDelFile(e.uid,!0),e.error||(e.reUploadXhr?e.reUploadXhr.abort():this.$nextTick(function(){Array.isArray(t.$refs.fileUpload)?t.$refs.fileUpload[0].abort(e):t.$refs.fileUpload.abort(e)}))},reUpload:function(e){var t=this;e.status=1,e.reUploadXhr=1;var i=new FormData;i.append("file",e.file),this.$nextTick(function(){Array.isArray(t.$refs.fileUpload)?t.$refs.fileUpload[0].httpRequest=t.uploadFile(i,e):t.$refs.fileUpload.httpRequest=t.uploadFile(i,e)})},uploadFile:function(t,i){var s=this;i.reUploadXhr=e.ajax({url:"/ProjectFile.ashx?&myUserId"+this.userId+"&projectId="+this.projectId+"&stageTaskId="+this.stageTaskId+"&filePartitionId=0}",type:"post",dataType:"json",data:t,cache:!1,contentType:!1,processData:!1,xhr:function(t){var n=e.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(e){var t=e.loaded,n=e.total,r=Math.floor(100*t/n);s.uploadProgress({percent:r},i)},!1),n},success:function(e){s.uploadSuccess(e,i)},error:function(e){s.uploadError("err",i),i.reUploadXhr&&(i.reUploadXhr=null)}})},popFileProgress:function(e){return-1==e.findIndex(function(e){return e.progress<100})},handleExceed:function(e,t){this.$message.warning("最多只能选择9个文件")},beforeUpload:function(e){this.filePartitionId;this.uploadProgressFlag||(this.uploadProgressFlag=!0);var t=this.conver(e.size),i=this.getSuffix(e.name);i=this.getFlieTyle(i);var s={uid:e.uid,size:e.size,sizes:t,nowSize:0,name:e.name,type:2,progress:0,status:1,FileTypeNum:i,imgUrl:"",file:e};if((console.log(e,"file"),this.notGroupedList)&&-1!==this.notGroupedList.findIndex(function(t){return t==e.name}))return this.$set(s,"error",1),this.fileProgressList.unshift(s),this.$message.error("该目录下已含有同名文件"),!1;if((e.size/1073741824).toFixed(2)>=1)return this.$set(s,"error",2),this.fileProgressList.unshift(s),this.$message.error("文件大于1G，无法上传"),!1;this.fileProgressList.unshift(s),console.log(this.fileProgressList,"this.fileProgressList")},uploadProgress:function(e,t,i){var s=parseInt(e.percent),n=this.fileProgressList.findIndex(function(e){return e.uid===t.uid});-1!==n&&(this.fileProgressList[n].progress=s,this.fileProgressList[n].nowSize=this.conver(s/100*this.fileProgressList[n].size),this.fileProgressList[n].imgUrl||1!=this.fileProgressList[n].FileTypeNum||(this.fileProgressList[n].imgUrl=t.url)),console.log(this.fileProgressList)},uploadSuccess:function(e,t){var i=this;if(this.fileNum++,this.fileUploadShow=!1,"noPartitions"==this.nowUploadId.name){var s=this.noPartitions.taskList.findIndex(function(e){return e.taskId==i.nowUploadId.taskId}),n=!0,r=!1,a=void 0;try{for(var o,l=m()(this.noPartitions.taskList[s].stageTaskList);!(n=(o=l.next()).done);n=!0){var c=o.value;c.stageId==this.nowUploadId.stage&&(c.fileCont=this.fileNum)}}catch(e){r=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw a}}}else{var u=!0,d=!1,h=void 0;try{for(var f,p=m()(this.partitionsList);!(u=(f=p.next()).done);u=!0){var v=f.value;if(v.partitionId==this.nowUploadId.partitionId){var g=!0,_=!1,y=void 0;try{for(var C,w=m()(v.taskList);!(g=(C=w.next()).done);g=!0){var A=C.value;if(A.taskId==this.nowUploadId.taskId){var k=!0,b=!1,I=void 0;try{for(var x,P=m()(A.stageTaskList);!(k=(x=P.next()).done);k=!0){var S=x.value;S.stageId==this.nowUploadId.stage&&(S.fileCont=this.fileNum)}}catch(e){b=!0,I=e}finally{try{!k&&P.return&&P.return()}finally{if(b)throw I}}}}}catch(e){_=!0,y=e}finally{try{!g&&w.return&&w.return()}finally{if(_)throw y}}}}}catch(e){d=!0,h=e}finally{try{!u&&p.return&&p.return()}finally{if(d)throw h}}}console.log("2chengogng",this.fileNum)},uploadError:function(e,t){var i=this.fileProgressList.findIndex(function(e){return e.uid===t.uid});-1!==i&&(this.fileProgressList[i].status=3)},getDelFile:function(e,t){var i=this.fileProgressList.findIndex(function(t){return t.uid==e});-1!==i&&(void 0==t&&this.fileProgressList[i].progress<100&&this.cancelUpload(this.fileProgressList[i]),this.fileProgressList.splice(i,1),this.fileProgressList.length||this.closeProgress())},getProjectLists:function(){var e=this,t={myUserId:this.userPkid};this.$HTTP("post","/projectParticipation_getList",t).then(function(t){var i=t.result;e.projectList=i;var s=e.projectList.findIndex(function(t){return t.projectid==e.projectId});e.selectedProject=e.projectList[s].title,console.log(e.projectList[s].title,e.projectList[s]),e.starFlag=e.projectList[s].isStar})}},created:function(){new Date;this.nowYear=String((new Date).getFullYear()).slice(2,4),this.getstageList(this.projectId),this.getProjectAll("",this.projectId),this.getProjectUserList(),this.getProjectLists()},mounted:function(){e(".tableBox")[0].addEventListener("scroll",this.handleScroll)}}}).call(t,i("L7Pj"))},qr9n:function(e,t,i){"use strict";var s=i("aA9S"),n=i.n(s),r=i("rVsN"),a=i.n(r),o=i("HzJ8"),l=i.n(o),c=i("4YfN"),u=i.n(c),d=i("+Llw"),h=i("3cXf"),f=i.n(h),p=i("lC5x"),v=i.n(p),m=i("J0Oq"),g=i.n(m),_=i("IHPB"),y=i.n(_),C=i("9rMa"),w={props:["info","ids"],components:{FileDetails:i("iIsA").a},data:function(){return{userId:JSON.parse(localStorage.getItem("staffInfo")).userPkid,infos:{},fileCheckbox:!1,fileLists:[],checkedFileList:[],descShow:!1,descText:"",descTextFocus:!1,filedetailsShow:!1,enterDetailInfo:{}}},computed:u()({},Object(C.c)(["stageInfos","taskIds"])),methods:{enterTheDetails:function(e,t){var i=this,s=this.stageInfo.stageList.findIndex(function(e){return e.stageId==i.taskIds.stageId});this.enterDetailInfo={groupIndex:t,fileIndex:e,fileList:this.stageInfo.fileList,type:1,menuList:[this.stageInfo.title,this.stageInfo.stageList[s].stageTitle,this.stageInfo.fileList[t].groupName,this.stageInfo.fileList[t].fileList[e].FileName]},this.filedetailsShow=!0},closeDetails:function(){this.filedetailsShow=!1},groupExtendToggle:function(e,t,i){!0===t||t.overLength?this.fileLists[e].packUp=!this.fileLists[e].packUp:this.enterTheDetails(e,i)},countFileMore:function(e){var t=[].concat(y()(this.fileLists[e].fileList)),i=t.length;if(i<=4)return this.fileLists[e].packUp=null,void(this.fileLists=this.fileLists.concat());this.fileLists[e].packUp=!1;var s=i-4,r=[].concat(y()(t)).splice(0,3),a=[];[].concat(y()(t)).splice(3).map(function(e){return a.push(e.UrlMin)}),a.length>3&&a.splice(0,3),r.push({FilePkid:"group"+e,FileName:null,UrlMin:a,FileType:null,userName:null,overLength:s+1}),this.fileLists[e]=n()({},this.fileLists[e],{overList:r}),this.fileLists=this.fileLists.concat()},fileCheckboxAll:function(e){var t=!0,i=!1,s=void 0;try{for(var n,r=l()(this.fileLists);!(t=(n=r.next()).done);t=!0){var a=n.value;a.checked=e;var o=!0,c=!1,u=void 0;try{for(var d,h=l()(a.fileList);!(o=(d=h.next()).done);o=!0){d.value.checked=e}}catch(e){c=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(c)throw u}}}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}this.handleCheckBox(e),this.fileLists=this.fileLists.concat()},fileCheckboxGroup:function(e,t){t.checked=e;var i=!0,s=!1,n=void 0;try{for(var r,a=l()(t.fileList);!(i=(r=a.next()).done);i=!0){r.value.checked=e}}catch(e){s=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(s)throw n}}this.handleCheckBox(e,t),this.fileLists=this.fileLists.concat()},everyFileCheckbox:function(e,t,i){t.checked=e,this.handleCheckBox(e,t,i),this.fileLists=this.fileLists.concat()},handleCheckBox:function(e,t,i){var s=arguments.length,n=void 0;3===s?(e?(n=this.fileLists[i].fileList.findIndex(function(e){return!e.checked}),this.fileLists[i].checked=-1===n):this.fileLists[i].checked=!1,n=this.fileLists.findIndex(function(e){return!e.checked}),this.fileCheckbox=-1===n):2===s&&(n=this.fileLists.findIndex(function(e){return!e.checked}),this.fileCheckbox=-1===n),this.fileLists=this.fileLists.concat()},numSelected:function(){var e=this;return new a.a(function(t){var i=[],s=[],n=!0,r=!1,a=void 0;try{for(var o,c=l()(e.fileLists);!(n=(o=c.next()).done);n=!0){var u=o.value;if(u.checked)i.push(u.pkid);else{var d=!0,h=!1,f=void 0;try{for(var p,v=l()(u.fileList);!(d=(p=v.next()).done);d=!0){var m=p.value;m.checked&&s.push(m.FilePkid)}}catch(e){h=!0,f=e}finally{try{!d&&v.return&&v.return()}finally{if(h)throw f}}}}}catch(e){r=!0,a=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw a}}return t([i,s]),[i,s]})},sendHttp:function(e){var t=this;return new a.a(function(i){if(e[0].length||e[1].length||t.descText){var s={projectId:t.taskIds.projectId,oldstageId:t.taskIds.stageId,stageId:t.ids.join(","),taskId:t.taskIds.taskId,descn:t.descText,groupIdVals:e[0].join(","),fileIdVals:e[1].join(","),myUserId:t.taskIds.userId};t.$HTTP("post","/demand_add",s).then(function(e){t.$emit("handleSure")}).catch(function(e){console.log(e)})}else t.$message.warning("请选择交接文件或添加需求描述")})},addDesc:function(){var e=this;this.descShow=!0,this.$nextTick(function(){e.$refs.descRef.focus()})},cancelDesc:function(){this.descShow=!1,this.descText=""},descFocus:function(){this.descTextFocus=!0},descBlur:function(){this.descTextFocus=!1},cancel:function(){this.$emit("handleCancle")},sure:function(){var e=this;return g()(v.a.mark(function t(){var i;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.numSelected();case 2:return i=t.sent,t.next=5,e.sendHttp(i);case 5:case"end":return t.stop()}},t,e)}))()},setData:function(){this.stageInfo=JSON.parse(f()(this.stageInfos)),this.fileLists=this.stageInfo.fileList;for(var e=this.userId,t=0;t<this.fileLists.length;t++){var i=this.fileLists[t];if(i.fileList.length){this.$set(this.fileLists[t],"packUp",null),this.$set(this.fileLists[t],"checked",!1),i.fileList.map(function(e){return e.checked=!1});for(var s=0;s<i.fileList.length;s++)i.fileList[s].UserPkid!=e&&(i.fileList.splice(s,1),s--);i.fileList.length?this.countFileMore(t):this.fileLists.splice(t,1)}else this.fileLists.splice(t,1)}this.stageInfo.fileList=[].concat(y()(this.fileLists)),console.log("选择交接文件---",this.stageInfos,this.ids)}},created:function(){this.setData(),console.log("文件选择----")}},A={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"selected_file_yun popup"},[i("div",{staticClass:"popup_box"},[i("div",{staticClass:"popup_top"},[i("span",{staticClass:"popup_title"},[e._v("文件选择")]),e._v(" "),i("i",{staticClass:"iconfont icon-guanbijiantou fr",on:{click:e.cancel}})]),e._v(" "),i("div",{staticClass:"popup_content"},[i("div",{class:e.descShow?"file_box demand_box_show":"file_box",attrs:{id:"fileBox"}},e._l(e.fileLists,function(t,s){return i("div",{key:t.pkid,staticClass:"parths_group clearfix"},[i("div",{staticClass:"group_top"},[i("el-checkbox",{staticClass:"all_checked",on:{change:function(i){e.fileCheckboxGroup(i,t)}},model:{value:t.checked,callback:function(i){e.$set(t,"checked",i)},expression:"group.checked"}},[e._v(e._s(t.groupName))]),e._v(" "),i("div",{staticClass:"group_operate fr"},[t.packUp?i("span",{staticClass:"mainColor_underline_text",on:{click:function(t){e.groupExtendToggle(s,!0)}}},[e._v("收起")]):e._e()])],1),e._v(" "),!1===t.packUp?i("div",{staticClass:"group_file"},[e._l(t.overList,function(n,r){return i("div",{key:n.FilePkid,staticClass:"every_file",attrs:{groupid:t.pkid,id:n.FilePkid,filename:n.FileName},on:{click:function(t){e.groupExtendToggle(s,n,r)}}},[n.overLength?[i("span",{staticClass:"file_pic"},[e._l(n.UrlMin,function(t,s){return i("span",{key:s,staticClass:"more"},[i("img",{attrs:{src:t,alt:"\n                                    "}}),e._v(" "),i("span",{staticClass:"none"})])}),e._v(" "),e._m(0,!0),e._v(" "),i("span",{staticClass:"none"})],2),e._v(" "),i("div",{staticClass:"file_info"},[i("p",{staticClass:"file_length underline_text"},[e._v("展开更多"),i("span",{staticClass:"mainColor"},[e._v(e._s(n.overLength))]),e._v("个文件")])])]:[i("span",{staticClass:"file_pic"},[11===n.FileType&&n.Desc?[i("span",{staticClass:"text_desc"},[i("span",[e._v(e._s(n.Desc))])])]:[i("img",{attrs:{src:n.UrlMin,alt:""}})],e._v(" "),i("span",{staticClass:"none"})],2),e._v(" "),i("div",{staticClass:"file_info"},[i("p",{staticClass:"title"},[e._v(e._s(n.FileName))]),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:n.nickName?n.nickName:n.userName,placement:"top","open-delay":300}},[i("img",{staticClass:"from_header",attrs:{src:n.UserPic,alt:""}})]),e._v(" "),i("span",{staticClass:"file_message fr"},[i("i",{staticClass:"iconfont icon-pinglun"}),e._v("\n                                    "+e._s(n.Count)+"\n                                    ")]),e._v(" "),i("span",{staticClass:"fixed file_checkbox",on:{click:function(e){e.stopPropagation()}}},[i("el-checkbox",{on:{change:function(t){e.everyFileCheckbox(t,n,s)}},model:{value:n.checked,callback:function(t){e.$set(n,"checked",t)},expression:"item.checked"}})],1)],1)]],2)}),e._v(" "),i("div",{staticClass:"null"})],2):i("div",{staticClass:"group_file"},[e._l(t.fileList,function(n,r){return i("div",{key:n.FilePkid,staticClass:"every_file",attrs:{groupid:t.pkid,id:n.FilePkid,filename:n.FileName},on:{click:function(t){e.enterTheDetails(r,s)}}},[i("span",{staticClass:"file_pic"},[11===n.FileType&&n.Desc?[i("span",{staticClass:"text_desc"},[i("span",[e._v(e._s(n.Desc))])])]:[i("img",{attrs:{src:n.UrlMin,alt:""}})],e._v(" "),i("span",{staticClass:"none"})],2),e._v(" "),i("div",{staticClass:"file_info"},[i("p",{staticClass:"title"},[e._v(e._s(n.FileName))]),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:n.nickName?n.nickName:n.userName,placement:"top","open-delay":300}},[i("img",{staticClass:"from_header",attrs:{src:n.UserPic,alt:""}})]),e._v(" "),i("span",{staticClass:"file_message fr"},[i("i",{staticClass:"iconfont icon-pinglun"}),e._v("\n                                "+e._s(n.Count)+"\n                                ")]),e._v(" "),i("span",{staticClass:"fixed file_checkbox",on:{click:function(e){e.stopPropagation()}}},[i("el-checkbox",{on:{change:function(t){e.everyFileCheckbox(t,n,s)}},model:{value:n.checked,callback:function(t){e.$set(n,"checked",t)},expression:"item.checked"}})],1)],1)])}),e._v(" "),i("div",{staticClass:"null"})],2),e._v(" "),s<t.fileList.length-1?i("div",{staticClass:"group_line"}):e._e()])}),0),e._v(" "),e.descShow?i("div",{staticClass:"demand_box",attrs:{id:"demandBox"}},[i("span",[e._v("需求描述")]),e._v(" "),i("i",{staticClass:"iconfont icon-guanbijiantou fr",on:{click:e.cancelDesc}}),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.descText,expression:"descText"}],ref:"descRef",class:e.descTextFocus?"textarea_desc_focus":"textarea_desc",attrs:{rows:"2",placeholder:"添加文字说明"},domProps:{value:e.descText},on:{focus:e.descFocus,blur:e.descBlur,input:function(t){t.target.composing||(e.descText=t.target.value)}}})]):e._e()]),e._v(" "),i("div",{staticClass:"popup_bottom"},[i("div",{staticClass:"checkbox_file fl"},[e.checkedFileList.length?i("el-checkbox",{staticClass:"all_checked",on:{change:e.fileCheckboxAll},model:{value:e.fileCheckbox,callback:function(t){e.fileCheckbox=t},expression:"fileCheckbox"}},[e._v("\n                    已选"),i("span",{staticClass:"mainColor"},[e._v(e._s(e.checkedFileList.length))]),e._v("项\n                  ")]):e._e(),e._v(" "),i("el-checkbox",{staticClass:"all_checked",on:{change:e.fileCheckboxAll},model:{value:e.fileCheckbox,callback:function(t){e.fileCheckbox=t},expression:"fileCheckbox"}},[e._v("全选")])],1),e._v(" "),i("button",{staticClass:"main_button_bg sure fr",on:{click:e.sure}},[e._v("确定")]),e._v(" "),i("button",{staticClass:"main_button fr",on:{click:function(t){return t.stopPropagation(),e.addDesc(t)}}},[e._v("需求描述")])])]),e._v(" "),i("transition",{attrs:{name:"fade1"}},[e.filedetailsShow?i("file-details",{attrs:{info:e.enterDetailInfo},on:{closeDetails:e.closeDetails}}):e._e()],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"more"},[t("img",{staticClass:"more",attrs:{src:i("iLpf"),alt:""}})])}]};var k=i("C7Lr")(w,A,!1,function(e){i("MsJb")},null,null).exports,b={props:["data"],data:function(){return{list:[],defaultKeys:[],allChecked:!1}},watch:{list:{deep:!0,handler:function(e){var t=e.findIndex(function(e){return!e.IsState});this.allChecked=-1===t}}},methods:{mouseLeave:function(){},cancel:function(){},allChange:function(){var e=[],t=[];this.list.map(function(i){return e.push(i.stageTaskUserId),t.push(i.userpkid),i.IsState=!0}),this.$emit("handleSure",e,t,!0,"all")},change:function(e){this.list[e].IsState=!this.list[e].IsState;var t=[this.list[e].stageTaskUserId],i=[this.list[e].userpkid];this.$emit("handleSure",t,i,this.list[e].IsState,this.list[e].nickName?this.list[e].nickName:this.list[e].userName)},checkedList:function(){var e=[],t=!0,i=!1,s=void 0;try{for(var n,r=l()(this.list);!(t=(n=r.next()).done);t=!0){var a=n.value;a.IsState&&e.push(a.userpkid)}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}this.defaultKeys=e},computedNum:function(){var e=this;return new a.a(function(t){var i=[],s=!0,n=!1,r=void 0;try{for(var a,o=l()(e.list);!(s=(a=o.next()).done);s=!0){var c=a.value;c.IsState&&i.push(c.userpkid)}}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}return i.sort().toString()===e.defaultKeys.sort().toString()?(t(null),null):(t(i),i)})}},created:function(){},mounted:function(){var e=this;this.$nextTick(function(t){e.list=[].concat(y()(e.data)),e.checkedList()})}},I={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"state_manage_y",on:{mouseleave:e.mouseLeave}},[e.list&&e.list.length?i("ul",{staticClass:"list_ul"},e._l(e.list,function(t,s){return i("li",{key:s,on:{click:function(t){t.stopPropagation(),e.change(s)}}},[i("img",{staticClass:"header",attrs:{src:t.userPic,alt:""}}),e._v(" "),i("span",{staticClass:"names"},[e._v(e._s(t.nickName?t.nickName:t.userName))]),e._v(" "),i("el-checkbox",{model:{value:t.IsState,callback:function(i){e.$set(t,"IsState",i)},expression:"item.IsState"}})],1)}),0):i("div",{staticClass:"list_ul"},[i("p",[e._v("该阶段暂无人员参与")])]),e._v(" "),i("div",{staticClass:"state_manage_bottom"},[e.allChecked?i("button",{staticClass:"main_button_disabled"},[e._v("标记全部完成")]):i("button",{staticClass:"main_button_color",on:{click:function(t){return t.stopPropagation(),e.allChange(t)}}},[e._v("标记全部完成")])])])},staticRenderFns:[]};var x=i("C7Lr")(b,I,!1,function(e){i("cvk5")},null,null).exports,P={components:{Reminder2:d.a,SelectedFile:k,StateManageList:x},props:["info"],data:function(){return{userId:JSON.parse(localStorage.getItem("staffInfo")).userPkid,stageInfo:{},remarkStateFlag:!1,reminderText:"",selectList:[],transferDefaultStage:[],selectedIds:[],selectedFileShow:!1,stateManageFlag:!1,stateManageList:[],_time:null}},computed:u()({},Object(C.c)(["stageInfos"])),methods:{handleState1:function(e,t,i,s){var n=this,r=[this.stageInfo.stageTaskUserId];"finish"!==e&&(r=e),this.sendHttp(r).then(function(a){"finish"===e?(n.stageInfo.stageTaskUserIsState=!n.stageInfo.stageTaskUserIsState,n.$message({type:"success",message:"您已经将此阶段的工作标记为"+(n.stageInfo.stageTaskUserIsState?"":"未")+"完成状态！",center:!0}),n.stateChange(n.stageInfo.stageTaskUserIsState,r),n.idSelectedFileShow()):(n.stateManageFlag=!1,-1!==t.findIndex(function(e){return e==n.userId})&&(n.stageInfo.stageTaskUserIsState=i,n.idSelectedFileShow()),"all"===s?(n.stateChange(i,r,"all"),n.$message({type:"success",message:"您已经将此阶段全员的工作标记为"+(i?"":"未")+"完成状态！",center:!0})):(n.stateChange(i,r),n.$message({type:"success",message:"您已经将"+s+"的工作标记为"+(i?"":"未")+"完成状态！",center:!0})))}).catch(function(e){console.log("1--修改完成状态失败",e)})},state1Enter:function(){this.stateManageFlag=!0},visibleChange:function(e){if(this.stateManageFlag=!1,e){var t=!0,i=!1,s=void 0;try{for(var n,r=l()(this.stageInfos.stageList);!(t=(n=r.next()).done);t=!0){var a=n.value;a.stageId==this.stageInfo.stageId&&(this.stateManageList=a.userList)}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}}},handleState2:function(e){var t=this,i=[this.stageInfo.stageTaskUserId];this.sendHttp(i).then(function(e){t.stageInfo.stageTaskUserIsState=!t.stageInfo.stageTaskUserIsState,t.$message({type:"success",message:"您已经将此阶段的工作标记为"+(t.stageInfo.stageTaskUserIsState?"":"未")+"完成状态！",center:!0}),t.stateChange(t.stageInfo.stageTaskUserIsState,i),t.idSelectedFileShow()}).catch(function(e){console.log("2--修改完成状态失败",e)})},stateEnter:function(){var e=this;this._time=setTimeout(function(){e.stateManageFlag=!0},300)},stateLeave:function(){this._time&&(clearTimeout(this._time),this._time=null),this.stateManageFlag=!1},handleState3:function(e,t,i,s){var n=this;this.sendHttp(e).then(function(t){"all"===s?(n.stateChange(i,e,"all"),n.$message({type:"success",message:"您已经将此阶段全员的工作标记为"+(i?"":"未")+"完成状态！",center:!0})):(n.stateChange(i,e),n.$message({type:"success",message:"您已经将"+s+"的工作标记为"+(i?"":"未")+"完成状态！",center:!0})),n.stateManageFlag=!1}).catch(function(e){console.log("3--修改完成状态失败",e)})},sendHttp:function(e){var t=this;return new a.a(function(i,s){var n={vale:e.join(",")};t.$HTTP("post","/stageTaskUser_update",n).then(function(e){i(!0)}).catch(function(e){s(e)})})},idSelectedFileShow:function(){if(this.stageInfo.stageTaskUserIsState&&!(this.stageInfo.stageList.length<=1)){var e=0,t=!0,i=!1,s=void 0;try{for(var n,r=l()(this.stageInfo.fileList);!(t=(n=r.next()).done);t=!0){var a=n.value,o=!0,c=!1,u=void 0;try{for(var d,h=l()(a.fileList);!(o=(d=h.next()).done);o=!0){d.value;e++}}catch(e){c=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(c)throw u}}}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}e&&(this.reminderText="您已将这部分工作标记为完成，请确认是否将工作成果移交给下一阶段使用",this.remarkStateFlag=!0)}},stateChange:function(e,t,i){var s=t[0];i&&this.stateManageList.map(function(e){return e.IsState=!0});var n=!0,r=!1,a=void 0;try{for(var o,c=l()(this.stateManageList);!(n=(o=c.next()).done);n=!0){var u=o.value;u.stageTaskUserId==s&&(u.IsState=e)}}catch(e){r=!0,a=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw a}}this.stateManageList=this.stateManageList.concat()},remarkStateCancel:function(){this.remarkStateFlag=!1},remarkStateSure:function(e){this.selectedFileShow=!0,this.selectedIds=e},selectedFileCancel:function(){this.selectedFileShow=!1},selectedFileSure:function(){this.selectedFileShow=!1,this.remarkStateFlag=!1},setData:function(e){this.stageInfo=n()({},e||this.stageInfos),this.selectList=[],this.transferDefaultStage=[];var t=!0,i=!1,s=void 0;try{for(var r,a=l()(this.stageInfo.stageList);!(t=(r=a.next()).done);t=!0){var o=r.value;o.stageId!=this.stageInfo.stageId?this.selectList.push({value:o.stageId,label:o.stageTitle,disabled:!1}):this.stateManageList=o.userList}}catch(e){i=!0,s=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw s}}for(var c=0;c<this.stageInfo.stageList.length;c++)if(this.stageInfo.stageList[c].stageId==this.stageInfo.stageId&&c<this.stageInfo.stageList.length-1)return void(this.transferDefaultStage=[this.stageInfo.stageList[c+1].stageId])}},created:function(){this.setData()}},S={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"state_manage_yun"},[e.stageInfo.isMyParticipate&&e.stageInfo.isCreatorId?i("span",{staticClass:"market_state case1"},[i("el-dropdown",{on:{"visible-change":e.visibleChange}},[e.stageInfo.stageTaskUserIsState?i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"iconfont icon-zhuangtaiguanli-1"}),e._v(" "),i("span",{staticClass:"span_text finish_text"},[e._v("已完成")])]):i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"iconfont icon-zhuangtaiguanli-"}),e._v(" "),i("span",{staticClass:"span_text"},[e._v("状态标记")])]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{nativeOn:{click:function(t){e.handleState1("finish")}}},[e._v(e._s(e.stageInfo.stageTaskUserIsState?"取消标记":"标记完成"))]),e._v(" "),i("el-dropdown-item",{staticClass:"el_dropdown_state",nativeOn:{mouseenter:function(t){return e.state1Enter(t)}}},[i("span",{staticClass:"parth_el_dropdown_span"},[e._v("状态管理")]),e._v(" "),i("i",{staticClass:"iconfont icon-enter"}),e._v(" "),i("el-collapse-transition",[e.stateManageFlag?i("state-manage-list",{ref:"stateManageList",attrs:{id:"stateManage",data:e.stateManageList},on:{handleSure:e.handleState1}}):e._e()],1)],1)],1)],1)],1):e.stageInfo.isMyParticipate&&!e.stageInfo.isCreatorId?i("span",{staticClass:"market_state case2",on:{click:e.handleState2}},[e.stageInfo.stageTaskUserIsState?[i("i",{staticClass:"iconfont icon-zhuangtaiguanli-1"}),e._v(" "),i("span",{staticClass:"finish_text"})]:[i("i",{staticClass:"iconfont icon-zhuangtaiguanli-"}),e._v(" "),i("span",[e._v("标记完成")])]],2):!e.stageInfo.isMyParticipate&&e.stageInfo.isCreatorId?i("span",{staticClass:"market_state",on:{mouseenter:e.stateEnter,mouseleave:e.stateLeave}},[i("i",{staticClass:"iconfont icon-zhuangtaiguanli-"}),e._v(" "),i("span",{staticClass:"finish_text"},[e._v("状态管理")]),e._v(" "),i("el-collapse-transition",[e.stateManageFlag?i("state-manage-list",{ref:"stateManageList",attrs:{id:"stateManage",data:e.stateManageList},on:{handleSure:e.handleState3}}):e._e()],1)],1):e._e(),e._v(" "),i("transition",{attrs:{name:"fade1"}},[e.remarkStateFlag?i("Reminder2",{attrs:{type:1,text:e.reminderText,inputValue:e.transferDefaultStage,selectList:e.selectList,multiple:!0,sureText:"选择文件",selectPlaceholder:"请选择阶段"},on:{handleCancle:e.remarkStateCancel,handleSure:e.remarkStateSure}}):e._e()],1),e._v(" "),i("transition",{attrs:{name:"fade1"}},[e.selectedFileShow&&e.selectedIds.length?i("selected-file",{attrs:{info:e.stageInfo,ids:e.selectedIds},on:{handleCancle:e.selectedFileCancel,handleSure:e.selectedFileSure}}):e._e()],1)],1)},staticRenderFns:[]};var T=i("C7Lr")(P,S,!1,function(e){i("nIDT")},null,null);t.a=T.exports},rJ2G:function(e,t,i){"use strict";var s=i("jJoP"),n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"add_human_yun"},[i("div",{staticClass:"stage_people"},e._l(e.stagePeopleList,function(t,s){return i("div",{key:t.stageId,staticClass:"people clearfix"},[i("span",{staticClass:"people_title"},[e._v(e._s(t.stageTitle))]),e._v(" "),i("div",{staticClass:"header_box fr"},[e._l(t.userList,function(t,n){return i("div",{key:t.userpkid,staticClass:"people_header",on:{mouseenter:function(i){e.peopleEnter(t)},mouseleave:function(i){e.peopleLeave(t)}}},[i("img",{staticClass:"header",attrs:{src:t.userPic,alt:""}}),e._v(" "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.hovers,expression:"item.hovers"}],staticClass:"item",attrs:{effect:"dark",content:(t.nickName?t.nickName:t.userName)+(t.IsState?"：已完成":""),placement:"top","open-delay":300}},[i("span",{staticClass:"del_peop iconfont icon-guanbijiantou",on:{click:function(i){e.delPeople(t,s,n)}}})]),e._v(" "),t.IsState?i("span",{staticClass:"icon_finish iconfont icon-xuanzhong"}):e._e()],1)}),e._v(" "),i("div",{staticClass:"add_people_box"},[i("i",{staticClass:"iconfont icon-jia1 add_people",class:!1!==e.addPeopleShow&&e.addPeopleShow===s?"add_people_show":"",on:{click:function(i){i.stopPropagation(),e.addPeople(s,t)}}})])],2),e._v(" "),s?e._e():i("div",{staticClass:"selected_stage"})])}),0),e._v(" "),e._m(0),e._v(" "),i("el-collapse-transition",[!1!==e.addPeopleShow?i("Participant",{ref:"addPeople",attrs:{id:"addPeople",creatorId:e.ids.userId,defaultKeys:e.defaultKeys,userList:e.userList},on:{handleSure:e.addPeopleSure,handleInvite:e.invitePeople}}):e._e()],1),e._v(" "),i("transition",{attrs:{name:"fade1"}},[e.inviteShow?i("add-people",{attrs:{defaultTreeKeys:e.inviteDefaultKeys,fromInfo:e.fromInfo},on:{handleCancel:e.handleAddPeople}}):e._e()],1),e._v(" "),i("transition",{attrs:{name:"fade1"}},[e.delPeopleFlag?i("Reminder2",{attrs:{type:1,text:e.reminderText},on:{handleCancle:e.delPeopleCancel,handleSure:e.delPeopleSure}}):e._e()],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"arrow_div"},[t("div",{staticClass:"arrow_box"})])}]};var r=function(e){i("O/7O")},a=i("C7Lr")(s.a,n,!1,r,null,null);t.a=a.exports},"rUm/":function(e,t,i){e.exports=i.p+"static/img/noBody.0bfd6cd.png"},rlF0:function(e,t){},s6TT:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAApCAYAAABdnotGAAAACXBIWXMAAAsSAAALEgHS3X78AAACbklEQVRYhe2Yz2vTUBzAv3lJ2nTNhgobbKgIsiHDm7KL9OjF4zy5MVCP3vwLrBdPggcv3hwMYRd39CKexi5SL1LG6BiMdbp2w4nZuiYmaeQbltquyct7Xd5y6QdCQ/p+fPq+7/vtayXP8yDgzdfGfE6R7kOC1BqtcrGgv2YdsS30ttR4dylLns5MZNRrI3IiRmu7Fqzt2nj7pFjQF1n6kODGdLyFh7dyicmc4X1x9fgxl9CELh+JMOmASaotNJIlpmAhYJEitDcFQZVKQwhoUmkJQZSUUCFNlkACoO3NHimhQrdHVVDl2Dm6pIQKZRUJ5qaHMroqmSqBXwqBetglS/Aq6KOIFELG8gSe3clrVcPVotqU9v7WL0wogPYNUDn8XwPTzLJQBkJxDITiSCzLdgzXf8XqjKmemtB+owWftkzYP2m1n2GKz05pfmHk5dwhW6k0u2SQquHCSqW/41VfK7R56ECpZvurY7leaBuUwjBe5zwScwt92bbgW81maru83oTJywo8uJllDh9XyPATs8oEbP52uMLHJVQ+4JMJwPCx9mUWWvx+AuUDpy8h8Pedm5xQac/uyaROxoaIf9EwIzZ/X0K4D2gyj6Zz/kWTwoLJwrkLIxbB+unq4X3USk5eYUt/JiFM3aoRvgcw67TTlI7KQFw5PF+zwBSyu+Mq9cRHA/thOFlhDhkOiqn7x+rdnIHsvauZnudCK3XcsvNOHsbggBbHQCiOtpDlehf2o/EshtXSXq4e3YBOoR+Gq6cl9PPYHX5RGN7uEiIElj9uNO2oiiwCPHHinJoiLQXjC/+fOo6m431+PpP/4LcDgH+RtOZKvmdcxQAAAABJRU5ErkJggg=="},s9QU:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABBCAYAAACel4eZAAAACXBIWXMAAAsSAAALEgHS3X78AAAD4ElEQVRoBe2bS0wTQRjHv50+lj5QJJZCPGBiCAcNBI3xkRBNVA6eBK8aPerdO/Wsdz14MJEzGI/4iLGJxsQXBBJDQ1IOBrCxQW0pu+12zX/aqVsttbvlMTX7S/awszOz32++2Y/CFsU0Tbod/9nRGWCTWsE81RlgmUjQk6VdYC6Vj2gGJYjobGw4vOYkAiX26kfH/iD7fLzHHz0S8e2GR4UHn7KZ9IYZJqIZp1IMmRmI+HZd5g8GiehlLJ7psDuQFYt09FiPf7sDdIIjKaZ6FVMahb+xLcUOtHu+72CATrAlxaQLvzYNS7WKEJWlHv+rUysJgTOxeOZhvQ6tJgSu1ZNqRSGqJ9WqQrSZlFRCAZ/itTnkLymphAa7fG1MoYzNYVVSUgn17fNSyKc4+RxWkZJKSPUqdLk/4Fc9pDsYzqXs7tltpyvE6PpA0P8iqeWT342iolC2aFK+kfuaJo1IJwT2qoxG+wP895mv2aKqGY19fn63rK9KKWQFGWuUhTTbaOWfQzVxhWTHFZIdV0h2XCHZcYVkxxWSHVdIdlwh2XGFZMcVkh1XSHZcIdn574Rs/Sl4al6jRx+1qrZomNHoYT+N9P1+C7KYNni/2eUCPw/7Fd5n9LBaNXY6odPUvE6rmSI/xxxXhlTeH/eaTuTpzsUQPwf3327Q4jeDt22GrQwtpks3vjUcoMkre+jepTC/Gb9R2uDXENztZ+uU1Ux+Hf0gA0H0sy4Ozkf6fLwPgpxZLvCxAsz1NKFXFgkLEG2vH3JTW05kBzxNlN54IPCMbtKNk238OkBmBnq8PCAEhuvIDNpE1g51ergcrr9eyvN2tE2X50X/0lz134c1/fYBQYGV8rbBNkPWEIyVwW4Pv4Yj5Fe4FNqsCHExFsHfjed4Jq2S9diyooAthiBxiMxs2lff/H2PNeDTvb5ylvSq3VCPpoVEcCFV4ZnBIR5yJ4gtC8QCifvUWwhB00KoOqC7nBVsGQQhKpxgZsWoXBdZEEVGgEKBQ4zFdsPiXB0qPWd3X+WaE8LkYxM/KhVMlE+BeLjBhb7SNyKvlssuVlpkSgSJsgwZIYXnYrqqiuV5O7aadQyeHZRz9LFWylrYKgrRsFJZOYrnym2Mbpxoq6w6zsfPB7nQzceZykJA1PpzCH0myqVcBAkRzAVeLxX4nOIcYrMrpQoo2mqhPFnYSJ47qPbaEZOV50ltyf0sJzuukOz8f0IrWSMqQRxbwpefxl62rpvaDtxrR9AKpsIYow/vl518m0su4AAXls4Vx2ZT+dW5VEPf4JISxA4HuEj1/0N2Sa0boXSuGFa9yhvIjA+3r/0CCRTZMrD9VnQAAAAASUVORK5CYII="},tVkU:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAACXBIWXMAAAsSAAALEgHS3X78AAABfUlEQVRIDWM8cO1u3fuvPxqlBHifsjAz/WEgETx7/5nnz79/JQEmWguw6WRcf/rqfx1pMQZpQV5SzQaDfdfvf/z99x8/AwNDIjZLmEAuJ9dwNDB/w5lrCRgWkBMspFjCREXDsVpCCwtQLGGh3CxGbjyWUG6BqaIky+n7z37/+///038GBtT4/M/QRrEFvBzsDE6aiqzvvn4XRpd7+PbjSyoEEQQIcXNiiL389PUHrSIZDkYtGLVg1ILhYAHesujFxy8MFx+/RBET5uFkEObmYvj97y/D/dcf4OL6suIMEvw8GGbg9QFIg7uOMphtoiAFZv/++4/h8ftPDGriwmAxEACJYzOcoAXo4O2X72ALWJmZGJ68+0SUHpwWXH32Gh4EIANB+P6b9wxKIgJg14N8ARPHBxjP3nvyQFNSRJ4UnxALrj9/85D2+eDP339Uq9XQAchspmcfPks/ff+Z6oaDzASZzSLIzVF/5emrxndfv5PV+MUGQC4HGS7IzVEPADj/loWvYgt6AAAAAElFTkSuQmCC"},ug58:function(e,t){},ukYY:function(e,t,i){"use strict";(function(e){var s,n=i("a3Yh"),r=i.n(n),a=i("4YfN"),o=i.n(a),l=i("3cXf"),c=i.n(l),u=i("vZNG"),d=i("Du/2");i("rudh");t.a=(s={},r()(s,d.f,function(e,t){e.newProjectPop=t}),r()(s,d.b,function(e,t){e.details=t}),r()(s,d.e,function(e,t){e.projectItem=t}),r()(s,d.n,function(e,t){e.taskTitle=t,e.taskItem.title=t}),r()(s,d.l,function(e,t){e.taskStar=t,e.taskItem.isStar=t}),r()(s,d.k,function(e,t){e.taskRemind=t,e.taskItem.remind=t}),r()(s,d.j,function(e,t){e.taskItem=t,e.taskTitle=t.title,e.taskStar=t.isStar,e.taskRemind=t.remind,e.taskTimeState=t.state,e.taskTimeDate=t.date,e.taskDelChange=!1}),r()(s,d.p,function(e,t){e.taskList=t}),r()(s,d.q,function(t,i){for(var s=JSON.parse(c()(t)),n=0;n<s.tasksList.length;n++)for(var r=s.tasksList[n],a=0;a<r.taskList.length;a++){var o=r.taskList[a];if(o.pkid==i){var l=e(".parths").eq(n).find(".every_list").eq(a);return l[0].scrollIntoView({behavior:"smooth"}),l.find(".task_title").eq(0).focus(),this.commit("TASKITEM_CHANGE",o),void this.commit("TASK_INDEX",[n,a])}}}),r()(s,d.o,function(e,t){e.taskIndex=t}),r()(s,d.m,function(e,t){if(t){var i=Object(u.a)(t);e.taskItem=o()({},e.taskItem,{returnTime:i}),e.taskItem.state=i.state,e.taskItem.date=i.date,e.taskTimeState=i.state,e.taskTimeDate=i.date}else e.taskItem=o()({},e.taskItem,{returnTime:returnTime}),e.taskTimeState="",e.taskTimeDate="";console.log(e.taskItem)}),r()(s,d.h,function(e){e.taskDelChange=!0}),r()(s,d.g,function(e,t){e.stageInfos=t}),r()(s,d.a,function(e,t){e.checkedFileList=t}),r()(s,d.c,function(e,t){e.fileLength=t}),r()(s,d.i,function(e,t){e.taskIds=t}),r()(s,d.d,function(e,t){e.power=t}),r()(s,d.r,function(e,t){e.unreadNum=t}),s)}).call(t,i("L7Pj"))},vZNG:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var s=function(e){var t=new Date(e),i=new Date,s=i.getTime()-t.getTime(),n=Math.abs(s),r=Math.floor(n/864e5),a=n%864e5,o=Math.floor(a/36e5),l=a%36e5,c=Math.floor(l/6e4),u=l%6e4,d=Math.round(u/1e3),h=(t.getFullYear(),t.getMonth()+1),f=t.getDate(),p=i.getDate();return s<=0?0==r&&f==p?{countDown:c>0||d>0?"剩余"+(o+1)+"小时":"剩余"+o+"小时",state:2,date:"今日截止"}:{state:4,date:h+"月"+f+"日截止"}:r>98&&(o>0||c>0||d>0)?{state:3,date:"已超时99+天"}:{state:3,date:o>0||c>0||d>0?"已超时"+(r+1)+"天":"已超时"+r+"天"}}},"x3Y+":function(e,t){},"xG/t":function(e,t,i){"use strict";var s=i("NZ/s"),n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"demand_view_yun"},[i("div",{staticClass:"top_box"},[i("div",{staticClass:"left fl"},[e.checkedList.length?i("el-checkbox",{staticClass:"all_checked",on:{change:e.fileCheckboxAll},model:{value:e.fileCheckbox,callback:function(t){e.fileCheckbox=t},expression:"fileCheckbox"}},[e._v("\n            已选"),i("span",{staticClass:"mainColor"},[e._v(e._s(e.checkedList.length))]),e._v("项\n        ")]):i("el-checkbox",{staticClass:"all_checked",on:{change:e.fileCheckboxAll},model:{value:e.fileCheckbox,callback:function(t){e.fileCheckbox=t},expression:"fileCheckbox"}},[e._v("全选")]),e._v(" "),e.checkedList.length?[i("el-tooltip",{attrs:{effect:"dark",content:"下载",placement:"top","open-delay":300}},[i("i",{staticClass:"iconfont icon-xiazai",on:{click:e.multipleDownload}})]),e._v(" "),i("el-tooltip",{attrs:{effect:"dark",content:"收藏",placement:"top","open-delay":300}},[i("i",{staticClass:"iconfont icon-shoucang1",on:{click:e.multipleCollect}})])]:e._e()],2)]),e._v(" "),i("div",{staticClass:"demand_box"},e._l(e.demandList,function(t,s){return i("div",{key:t.demandId,staticClass:"demand_group"},[i("div",{staticClass:"demand_desc"},[i("div",{staticClass:"desc_top"},[i("span",{staticClass:"header_img"},[i("el-tooltip",{attrs:{effect:"dark",content:t.nickName?t.nickName:t.userName,placement:"top","open-delay":300}},[i("img",{staticClass:"header",attrs:{src:t.UserPic,alt:""}})])],1),e._v(" "),i("div",{staticClass:"right_info fr"},[i("span",{staticClass:"stage_name"},[e._v(e._s(t.oldstageTitle))]),e._v(" "),i("span",{staticClass:"line"}),e._v(" "),i("span",{staticClass:"time"},[e._v(e._s(t.createTime))])])]),e._v(" "),i("div",{staticClass:"desc_content"},[e._v(e._s(t.descn))])]),e._v(" "),i("div",{staticClass:"file_group"},e._l(t.fileList,function(n,r){return i("div",{key:n.Pkid,staticClass:"parths_group clearfix"},[i("div",{staticClass:"group_top"},[i("span",{staticClass:"group_name"},[e._v(e._s(n.GroupName))]),e._v(" "),i("div",{staticClass:"group_operate fr"},[n.packUp?i("span",{staticClass:"mainColor_underline_text",on:{click:function(t){e.groupExtendToggle(s,r,!0)}}},[e._v("收起")]):e._e(),e._v(" "),i("el-dropdown",{staticClass:"fixed file_more"},[i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"iconfont icon-gengduo1"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{nativeOn:{click:function(t){e.fileGroupCommand("download",r,n,s)}}},[e._v("下载")]),e._v(" "),i("el-dropdown-item",{nativeOn:{click:function(t){e.fileGroupCommand("collect",r,n,s)}}},[e._v("收藏")])],1)],1)],1)]),e._v(" "),!1===n.packUp?i("div",{staticClass:"group_file"},[e._l(n.overList,function(t,a){return i("div",{key:t.FilePkid,staticClass:"every_file",attrs:{groupid:n.pkid,id:t.FilePkid,filename:t.FileName},on:{mouseenter:function(i){e.enterFile(t)},mouseleave:function(i){e.leaveFile(t)},click:function(i){e.groupExtendToggle(s,r,t,a)}}},[t.overLength?[i("span",{staticClass:"file_pic"},[e._l(t.UrlMin,function(t,s){return i("span",{key:s,staticClass:"more"},[i("img",{attrs:{src:t,alt:"\n                                    "}}),e._v(" "),i("span",{staticClass:"none"})])}),e._v(" "),e._m(0,!0),e._v(" "),i("span",{staticClass:"none"})],2),e._v(" "),i("div",{staticClass:"file_info"},[i("p",{staticClass:"file_length underline_text"},[e._v("展开更多"),i("span",{staticClass:"mainColor"},[e._v(e._s(t.overLength))]),e._v("个文件")])])]:[i("span",{staticClass:"file_pic"},[11===t.FileType&&t.Desc?[i("span",{staticClass:"text_desc"},[i("span",[e._v(e._s(t.Desc))])])]:[i("img",{attrs:{src:t.UrlMin,alt:""}})],e._v(" "),i("span",{staticClass:"none"})],2),e._v(" "),i("div",{staticClass:"file_info"},[i("p",{staticClass:"title"},[e._v(e._s(t.FileName))]),e._v(" "),i("el-tooltip",{attrs:{effect:"dark",content:t.nickName?t.nickName:t.userName,placement:"top","open-delay":300}},[i("img",{staticClass:"from_header",attrs:{src:t.UserPic,alt:""}})]),e._v(" "),i("span",{staticClass:"file_message fr"},[i("el-tooltip",{attrs:{effect:"dark",content:"评论",placement:"top","open-delay":300}},[i("i",{staticClass:"iconfont icon-pinglun"})]),e._v("\n                                    "+e._s(t.Count)+"\n                                    ")],1),e._v(" "),e.oneChecked||t.hover?i("span",{staticClass:"fixed file_checkbox",on:{click:function(e){e.stopPropagation()}}},[i("el-checkbox",{on:{change:function(i){e.everyFileCheckbox(i,t,[s,r])}},model:{value:t.checked,callback:function(i){e.$set(t,"checked",i)},expression:"item.checked"}})],1):e._e(),e._v(" "),i("el-dropdown",{staticClass:"fixed file_more",nativeOn:{click:function(e){e.stopPropagation()}}},[i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"iconfont icon-gengduo"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{nativeOn:{click:function(i){e.fileCommand("download",a,t,n.pkid,r)}}},[e._v("下载")]),e._v(" "),i("el-dropdown-item",{nativeOn:{click:function(i){e.fileCommand("collect",a,t,n.pkid,r)}}},[e._v("收藏")])],1)],1)],1)]],2)}),e._v(" "),i("div",{staticClass:"null"})],2):i("div",{staticClass:"group_file"},[e._l(n.fileList,function(t,a){return i("div",{key:t.FilePkid,staticClass:"every_file",on:{mouseenter:function(i){e.enterFile(t)},mouseleave:function(i){e.leaveFile(t)},click:function(t){e.enterTheDetails(a,r,s)}}},[i("span",{staticClass:"file_pic"},[11===t.FileType&&t.Desc?[i("span",{staticClass:"text_desc"},[i("span",[e._v(e._s(t.Desc))])])]:[i("img",{attrs:{src:t.UrlMin,alt:""}})],e._v(" "),i("span",{staticClass:"none"})],2),e._v(" "),i("div",{staticClass:"file_info"},[i("p",{staticClass:"title"},[e._v(e._s(t.FileName))]),e._v(" "),i("el-tooltip",{attrs:{effect:"dark",content:t.nickName?t.nickName:t.userName,placement:"top","open-delay":300}},[i("img",{staticClass:"from_header",attrs:{src:t.UserPic,alt:""}})]),e._v(" "),i("span",{staticClass:"file_message fr"},[i("el-tooltip",{attrs:{effect:"dark",content:"评论",placement:"top","open-delay":300}},[i("i",{staticClass:"iconfont icon-pinglun"})]),e._v("\n                                "+e._s(t.Count)+"\n                                ")],1),e._v(" "),e.oneChecked||t.hover?i("span",{staticClass:"fixed file_checkbox",on:{click:function(e){e.stopPropagation()}}},[i("el-checkbox",{on:{change:function(i){e.everyFileCheckbox(i,t,[s,r])}},model:{value:t.checked,callback:function(i){e.$set(t,"checked",i)},expression:"item.checked"}})],1):e._e(),e._v(" "),i("el-dropdown",{staticClass:"fixed file_more",nativeOn:{click:function(e){e.stopPropagation()}}},[i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"iconfont icon-gengduo"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{nativeOn:{click:function(i){e.fileCommand("download",a,t,n.pkid,r)}}},[e._v("下载")]),e._v(" "),i("el-dropdown-item",{nativeOn:{click:function(i){e.fileCommand("collect",a,t,n.pkid,r)}}},[e._v("收藏")])],1)],1)],1)])}),e._v(" "),i("div",{staticClass:"null"})],2),e._v(" "),t.fileList.length-1>r?i("div",{staticClass:"group_line"}):e._e()])}),0)])}),0),e._v(" "),i("transition",{attrs:{name:"fade1"}},[e.filedetailsShow?i("file-details",{attrs:{info:e.enterDetailInfo},on:{closeDetails:e.closeDetails}}):e._e()],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"more"},[t("img",{staticClass:"more",attrs:{src:i("iLpf"),alt:""}})])}]};var r=function(e){i("CEk0")},a=i("C7Lr")(s.a,n,!1,r,null,null);t.a=a.exports},xXXu:function(e,t,i){"use strict";(function(e){var s=i("a3Yh"),n=i.n(s),r=i("3cXf"),a=i.n(r),o=i("lC5x"),l=i.n(o),c=i("J0Oq"),u=i.n(c),d=i("aA9S"),h=i.n(d),f=i("rVsN"),p=i.n(f),v=i("4YfN"),m=i.n(v),g=i("IHPB"),_=i.n(g),y=i("HzJ8"),C=i.n(y),w=i("+Llw"),A=i("npnC"),k=i("Jpdf"),b=i.n(k),I=i("XDvF"),x=i("GsIG"),P=i("xG/t"),S=i("qr9n"),T=i("rJ2G"),L=i("ayI4"),E=i("Z516"),F=i("iIsA"),R=i("9rMa");t.a={components:{Reminder2:w.a,UploadProgress:A.a,draggable:b.a,FullPreview:I.a,OtherView:x.a,DemandView:P.a,StateManage:S.a,AddHuman:T.a,AddTime:L.a,TransferView:E.a,FileDetails:F.a},data:function(){return{loginUser:JSON.parse(localStorage.getItem("staffInfo")),projectItem:JSON.parse(localStorage.getItem("projectItem")),userId:JSON.parse(localStorage.getItem("staffInfo")).userPkid,projectId:0,stageId:"0",taskId:0,stageTaskId:1,filePartitionId:0,idList:{},uploadProgressFlag:!1,fileProgressList:[],fileTypeImg:[{src:i("MzaG")},{src:i("MzaG")},{src:i("s9QU")},{src:i("6OdW")},{src:i("JYI+")},{src:i("MK+o")},{src:i("62YV")},{src:i("lfVU")},{src:i("GWU5")},{src:i("Gttd")},{src:i("YCba")},{src:i("EBPn")},{src:i("e0be")}],fileTypeImgM:[{src:i("QeED")},{src:i("9fRE")},{src:i("EVfD")},{src:i("aL5B")},{src:i("blPS")},{src:i("p9T0")},{src:i("hjiM")},{src:i("kpDV")},{src:i("Igbf")},{src:i("G8L8")},{src:i("U4qe")},{src:i("tVkU")}],stageList:[],tasksList:[],allFileList:[],demandList:[],demandCount:0,stageState:0,stageInfo:null,demandOrGain:!0,viewToggle:!0,fileCheckboxSelf:!1,notGroupedList:[],parthsGroup:[],personalFilesShow:!1,personalFiles:[],personalFileCopy:[],personalFolder:{folderId:0,iLevel:0,fatherName:"个人文档"},operatePersonalFile:{},delFileFlag1:!1,dragFileId:"",moveOrClone:"move",dragDisabled:!1,dragDisabled_personal:!1,dragItem:{item:{},fromGroup:null,toGroup:null},navBar:[{id:0,folderId:0,name:"个人文档"}],fileBoxW:182,leftBoxW:210,personalBoxW:388,leftCenterFlag:!0,inputTextShow1:!1,inputTextShow2:!1,inputText:"",fullPreviewShow:!1,fullList:{},oneCheckedSelf:!1,checkedList:[],checkedListSelf:[],delGroupFlag:!1,delFileFlag:!1,reminderText:"您确定要删除吗？",operateParth:{},operateFile:{},groupNameCopy:"",fileNameCopy:"",groupSortFlag:!1,addHumanShow:!1,addTimeShow:!1,transferShow:!1,transferStageList:[],transferDefaultStage:[],operateType:1,addTextIng:!1,uploadFrom:1,filedetailsShow:!1,lastTime:null,enterEdit:!1,stateTooltip:["已开启","已完成","未开始","进行中","已超时","已关闭"],noticeType:null,noticeFile:null}},watch:{checkedList:function(e){this.CHECKEDLIST_CHANGE(e)},leftCenterFlag:function(t){if(t){e("#leftBox").removeClass("left_box_toggle"),e("#rightBox").removeClass("right_box_toggle"),this.countFileOne();var i=!0,s=!1,n=void 0;try{for(var r,a=C()(this.parthsGroup);!(i=(r=a.next()).done);i=!0){var o=r.value;o.packUp=!1,o.overList&&delete o.overList}}catch(e){s=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(s)throw n}}this.parthsGroup=this.parthsGroup.concat()}else{e("#leftBox").addClass("left_box_toggle"),e("#rightBox").addClass("right_box_toggle");var l=!0,c=!1,u=void 0;try{for(var d,h=C()(this.parthsGroup);!(l=(d=h.next()).done);l=!0){var f=d.value;f.allList&&delete f.allList,f.overList&&delete f.overList}}catch(e){c=!0,u=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw u}}for(var p=0;p<this.parthsGroup.length;p++){this.parthsGroup[p].overList||this.countFileMore(p)}this.parthsGroup=this.parthsGroup.concat()}},notGroupedList:{deep:!0,handler:function(e,t){var i=0,s=!0,n=!1,r=void 0;try{for(var a,o=C()(this.parthsGroup);!(s=(a=o.next()).done);s=!0){var l=a.value,c=!0,u=!1,d=void 0;try{for(var h,f=C()(l.fileList);!(c=(h=f.next()).done);c=!0){h.value;i++}}catch(e){u=!0,d=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw d}}}}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}this.FILELENGTH_CHANGE(e.length+i),this.stageInfo.fileList[0].fileList=e,this.viewToggle||this.$refs.otherView.updateData(this.stageInfo.fileList)}},parthsGroup:{deep:!0,handler:function(e,t){var i=0,s=!0,n=!1,r=void 0;try{for(var a,o=C()(e);!(s=(a=o.next()).done);s=!0){var l=a.value,c=!0,u=!1,d=void 0;try{for(var h,f=C()(l.fileList);!(c=(h=f.next()).done);c=!0){h.value;i++}}catch(e){u=!0,d=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw d}}}}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}this.FILELENGTH_CHANGE(i+this.notGroupedList.length),this.stageInfo.fileList=[].concat(this.stageInfo.fileList[0],e),this.viewToggle||this.$refs.otherView.updateData(this.stageInfo.fileList)}},stageList:{deep:!0,handler:function(e){this.stageInfo.stageList=[].concat(_()(this.stageList))}},filePartitionId:function(e){this.idList.filePartitionId=e,this.TASKIDS_CHANGE(this.idList)}},computed:m()({},Object(R.c)(["stageInfos","checkedFileList","fileLength","power"]),{isOwnChecked:function(){var e=this;return-1===this.checkedFileList.findIndex(function(t){return t.UserPkid!=e.userId})},fileCheckbox:{get:function(){return!(!this.fileLength||!this.checkedFileList||this.checkedFileList.length!==this.fileLength)},set:function(){}},oneChecked:function(){return!(!this.checkedFileList||!this.checkedFileList.length)}}),methods:m()({},Object(R.b)(["STAGEINFO_CHANGE","CHECKEDLIST_CHANGE","FILELENGTH_CHANGE","TASKIDS_CHANGE","POWER_CHANGE"]),{enterTheDetails:function(e,t,i){var s=this;if(-1===i&&(new Date).getTime()-this.lastTime<500)return;var n=this.stageList.findIndex(function(e){return e.stageId==s.stageId});this.enterDetailInfo={groupIndex:t,fileIndex:e,fileList:this.stageInfo.fileList,type:i&&-1!==i?2:1,menuList:[this.stageInfo.title,this.stageInfo.stageList[n].stageTitle,this.stageInfo.fileList[t].groupName,this.stageInfo.fileList[t].fileList[e].FileName],noticeType:this.noticeType},this.filedetailsShow=!0},closeDetails:function(){this.filedetailsShow=!1},returnProject:function(){this.$router.push("/project/projectInfo")},addHumanHandle:function(){var t=this;this.addHumanShow=!0,this.addTimeShow=!1;e(document).bind("click",function i(s){t.addHumanShow=!1,e(document).unbind("click",i)})},addTimeHandle:function(){var t=this;this.addTimeShow=!0,this.addHumanShow=!1;e(document).bind("click",function i(s){t.addTimeShow=!1,e(document).unbind("click",i)})},viewToggles:function(){this.viewToggle=!this.viewToggle,this.viewToggle&&this.retrunData(!0)},retrunData:function(e){var t=this;return new p.a(function(i){var s=t.$refs.otherView.close();t.checkedList=[].concat(_()(s.checkedList));var n=[].concat(_()(s.list)),r=!0,a=!1,o=void 0;try{for(var l,c=C()(n);!(r=(l=c.next()).done);r=!0){var u=l.value,d=!0,h=!1,f=void 0;try{for(var p,v=C()(u.fileList);!(d=(p=v.next()).done);d=!0){var m=p.value;1===m.FileType?m.UrlMin=m.Url:m.UrlMin=t.fileTypeImg[m.FileType].src}}catch(e){h=!0,f=e}finally{try{!d&&v.return&&v.return()}finally{if(h)throw f}}}}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}t.notGroupedList=[].concat(n[0].fileList),t.parthsGroup=[].concat(_()(n)).splice(1),e&&t.leftCenterChange(t.leftCenterFlag)})},returnSelection:function(e){var t=!0,i=!1,s=void 0;try{for(var n,r=C()(this.parthsGroup);!(t=(n=r.next()).done);t=!0){var a=n.value,o=function(t){var i=e.findIndex(function(e){return e.FilePkid==t.FilePkid});t.checked=-1!==i},l=!0,c=!1,u=void 0;try{for(var d,h=C()(a.fileList);!(l=(d=h.next()).done);l=!0){o(d.value)}}catch(e){c=!0,u=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw u}}}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}var f=function(t){var i=e.findIndex(function(e){return e.FilePkid==t.FilePkid});t.checked=-1!==i},p=!0,v=!1,m=void 0;try{for(var g,_=C()(this.notGroupedList);!(p=(g=_.next()).done);p=!0){f(g.value)}}catch(e){v=!0,m=e}finally{try{!p&&_.return&&_.return()}finally{if(v)throw m}}},inputTextShowToggle:function(t){var i=this;"left"===t?(this.inputTextShow1=!0,this.inputTextShow2&&(this.inputTextShow2=!1,this.inputText="")):(this.inputTextShow2=!0,this.inputTextShow1&&(this.inputTextShow1=!1,this.inputText="")),this.$nextTick(function(){e("#inputText").focus()});e(document).bind("click",function s(n){"left"===t?i.inputTextShow1=!1:i.inputTextShow2=!1,e(document).unbind("click",s)})},inputTextFocus:function(){e("#inputText").addClass("textarea_border")},inputTextBlur:function(){this.lastTime=(new Date).getTime(),e("#inputText").removeClass("textarea_border")},inputTextSure:function(e){var t=this;if(""!=this.inputText){if(!this.addTextIng)if(this.addTextIng=!0,"left"===e){var i={myUserId:this.userId,projectId:this.projectId,stageTaskId:this.stageTaskId,filePartitionId:0,desc:this.inputText};this.$HTTP("post","/stageTaskInfo_add",i).then(function(e){t.addTextIng=!1,t.inputTextShow1=!1,t.inputText="";var i=t.addFileAttr(e.result);i=h()(e.result,i),t.notGroupedList.push(i),t.$message({type:"success",message:"添加文字内容成功",center:!0}),console.log("添加文字内容成功",e)}).catch(function(e){console.log(e)})}else{var s={myUserId:this.userId,fatherId:this.personalFolder.folderId,iLevel:this.personalFolder.iLevel,title:this.personalFolder.fatherName,desc:this.inputText};this.$HTTP("post","/persona_add_file",s).then(function(e){t.inputTextShow2=!1,t.addTextIng=!1,t.inputText="";var i=t.addFileAttr(e.result);i=h()(e.result,i),t.personalFiles.push(i),t.$message({type:"success",message:"添加文字内容成功",center:!0}),console.log("添加文字内容成功",e)}).catch(function(e){console.log(e)})}}else this.$message({type:"warning",message:"请输入文字内容！",center:!0})},inputTextCancel:function(e){"left"===e?this.inputTextShow1=!1:this.inputTextShow2=!1,this.inputText=""},extendToggle:function(t){this.tasksList[t].extend=!this.tasksList[t].extend,this.tasksList=this.tasksList.concat(),e(".list_box").eq(t).slideToggle(400)},fullPreview:function(){var t=this;this.stageId=null,this.stageState=0;var i={myUserId:this.userId,projectId:this.projectId,taskId:this.taskId};this.$HTTP("post","/project_get_view",i,e("#app")[0]).then(function(e){t.fullList=e.result,t.fullPreviewShow=!0}).catch(function(e){console.log("阶段的整体预览失败",e)})},closeFullPreview:function(){this.fullPreviewShow=!1},demandOrGainChange:function(t){var i=this;if(t)this.demandOrGain=t;else{var s={stageId:this.idList.stageId,taskId:this.idList.taskId,myUserId:this.idList.userId};this.$HTTP("post","/demand_list",s,e("#app")[0]).then(function(e){i.demandList=[].concat(_()(e.result)),i.demandOrGain=t}).catch(function(e){console.log(e)})}},leftRightToggle:function(){this.leftCenterFlag=!this.leftCenterFlag},leftCenterChange:function(t){var i=this;this.$nextTick(function(){if(t){e("#leftBox").removeClass("left_box_toggle"),e("#rightBox").removeClass("right_box_toggle"),i.countFileOne();var s=!0,n=!1,r=void 0;try{for(var a,o=C()(i.parthsGroup);!(s=(a=o.next()).done);s=!0){var l=a.value;l.packUp=!1,l.overList&&delete l.overList}}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}i.parthsGroup=i.parthsGroup.concat()}else{e("#leftBox").addClass("left_box_toggle"),e("#rightBox").addClass("right_box_toggle");var c=!0,u=!1,d=void 0;try{for(var h,f=C()(i.parthsGroup);!(c=(h=f.next()).done);c=!0){var p=h.value;p.allList&&delete p.allList,p.overList&&delete p.overList}}catch(e){u=!0,d=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw d}}for(var v=0;v<i.parthsGroup.length;v++){i.parthsGroup[v].overList||i.countFileMore(v)}i.parthsGroup=i.parthsGroup.concat()}})},groupExtendToggle:function(e,t,i){!0===t||t.overLength?(this.leftCenterFlag?(this.leftRightToggle(),this.parthsGroup[e].packUp=null):this.parthsGroup[e].packUp=!this.parthsGroup[e].packUp,this.parthsGroup[e].packUp?this.countFileMore(e,!1):this.countFileMore(e,!0),this.parthsGroup=this.parthsGroup.concat()):this.enterTheDetails(i,e+1)},countFileMore:function(t,i){var s=this;if(!1===i)return this.parthsGroup[t].overList&&delete this.parthsGroup[t].overList,void(this.parthsGroup=this.parthsGroup.concat());this.$nextTick(function(){var i=e(".parths_group").eq(t).find(".group_file").eq(0).width()+24,n=Math.floor(i/s.fileBoxW),r=[].concat(_()(s.parthsGroup[t].fileList)),a=r.length;if(a<=n)return s.parthsGroup[t].packUp=null,s.parthsGroup[t].overList&&delete s.parthsGroup[t].overList,void(s.parthsGroup=s.parthsGroup.concat());s.parthsGroup[t].packUp=!1;var o=a-n,l=[].concat(_()(r)).splice(0,n-1),c=[];[].concat(_()(r)).splice(n-1).map(function(e){return c.push(e.UrlMin)}),c.length>3&&(c=c.splice(0,3)),l.push({FilePkid:"group"+t,FileName:null,UrlMin:c,FileType:null,userName:null,overLength:o+1}),s.parthsGroup[t]=h()({},s.parthsGroup[t],{overList:l}),s.parthsGroup=s.parthsGroup.concat()})},countFileView:function(t,i,s){var n=this;this.$nextTick(function(){var r=e(".parths_group").eq(t).find(".group_file").eq(0).width()+24,a=Math.floor(r/n.fileBoxW),o=[].concat(_()(n.parthsGroup[t].fileList)),l=o.length;if(s&&!1===i||!s&&!1===i&&l>a){var c=l-a,u=[].concat(_()(o)).splice(0,a-1),d=[];return[].concat(_()(o)).splice(a-1).map(function(e){return d.push(e.UrlMin)}),d.length>3&&d.splice(0,3),u.push({FilePkid:"group"+t,FileName:null,UrlMin:d,FileType:null,userName:null,overLength:c+1}),n.parthsGroup[t]=h()({},n.parthsGroup[t],{overList:u}),void(n.parthsGroup=n.parthsGroup.concat())}return s&&null===i&&l>a?(n.parthsGroup[t].packUp=!0,void(n.parthsGroup=n.parthsGroup.concat())):!s&&null!==i&&l<=a?(n.parthsGroup[t].packUp=null,n.parthsGroup[t].overList&&delete n.parthsGroup[t].overList,void(n.parthsGroup=n.parthsGroup.concat())):void 0})},countFileOne:function(){var e=0,t=!0,i=!1,s=void 0;try{for(var n,r=C()(this.parthsGroup);!(t=(n=r.next()).done);t=!0){var a=n.value,o=[],l=!0,c=!1,u=void 0;try{for(var d,h=C()(a.fileList);!(l=(d=h.next()).done);l=!0){var f=d.value;if(!(o.length<3))break;o.push(f.UrlMin)}}catch(e){c=!0,u=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw u}}var p=[{FilePkid:"group"+e,FileName:null,UrlMin:o,FileType:null,userName:null,overLength:a.fileList.length}];e++,this.$set(a,"allList",p)}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}this.parthsGroup=this.parthsGroup.concat()},visibleChangeGroup:function(e,t){if(e){var i=t.fileList.findIndex(function(e){return!e.isOwn});this.$set(t,"onlySelf",-1===i),this.parthsGroup=this.parthsGroup.concat()}},editFocus:function(t){var i=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.$nextTick(function(){var n=t?e(t):i.$refs.createdGroup[0];n.focus(),s&&n.select(),i.enterEdit=!1})},groupCommand:function(e){if(this.viewToggle){var t="新建分组";if(-1!==this.parthsGroup.findIndex(function(e){return e.groupName===t})){var i=[],s=!0,n=!1,r=void 0;try{for(var a,o=C()(this.parthsGroup);!(s=(a=o.next()).done);s=!0){var l=a.value,c=0;-1!==l.groupName.indexOf("新建分组")&&l.groupName.length>4&&(c=l.groupName.slice(4),c=parseInt(c),!isNaN(c)&&i.push(c))}}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}i.length?(i.sort(),t+=i[i.length-1]+1):t+=1}if("temporary"===e)return void this.parthsGroup.push({pkid:"new",groupName:t,border:!1,packUp:null,fileList:[],dragDisabled:!1,edit:!1,temporary:!0});if("create"===e)return this.groupSortFlag&&(this.groupSortFlag=!1),this.parthsGroup.push({pkid:"new",groupName:t,fileList:[],border:!1,packUp:null,dragDisabled:!1,edit:!0,createdGroup:!0}),void this.editFocus();if("sort"===e)return void(this.groupSortFlag=!0)}else this.$refs.otherView.groupCommand(e)},backParthSort:function(){this.groupSortFlag=!1},dragEndParth:function(t){var i=this,s={filePartitionId:e(t.item).attr("ids"),isSort:t.newIndex};this.$HTTP("post","/filePartition_update_isSort",s).then(function(e){console.log("移动分组成功",e)}).catch(function(e){console.log("移动分组失败",e),i.$message({type:"error",message:"移动分组失败，请检查网络",center:!0})})},groupTitleBlur:function(e,t){var i=this;if(!this.enterEdit){if(this.lastTime=(new Date).getTime(),""==e.groupName)return this.$message({type:"warning",message:"分组名不能为空！",center:!0}),void this.editFocus();if(-1!==this.parthsGroup.findIndex(function(t){return t.groupName===e.groupName&&t.pkid!==e.pkid}))return this.$message({type:"warning",message:"已含有同名分组名！",center:!0}),void this.editFocus();if(e.createdGroup)this.addParth(e.groupName);else{if(this.groupNameCopy!==e.groupName){var s={filePartitionId:e.pkid,title:e.groupName};this.$HTTP("post","/filePartition_update",s).then(function(e){console.log("文件分组名修改成功",e),i.$message({type:"success",message:"文件分组名修改成功",center:!0})}).catch(function(e){console.log(e)})}e.edit=!1,this.parthsGroup=this.parthsGroup.concat()}t&&(this.enterEdit=!0)}},addParth:function(e,t,i){var s=this;return new p.a(function(n){var r={stageTaskId:s.stageTaskId,title:e},a={border:!1,packUp:null,dragDisabled:!1,edit:!1};s.$HTTP("post","/filePartition_add",r).then(function(e){var n={};if(t){var r=h()({},e.result);r.fileList=t.fileList,r.allList=t.allList,n=h()({},r,a)}else n=h()({},e.result,a);s.parthsGroup.splice(s.parthsGroup.length-1,1,n),i&&s.fileIsSort(s.parthsGroup.length-1,e.result.pkid,i),s.$message({type:"success",message:"添加分组成功！",center:!0}),s.leftCenterFlag&&s.countFileOne()}).catch(function(e){console.log("err",e)})})},operateFileDropdown:function(e,t){},fileCommand:function(e,t,i,s,n){if(this.operateFile=h()({},i,{index:t,groupId:s,groupIndex:n}),this.operateType=1,"download"!==e){if("collect"!==e)return"transfer"===e?(this.getTransferStageList(),void(this.transferShow=!0)):"rename"===e?(i.edit=!0,this.fileNameCopy=i.FileTitle,s?this.parthsGroup=this.parthsGroup.concat():this.notGroupedList=this.notGroupedList.concat(),void this.editFocus("#fileNameEdit")):"delete"===e?(this.delFileFlag=!0,void(this.reminderText="您确定要删除该文件吗？")):void 0;this.fileCollect(i)}else this.fileDownlod(i)},fileNameEditBlur:function(e,t,i){var s=this;if(!this.enterEdit){this.lastTime=(new Date).getTime();var n=this.operateFile,r=(n.index,n.groupId),a=n.groupIndex,o=t.FileTitle+"."+t.Type;if(""==t.FileTitle)return this.$message({type:"warning",message:"文件名不能为空！",center:!0}),void this.editFocus("#fileNameEdit");if(-1!==(r?this.parthsGroup[a].fileList.findIndex(function(e){return e.FileName===o&&e.FilePkid!==t.FilePkid}):this.notGroupedList.findIndex(function(e){return e.FileName===o&&e.FilePkid!==t.FilePkid})))this.$message({type:"error",message:"该分组内含有同名文件！",center:!0}),this.editFocus("#fileNameEdit",!1);else{if(this.fileNameCopy!==t.FileTitle){var l={FilePkid:t.FilePkid,newTitle:t.FileTitle+"."+t.Type};this.$HTTP("post","/stageTaskFile_update",l).then(function(e){console.log("修改文件名成功",e),s.$message({type:"success",message:"修改文件名成功",center:!0})}).catch(function(e){console.log("修改文件名失败",e)}),t.FileName=o}t.edit=!1,r?this.parthsGroup=this.parthsGroup.concat():this.notGroupedList=this.notGroupedList.concat()}i&&(this.enterEdit=!0)}},delFileCancel:function(){this.delFileFlag=!1},delFileSure:function(){var e=this;this.delFileFlag=!1;var t=this.operateFile,i=t.FilePkid,s=t.index,n=t.groupId,r=t.groupIndex,a={FilePkid:i};this.$HTTP("post","/stageTaskFile_delete",a).then(function(t){if(e.operateFile.checked){var a=e.checkedList.findIndex(function(e){return e.FilePkid===i});-1!==a&&e.checkedList.splice(a,1)}0===n?(e.notGroupedList.splice(s,1),e.notGroupedList=e.notGroupedList.concat()):(e.parthsGroup[r].fileList.splice(s,1),e.parthsGroup=e.parthsGroup.concat(),e.groupFileChange(r))}).catch(function(e){console.log("删除文件失败",e)})},fileGroupCommand:function(e,t,i){var s=this;if(this.filePartitionId=i.pkid,this.operateParth=h()({},i,{index:t}),this.operateType=3,"upload"!==e)if("download"!==e)if("collect"!==e){if("transfer"===e)return this.getTransferStageList(),void(this.transferShow=!0);if("rename"===e)return i.edit=!0,this.groupNameCopy=i.groupName,this.parthsGroup=this.parthsGroup.concat(),void this.editFocus();if("delete"!==e);else if(i.fileList.length)this.delGroupFlag=!0,this.reminderText="您确认要删除该分组么？ 删除后，分组内的文件将移入到未分组内";else{var n={filePartitionId:i.pkid,myUserId:this.userId};this.$HTTP("post","/filePpartition_delete",n).then(function(e){console.log("文件分组删除成功",e),s.parthsGroup.splice(t,1)}).catch(function(e){console.log(e)})}}else this.fileCollect(i);else this.fileDownlod(i)},delGroupCancel:function(){this.delGroupFlag=!1},delGroupSure:function(){var e=this,t={filePartitionId:this.filePartitionId,myUserId:this.userId};this.$HTTP("post","/filePpartition_delete",t).then(function(t){var i,s=function(t){if(t.checked){var i=e.checkedList.findIndex(function(e){return e.FilePkid===t.FilePkid});-1!==i&&e.checkedList.splice(i,1)}},n=!0,r=!1,a=void 0;try{for(var o,l=C()(e.operateParth.fileList);!(n=(o=l.next()).done);n=!0){s(o.value)}}catch(e){r=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw a}}var c=t.result;c=c.splice(e.notGroupedList.length);var u=!0,d=!1,f=void 0;try{for(var p,v=C()(c);!(u=(p=v.next()).done);u=!0){var m=p.value,g=e.addFileAttr(m);m=h()(m,g)}}catch(e){d=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(d)throw f}}(i=e.notGroupedList).push.apply(i,_()(c)),e.parthsGroup.splice(e.operateParth.index,1)}).catch(function(e){console.log(e)}),this.delGroupFlag=!1},enterFile:function(e){e.hover=!0,this.notGroupedList=this.notGroupedList.concat(),this.parthsGroup=this.parthsGroup.concat()},leaveFile:function(e){e.hover=!1,this.notGroupedList=this.notGroupedList.concat(),this.parthsGroup=this.parthsGroup.concat()},everyFileCheckbox:function(e,t){var i=void 0;e?this.checkedList.push(t):-1!==(i=this.checkedList.findIndex(function(e){return e.FilePkid===t.FilePkid}))&&this.checkedList.splice(i,1),this.notGroupedList=this.notGroupedList.concat(),this.parthsGroup=this.parthsGroup.concat()},fileCheckboxAll:function(e){var t=!1;if(t=!this.fileLength||!this.checkedFileList||this.checkedFileList.length!==this.fileLength,e&&"clear"===e&&(t=!1),this.viewToggle){if(this.checkedList=[],t){var i=!0,s=!1,n=void 0;try{for(var r,a=C()(this.notGroupedList);!(i=(r=a.next()).done);i=!0){var o=r.value;o.checked=!0,this.checkedList.push(o)}}catch(e){s=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(s)throw n}}var l=!0,c=!1,u=void 0;try{for(var d,h=C()(this.parthsGroup);!(l=(d=h.next()).done);l=!0){var f=d.value,p=!0,v=!1,m=void 0;try{for(var g,_=C()(f.fileList);!(p=(g=_.next()).done);p=!0){var y=g.value;y.checked=!0,this.checkedList.push(y)}}catch(e){v=!0,m=e}finally{try{!p&&_.return&&_.return()}finally{if(v)throw m}}}}catch(e){c=!0,u=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw u}}}else{var w=!0,A=!1,k=void 0;try{for(var b,I=C()(this.notGroupedList);!(w=(b=I.next()).done);w=!0){b.value.checked=!1}}catch(e){A=!0,k=e}finally{try{!w&&I.return&&I.return()}finally{if(A)throw k}}var x=!0,P=!1,S=void 0;try{for(var T,L=C()(this.parthsGroup);!(x=(T=L.next()).done);x=!0){var E=T.value,F=!0,R=!1,N=void 0;try{for(var B,D=C()(E.fileList);!(F=(B=D.next()).done);F=!0){B.value.checked=!1}}catch(e){R=!0,N=e}finally{try{!F&&D.return&&D.return()}finally{if(R)throw N}}}}catch(e){P=!0,S=e}finally{try{!x&&L.return&&L.return()}finally{if(P)throw S}}}this.notGroupedList=this.notGroupedList.concat(),this.parthsGroup=this.parthsGroup.concat()}else this.$refs.otherView.fileCheckboxAll(t)},multipleTransfer:function(){this.getTransferStageList(),this.transferShow=!0,this.operateType=2},transferCancel:function(){this.transferShow=!1},transferSure:function(e,t){var i=this;return u()(l.a.mark(function s(){var n;return l.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,!i.viewToggle;case 3:if(s.t0=s.sent,!s.t0){s.next=6;break}i.retrunData(!1);case 6:return s.next=8,i.transferSureProcessing(e,t);case 8:return n=s.sent,s.next=11,i.tranferSendHttp(n);case 11:s.next=16;break;case 13:s.prev=13,s.t1=s.catch(0),console.log("文件移交失败",s.t1);case 16:case"end":return s.stop()}},s,i,[[0,13]])}))()},transferSureProcessing:function(e,t){var i=this;return new p.a(function(s,n){i.transferShow=!1;var r=[[],[]];if(1===i.operateType)r[0]=[i.operateFile.FilePkid];else if(2===i.operateType){var a=!0,o=!1,l=void 0;try{for(var c,u=C()(i.notGroupedList);!(a=(c=u.next()).done);a=!0){var d=c.value;d.checked&&r[0].push(d.FilePkid)}}catch(e){o=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw l}}var h=!0,f=!1,p=void 0;try{for(var v,m=C()(i.parthsGroup);!(h=(v=m.next()).done);h=!0){var g=v.value;if(-1===g.fileList.findIndex(function(e){return!e.checked}))r[1].push(g.pkid);else{var _=!0,y=!1,w=void 0;try{for(var A,k=C()(g.fileList);!(_=(A=k.next()).done);_=!0){var b=A.value;b.checked&&r[0].push(b.FilePkid)}}catch(e){y=!0,w=e}finally{try{!_&&k.return&&k.return()}finally{if(y)throw w}}}}}catch(e){f=!0,p=e}finally{try{!h&&m.return&&m.return()}finally{if(f)throw p}}}else r[1]=[i.filePartitionId];s({val:e,arr:r,descText:t})})},getTransferStageList:function(){this.transferStageList=[],this.transferDefaultStage=[];var e=!0,t=!1,i=void 0;try{for(var s,n=C()(this.stageList);!(e=(s=n.next()).done);e=!0){var r=s.value;r.stageId!=this.stageId&&this.transferStageList.push({value:r.stageId,label:r.stageTitle,disabled:!1})}}catch(e){t=!0,i=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw i}}for(var a=0;a<this.stageList.length;a++)if(this.stageList[a].stageId==this.stageId&&a<this.stageList.length-1)return void(this.transferDefaultStage=[this.stageList[a+1].stageId])},tranferSendHttp:function(e){var t=this,i=e.val,s=e.arr,n=e.descText;return new p.a(function(e){if(s[0].length||s[1].length||n){var r={projectId:t.projectId,oldstageId:t.stageId,stageId:i.join(","),taskId:t.taskId,descn:n,groupIdVals:s[1].join(","),fileIdVals:s[0].join(","),myUserId:t.userId};t.$HTTP("post","/demand_add",r).then(function(e){t.$emit("handleSure"),2===t.operateType&&t.fileCheckboxAll("clear")}).catch(function(e){console.log(e)})}else t.$message({type:"warning",message:"请选择交接文件或添加需求描述",center:!0})})},multipleDownload:function(){this.operateType=2,this.fileDownlod()},multipleCollect:function(){this.operateType=2,this.fileCollect()},fileDownlod:function(t){if(1===this.operateType)e('<a href="'+t.Url+'" download="'+t.FileName+'" target="_blank"></a>').get(0).click();else if(2===this.operateType&&1===this.checkedFileList.length)e('<a href="'+this.checkedFileList[0].Url+'" download="'+this.checkedFileList[0].FileName+'" target="_blank"></a>').get(0).click(),this.fileCheckboxAll("clear");else{var i=[];if(2===this.operateType){var s=!0,n=!1,r=void 0;try{for(var a,o=C()(this.checkedFileList);!(s=(a=o.next()).done);s=!0){var l=a.value;i.push(l.FilePkid)}}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}}else 3===this.operateType&&i.push(t.pkid);e('<a href="/EggsWebService.asmx/zipFileDown?stageId='+this.stageId+"&taskId="+this.taskId+"&demandId=''&vals="+i.join(",")+"&type="+(this.operateType-1)+'" download="....zip" target="_blank"></a>').get(0).click(),2===this.operateType&&this.fileCheckboxAll("clear")}},fileCollect:function(e){var t=[];if(1===this.operateType)t=[e.FilePkid];else if(2===this.operateType&&1===this.checkedFileList.length)t=[this.checkedFileList[0].FilePkid];else if(2===this.operateType&&this.checkedFileList.length>1){var i=!0,s=!1,n=void 0;try{for(var r,a=C()(this.checkedFileList);!(i=(r=a.next()).done);i=!0){var o=r.value;t.push(o.FilePkid)}}catch(e){s=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(s)throw n}}}else 3===this.operateType&&t.push(e.pkid);var l={myUserId:this.userId,vale:t.join(","),type:1,idType:3===this.operateType?2:1,fatherId:this.dragItem.FilePkid?this.personalFolder.folderId:0,iLevel:this.dragItem.FilePkid?this.personalFolder.iLevel:1};this.sendCollection(l)},sendCollection:function(e,t){var i=this;this.$HTTP("post","/collections_add",e).then(function(s){"200"===s.code&&i.$message({type:"success",message:"文件收藏成功！",center:!0});var n=[].concat(_()(s.result)),r=!0,a=!1,o=void 0;try{for(var l,c=C()(n);!(r=(l=c.next()).done);r=!0){var u=l.value,d=i.addFileAttr(u);u=h()(u,d)}}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}if(i.personalFilesShow){if("dragCollect"===t);else if(0===i.personalFolder.folderId&&0===i.personalFolder.iLevel){var f=i.personalFiles.findIndex(function(e){return 0===e.FilePkid});-1!==f&&(i.personalFiles[f].SubfileCount+=n.length)}else if(0===i.personalFolder.folderId&&1===i.personalFolder.iLevel)if(1===n.length&&12===n[0].FileType){var p,v,m=i.personalFiles.findIndex(function(e){return 12!==e.FileType});if(-1===m)(p=i.personalFiles).push.apply(p,_()(n));else(v=i.personalFiles).splice.apply(v,[m,0].concat(_()(n)))}else{var g;(g=i.personalFiles).push.apply(g,_()(n))}1===Number(e.type)&&2===i.operateType&&i.fileCheckboxAll("clear"),i.fileCheckboxSelf=!1,i.personalFiles=i.personalFiles.concat()}}).catch(function(e){i.$message({type:"error",message:"文件收藏失败！",center:!0}),console.log(e)})},mouseMove:function(){console.log("///??????????//")},fileMove:function(e,t){if(!this.dragItem.item.FileName){var i=e.draggedContext.element;this.dragItem.item=h()({},i)}},dragStart:function(t,i,s){var n=this;this.dragFileId=e(t.item).attr("id");var r=e(t.item).attr("filename");this.dragItem.fromGroup=e(t.from).attr("groupid"),this.dragItem.groupIndex=s,this.dragItem.oldIndex=t.oldIndex,this.$nextTick(function(){var t=e("#"+n.dragFileId);"false"===t.attr("draggable")&&t.addClass("dragging")}),"personal"===this.dragItem.fromGroup&&(this.personalFileCopy=JSON.parse(a()(this.personalFiles)),console.log(this.personalFileCopy)),this.groupCommand("temporary"),this.judegRepeat(i,r)},dragEnd:function(t){var i=this;return u()(l.a.mark(function s(){var n,r,a,o,c,u,d,h,f,p;return l.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(i.dragItem.toGroup=e(t.to).attr("groupid"),i.dragItem.newIndex=t.newIndex,n=i.dragItem,r=n.fromGroup,a=n.toGroup,o=n.item,c=n.oldIndex,u=n.newIndex,r!==a||c!==u){s.next=6;break}return i.dragEndInit(),s.abrupt("return");case 6:if("new"===a&&(d=i.parthsGroup[i.parthsGroup.length-1],i.addParth(d.groupName,d,i.dragItem)),"personal"!==a){s.next=13;break}return i.addToCollect(i.dragItem),i.dragEndInit(),s.abrupt("return");case 13:"personal"===r&&"personal"===a||("personal"===r&&"personal"!==a?i.collectToGain(i.dragItem):"noGroup"===r&&"noGroup"===a||r!==a&&(h=null,"noGroup"===r?-1!=(h=i.notGroupedList.findIndex(function(e){return e.FilePkid===o.FilePkid}))&&i.notGroupedList.splice(h,1):NaN!==parseInt(r)&&(f=parseInt(r),-1!==(p=i.parthsGroup.findIndex(function(e){return parseInt(e.pkid)===f}))&&-1!=(h=i.parthsGroup[p].fileList.findIndex(function(e){return e.FilePkid===o.FilePkid}))&&i.parthsGroup[p].fileList.splice(h,1))));case 14:if("new"===a||"personal"===r){s.next=23;break}return s.prev=15,s.next=18,i.fileIsSort(t.newIndex,a);case 18:s.next=23;break;case 20:s.prev=20,s.t0=s.catch(15),console.log(s.t0);case 23:if(r!==a){s.next=27;break}i.dragEndInit(),s.next=37;break;case 27:return s.prev=27,s.next=30,i.parthsGroupChange(t.newIndex);case 30:return s.next=32,i.dragEndInit();case 32:s.next=37;break;case 34:s.prev=34,s.t1=s.catch(27),console.log(s.t1);case 37:case"end":return s.stop()}},s,i,[[15,20],[27,34]])}))()},collectToGain:function(e){var t=this,i=(e.fromGroup,e.toGroup),s=e.item,n=(e.oldIndex,e.newIndex);this.personalFiles=this.personalFileCopy.concat();var r={myUserId:this.userId,id:s.FilePkid,stageTaskId:this.stageTaskId,isSort:n,filePartitionId:"noGroup"===i?0:i};this.$HTTP("post","/collections_move",r).then(function(e){console.log("添加文件成功",e);var s=h()({},e.result),r=t.addFileAttr(s);if(s=h()({},s,r),"noGroup"===i)t.notGroupedList.splice(n,1,s);else{var a=t.parthsGroup.findIndex(function(e){return e.pkid==i});-1!==a&&t.parthsGroup[a].fileList.splice(n,1,s)}}).catch(function(e){console.log("添加文件失败",e)})},fileIsSort:function(e,t,i){var s=this;return new p.a(function(n,r){var a={FilePkid:i?i.item.FilePkid:s.dragItem.item.FilePkid,filePartitionId:"noGroup"===t?0:t,isSort:e};s.$HTTP("post","/stageTaskFile_group_update_isSort",a).then(function(e){"200"===e.code?(console.log("移动文件成功",e),n(!0)):(s.$message({type:"error",message:"移动文件失败，请刷新重试",center:!0}),r(e.msg))}).catch(function(e){console.log("移动文件失败",e),s.$message({type:"error",message:"移动文件失败，请刷新重试",center:!0}),r(!1)})})},judegRepeat:function(e,t){"personal"===e?-1!==this.notGroupedList.findIndex(function(e){return e.FileName===t})&&(this.dragDisabled=!0):-1!==this.personalFiles.findIndex(function(e){return e.FileName===t})&&(this.dragDisabled_personal=!0);var i=!0,s=!1,n=void 0;try{for(var r,a=C()(this.parthsGroup);!(i=(r=a.next()).done);i=!0){var o=r.value,l=o.fileList.findIndex(function(e){return e.FileName===t});o.pkid.toString()===this.dragItem.fromGroup?(o.border=!0,o.dragDisabled=!1):-1!=l?(o.border=!1,o.dragDisabled=!0):(o.border=!0,o.dragDisabled=!1)}}catch(e){s=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(s)throw n}}this.parthsGroup=this.parthsGroup.concat()},groupFileChange:function(t){var i=this;this.$nextTick(function(){if(!i.leftCenterFlag){var s=[].concat(_()(i.parthsGroup))[t];if(!1===s.packUp)i.countFileMore(t);else if(null===s.packUp||!0===s.packUp){var n=e(".parths_group").eq(t).find(".group_file").eq(0).height();s.packUp=n>220||null}i.parthsGroup=i.parthsGroup.concat()}})},parthsGroupChange:function(t){var i=this;this.$nextTick(function(){return new p.a(function(s){for(var n=[].concat(_()(i.parthsGroup)),r=0;r<n.length;r++){var a=n[r];if(a.pkid==i.dragItem.toGroup){if(i.leftCenterFlag)a.allList&&a.fileList.push(i.dragItem.item),i.countFileOne(r);else if(!1===a.packUp)a.fileList.splice(t+1,0,i.dragItem.item),i.countFileMore(r);else if(null===a.packUp||!0===a.packUp){var o=e(".parths_group").eq(r).find(".group_file").eq(0).height();a.packUp=o>220||null}}else if(!1===a.packUp)i.countFileMore(r);else{var l=e(".parths_group").eq(r).find(".group_file").eq(0).height();a.packUp=l>220||null}}i.parthsGroup=[].concat(_()(n)),s(!0)})})},dragEndInit:function(){var t=this;return new p.a(function(i){e(".dragging").eq(0).removeClass("dragging"),t.dragFileId=null,t.dragItem={item:{},fromGroup:null,toGroup:null},t.dragDisabled=!1,t.dragDisabled_personal=!1;var s=!0,n=!1,r=void 0;try{for(var a,o=C()(t.parthsGroup);!(s=(a=o.next()).done);s=!0){var l=a.value;l.border=!1,l.dragDisabled=!1}}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}t.parthsGroup[t.parthsGroup.length-1].fileList.length?delete t.parthsGroup[t.parthsGroup.length-1].temporary:t.parthsGroup.pop(),i(!0)})},sizeChange:function(e){for(var t=0;t<this.parthsGroup.length;t++){var i=this.parthsGroup[t];e&&"personalFilesPull"===e?this.personalFilesShow?this.countFileView(t,i.packUp,!0):this.countFileView(t,i.packUp,!1):!1===i.packUp&&this.countFileMore(t)}},personalFilesPull:function(){var t=this;this.personalFilesShow=!this.personalFilesShow,this.personalFilesShow?(e("#personalFiles").show(),e("#operateFile").addClass("self_file_show"),this.getPersonalFile()):(e("#personalFiles").hide(),e("#operateFile").removeClass("self_file_show"),this.inputTextShow2&&(this.inputTextShow2=!1,this.inputText=""),this.fileCheckboxAllSelf(!1)),this.sizeChange("personalFilesPull"),this.demandOrGain||this.$nextTick(function(){t.$refs.demandView.sizeChange()})},dbFolder:function(e){12===e.FileType&&(this.getPersonalFile(e),this.fileCheckboxAllSelf(!1))},goBack:function(e){e!==this.navBar.length-1&&(this.personalFolder.folderId=this.navBar[e].folderId,this.personalFolder.iLevel=e,0===e?this.navBar=[{id:0,folderId:0,name:"个人文档"}]:(this.personalFolder.iLevel=e,this.navBar=this.navBar.splice(0,e+1)),this.getPersonalFile(),this.fileCheckboxAllSelf(!1))},newFolder:function(){var e,t="新建文件夹";if(-1!==this.personalFiles.findIndex(function(e){return e.FileName===t})){var i=[],s=!0,r=!1,a=void 0;try{for(var o,l=C()(this.personalFiles);!(s=(o=l.next()).done);s=!0){var c=o.value,u=0;-1!==c.FileName.indexOf("新建文件夹")&&c.FileName.length>6&&(u=c.FileName.slice(6),u=parseInt(u),i.push(u))}}catch(e){r=!0,a=e}finally{try{!s&&l.return&&l.return()}finally{if(r)throw a}}i.length?(i.sort(),t=t+" "+(i[i.length-1]+1)):t+=" 1"}var d=(e={Count:0,FilePkid:"folder"+this.personalFiles.length,FileName:t,FileTitle:t,UrlMin:null,FileType:12},n()(e,"UrlMin",this.fileTypeImg[12].src),n()(e,"userName",null),n()(e,"Type","folder"),n()(e,"edit",!0),n()(e,"createdFolder",!0),e),h=this.personalFiles.findIndex(function(e){return 12!==e.FileType});-1===h?this.personalFiles.push(d):this.personalFiles.splice(h,0,d),this.editFocus("#fileNameEdit")},personalFileCommand:function(e,t,i){if(this.operatePersonalFile=h()({},i,{index:t}),this.operateType=1,"download"!==e)return"rename"===e?(i.edit=!0,this.fileNameCopy=i.FileTitle,this.personalFiles=this.personalFiles.concat(),void this.editFocus("#fileNameEdit")):"delete"===e?(this.delFileFlag1=!0,void(this.reminderText="您确定要删除该文件"+(12===i.FileType?"夹":"")+"吗？")):void 0;this.fileDownlod1(i)},personalFileBlur:function(e,t,i,s){var n=this;if(!this.enterEdit){var r=12===t.FileType?t.FileTitle:t.FileTitle+"."+t.Type;if(""==t.FileTitle)return this.$message({type:"warning",message:"文件"+(12===t.FileType?"夹":"")+"名不能为空！",center:!0}),void this.editFocus("#fileNameEdit",!1);if(-1!==this.personalFiles.findIndex(function(e){return e.FileName===r&&e.Type===t.Type&&e.FilePkid!==t.FilePkid}))return this.$message({type:"warning",message:"该目录下已含有同名文件"+(12===t.FileType?"夹":"")+"！",center:!0}),void this.editFocus("#fileNameEdit",!1);if(t.createdFolder){var a={myUserId:this.userId,fatherId:this.personalFolder.folderId,iLevel:this.personalFolder.iLevel,title:t.FileTitle};this.$HTTP("post","/persona_add",a).then(function(e){console.log("创建文件夹成功",e);var t=e.result,s=n.addFileAttr(t);t=h()(t,s),n.personalFiles.splice(i,1,t)}).catch(function(e){console.log("创建文件夹失败",e)})}else{if(this.fileNameCopy!==t.FileTitle){var o={FilePkid:t.FilePkid,newTitle:r};this.$HTTP("post","/persona_update",o).then(function(e){console.log("文件"+(12===t.FileType?"夹":"")+"名修改成功",e),n.$message({type:"success",message:"修改文件名成功",center:!0})}).catch(function(e){console.log("修改文件名失败",e)})}t.FileName=r,t.edit=!1,this.personalFiles=this.personalFiles.concat()}s&&(this.enterEdit=!0)}},delFileCancel1:function(){this.delFileFlag1=!1},delFileSure1:function(){var e=this;this.delFileFlag1=!1;var t=this.operatePersonalFile,i=t.FilePkid,s=t.index,n=[];if(2===this.operateType){var r=!0,a=!1,o=void 0;try{for(var l,c=C()(this.checkedListSelf);!(r=(l=c.next()).done);r=!0){var u=l.value;-1!==u.FilePkid&&0!==u.FilePkid&&n.push(u.FilePkid)}}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}}var d={FilePkid:n.length?n.join(","):i};this.$HTTP("post","/persona_delete",d).then(function(t){if(2===e.operateType){var r=function(t){var i=e.personalFiles.findIndex(function(e){return e.FilePkid===t});-1!==i&&e.personalFiles.splice(i,1)},a=!0,o=!1,l=void 0;try{for(var c,u=C()(n);!(a=(c=u.next()).done);a=!0){r(c.value)}}catch(e){o=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw l}}e.fileCheckboxAllSelf(!1)}else{if(e.operatePersonalFile.checked){var d=e.checkedListSelf.findIndex(function(e){return e.FilePkid===i});-1!==d&&e.checkedListSelf.splice(d,1)}e.personalFiles.splice(s,1)}e.personalFiles=e.personalFiles.concat()}).catch(function(e){console.log("删除文件失败",e)})},enterFileSelf:function(e){e.hover=!0,this.personalFiles=this.personalFiles.concat()},leaveFileSelf:function(e){e.hover=!1,this.personalFiles=this.personalFiles.concat()},everyFileCheckboxSelf:function(e,t){var i=void 0,s=void 0;e?(this.oneCheckedSelf=!0,this.checkedListSelf.push(t),-1===(i=this.personalFiles.findIndex(function(e){return!e.hasOwnProperty("children")&&!e.checked}))&&(this.fileCheckboxSelf=!0)):(-1!==(s=this.checkedListSelf.findIndex(function(e){return!e.hasOwnProperty("children")&&e.FilePkid===t.FilePkid}))&&this.checkedListSelf.splice(s,1),i=this.personalFiles.findIndex(function(e){return e.checked}),this.oneCheckedSelf=-1!==i,this.fileCheckboxSelf&&(this.fileCheckboxSelf=!1)),this.personalFiles=this.personalFiles.concat()},fileCheckboxAllSelf:function(e){if(this.checkedListSelf=[],e){var t=!0,i=!1,s=void 0;try{for(var n,r=C()(this.personalFiles);!(t=(n=r.next()).done);t=!0){var a=n.value;a.checked=!0,this.checkedListSelf.push(a)}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}this.oneCheckedSelf=!0}else{var o=!0,l=!1,c=void 0;try{for(var u,d=C()(this.personalFiles);!(o=(u=d.next()).done);o=!0){u.value.checked=!1}}catch(e){l=!0,c=e}finally{try{!o&&d.return&&d.return()}finally{if(l)throw c}}this.oneCheckedSelf=!1,this.fileCheckboxSelf=!1}this.personalFiles=this.personalFiles.concat()},multipleDownload1:function(){this.operateType=2,this.fileDownlod1()},multipleDel:function(){this.operateType=2,this.delFileFlag1=!0;var e=[],t=!0,i=!1,s=void 0;try{for(var n,r=C()(this.checkedListSelf);!(t=(n=r.next()).done);t=!0){var a=n.value;e.push(a.FilePkid)}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}e.includes(-1)||e.includes(0)?this.reminderText="默认文件夹无法删除，其他选中文件（夹）将被删除":this.reminderText="您选中的文件（夹）将从个人文档中删除"},fileDownlod1:function(t){if(1===this.operateType&&12!==t.FileType)e('<a href="'+t.Url+'" download="'+t.FileName+'" target="_blank"></a>').get(0).click();else if(2===this.operateType&&1===this.checkedListSelf.length&&12!==this.checkedListSelf[0].FileType)e('<a href="'+this.checkedListSelf[0].Url+'" download="'+this.checkedListSelf[0].FileName+'" target="_blank"></a>').get(0).click(),this.fileCheckboxAll("clear");else{var i=[];if(1===this.operateType)i.push(t.pkid);else if(2===this.operateType){var s=!0,n=!1,r=void 0;try{for(var a,o=C()(this.checkedListSelf);!(s=(a=o.next()).done);s=!0){var l=a.value;i.push(l.FilePkid)}}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}}e('<a href="/EggsWebService.asmx/zipFileDown?stageId='+this.stageId+"&taskId="+this.taskId+"&demandId=''&vals="+i.join(",")+"&type="+(this.operateType-1)+'" download="....zip" target="_blank"></a>'),2===this.operateType&&this.fileCheckboxAllSelf(!1)}},addToCollect:function(e){e.fromGroup,e.toGroup;var t=e.item,i=(e.oldIndex,e.newIndex,{myUserId:this.userId,vale:t.FilePkid,type:1,idType:1,fatherId:t.FilePkid?this.personalFolder.folderId:0,iLevel:t.FilePkid?this.personalFolder.iLevel:1});this.personalFiles.push(t),this.sendCollection(i,"dragCollect")},dragAdd:function(e){this.personalFiles.splice(e.newIndex,1)},self_uploadSuccess:function(e,t){var i=h()({},t.response.result),s=this.addFileAttr(i);if(s=h()({},i,s),this.uploadFrom>=5)return this.fileCheckboxSelf=!1,void(this.personalFiles=this.personalFiles.concat(s));var n=this.filePartitionId;if(n){var r=this.parthsGroup.findIndex(function(e){return e.pkid===n});this.parthsGroup[r].fileList=this.parthsGroup[r].fileList.concat(s),this.groupFileChange(r)}else this.notGroupedList=this.notGroupedList.concat(s)},parthDragEnter:function(e){"personal"!==e?(this.filePartitionId=e,this.uploadFrom=e?4:2):this.uploadFrom=6},handleClickUpload:function(e){"personal"!==e?(this.filePartitionId=e,this.uploadFrom=e?3:1,this.viewToggle||this.retrunData(!1)):this.uploadFrom=5},closeProgress:function(){this.uploadProgressFlag=!1,this.fileProgressList=[],Array.isArray(this.$refs.fileUpload)?this.$refs.fileUpload[0].clearFiles():this.$refs.fileUpload.clearFiles()},cancelUpload:function(e){var t=this;this.getDelFile(e.uid,!0),e.error||(e.reUploadXhr?e.reUploadXhr.abort():this.$nextTick(function(){Array.isArray(t.$refs.fileUpload)?t.$refs.fileUpload[0].abort(e):t.$refs.fileUpload.abort(e)}))},reUpload:function(e){var t=this;e.status=1,e.reUploadXhr=1;var i=new FormData;i.append("file",e.file),this.$nextTick(function(){Array.isArray(t.$refs.fileUpload)?t.$refs.fileUpload[0].httpRequest=t.uploadFile(i,e):t.$refs.fileUpload.httpRequest=t.uploadFile(i,e)})},uploadFile:function(t,i){var s=this;i.reUploadXhr=e.ajax({url:"/ProjectFile.ashx?myUserId"+this.userId+"&projectId="+this.projectId+"&stageTaskId="+this.stageTaskId+"&filePartitionId="+this.filePartitionId,type:"post",dataType:"json",data:t,cache:!1,contentType:!1,processData:!1,xhr:function(t){var n=e.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(e){var t=e.loaded,n=e.total,r=Math.floor(100*t/n);s.uploadProgress({percent:r},i)},!1),n},success:function(e){s.uploadSuccess(e,i)},error:function(e){s.uploadError("err",i),i.reUploadXhr&&(i.reUploadXhr=null)}})},popFileProgress:function(e){return-1==e.findIndex(function(e){return e.progress<100})},handleExceed:function(e,t){if(e.length>9)return this.$message({type:"warning",message:"最多只能选择9个文件",center:!0}),!1},beforeUpload:function(e){this.uploadProgressFlag||(this.uploadProgressFlag=!0);var t=this.filePartitionId,i=this.conver(e.size),s=this.getSuffix(e.name);s=this.getFlieTyle(s);var n={uid:e.uid,size:e.size,sizes:i,nowSize:0,name:e.name,type:2,progress:0,status:1,FileTypeNum:s,imgUrl:"",file:e};if(this.uploadFrom>=5){if(-1!==this.personalFiles.findIndex(function(t){return t.FileName==e.name}))return this.$set(n,"error",1),this.fileProgressList.unshift(n),this.$message({type:"error",message:"该目录下已含有同名文件",center:!0}),!1}else if(t){var r=this.parthsGroup.findIndex(function(e){return e.pkid===t});if(-1!==this.parthsGroup[r].fileList.findIndex(function(t){return t.FileName==e.name}))return this.$set(n,"error",1),this.fileProgressList.unshift(n),this.$message.error("该分组下已含有同名文件"),!1}else{if(-1!==this.notGroupedList.findIndex(function(t){return t.FileName==e.name}))return this.$set(n,"error",1),this.fileProgressList.unshift(n),this.$message.error("该分组下已含有同名文件"),!1}if((e.size/1073741824).toFixed(2)>=1)return this.$set(n,"error",2),this.fileProgressList.unshift(n),this.$message({type:"error",message:"文件大于1G，无法上传",center:!0}),!1;this.fileProgressList.unshift(n)},uploadProgress:function(e,t,i){var s=parseInt(e.percent);s<30&&console.log("--11111uploadProgress",t.url);var n=this.fileProgressList.findIndex(function(e){return e.uid===t.uid});-1!==n&&(this.fileProgressList[n].progress=s,this.fileProgressList[n].nowSize=this.conver(s/100*this.fileProgressList[n].size),this.fileProgressList[n].imgUrl||1!=this.fileProgressList[n].FileTypeNum||(this.fileProgressList[n].imgUrl=t.url))},uploadSuccess:function(e,t){var i=this;this.self_uploadSuccess(e,t);var s=this.fileProgressList.findIndex(function(e){return e.uid===t.uid});-1!==s&&(this.fileProgressList[s].status=2);var n=this.popFileProgress(this.fileProgressList);this.uploadProgressFlag&&n&&setTimeout(function(){i.closeProgress()},2e3)},uploadError:function(e,t){var i=this.fileProgressList.findIndex(function(e){return e.uid===t.uid});-1!==i&&(this.fileProgressList[i].status=3)},getDelFile:function(e,t){var i=this.fileProgressList.findIndex(function(t){return t.uid==e});-1!==i&&(void 0==t&&this.fileProgressList[i].progress<100&&this.cancelUpload(this.fileProgressList[i]),this.fileProgressList.splice(i,1),this.fileProgressList.length||this.closeProgress())},getPersonalFile:function(t){var i=this,s={myUserId:this.userId,fatherId:t?t.FilePkid:0,iLevel:t?this.personalFolder.iLevel+1:this.personalFolder.iLevel};this.$HTTP("post","/persona_get_list",s,e("#personalFiles")[0]).then(function(e){var s=h()({},e.result);i.personalFiles=s.fileItemList,i.personalFolder.folderId=s.fatherId,i.personalFolder.iLevel=s.iLevel,i.personalFolder.fatherName=s.fatherName;var n=!0,r=!1,a=void 0;try{for(var o,l=C()(i.personalFiles);!(n=(o=l.next()).done);n=!0){var c=o.value,u=i.addFileAttr(c);c=h()(c,u)}}catch(e){r=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw a}}t&&s.iLevel&&i.navBar.push({id:i.personalFolder.iLevel,folderId:i.personalFolder.folderId,name:i.personalFolder.fatherName}),console.log("---getPersonalFile",i.personalFolder,i.navBar,i.personalFiles)}).catch(function(e){console.log(e)})},stageInfoChange:function(e,t){var i=this,s=this.stageList.findIndex(function(e){return e.stageId.toString()===t.item.stageId.toString()});-1!==s&&(this.stageList.splice(s,1,t.item),this.stageList=this.stageList.concat()),1===e&&(t.add.length&&-1!==t.add.findIndex(function(e){return e.toString()===i.userId.toString()})&&(this.stageInfo.isMyParticipate=!0,this.POWER_CHANGE(1)),t.del.length&&-1!==t.del.findIndex(function(e){return e.toString()===i.userId.toString()})&&(this.stageInfo.isMyParticipate=!1,this.POWER_CHANGE(0))),this.STAGEINFO_CHANGE(this.stageInfo),this.$nextTick(function(){i.$refs.stageManage&&i.$refs.stageManage.setData(i.stageInfo)})},getTaskList:function(t){var i=this,s={project:t};this.$HTTP("post","/project_get_Catalog",s,e("#app")[0]).then(function(e){i.tasksList=e.result;var t=!0,s=!1,n=void 0;try{for(var r,a=C()(i.tasksList);!(t=(r=a.next()).done);t=!0){r.value.extend=!0}}catch(e){s=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(s)throw n}}i.taskStageDetail(i.taskId,i.stageId).then(function(){i.noticeFile&&i.searchIndex(i.noticeFile)})}).catch(function(e){console.log("获取任务列表失败",e),i.$message({type:"error",message:"获取任务列表失败，请检查网络",center:!0})})},taskStageDetail:function(t,i){var s=this;return new p.a(function(n,r){s.initData(),s.taskId=t,s.stageId=i;var o={projectId:s.projectId,stageId:s.stageId,taskId:s.taskId};localStorage.setItem("getTaskIds",a()(o));var l={myUserId:s.userId,projectId:s.projectId,stageId:s.stageId,taskId:s.taskId};s.$HTTP("post","/stagetask_get",l,e("#app")[0]).then(function(e){"1"===e.code?s.$router.push({name:"NoTask",params:{projectId:s.projectId}}):s.dataProcessing(e.result),n(!0)}).catch(function(e){console.log("获取任务详情失败",e),s.$message({type:"error",message:"获取任务详情失败，请检查网络",center:!0}),r(e)})})},initData:function(){this.fullPreviewShow&&(this.fullPreviewShow=!1),this.demandOrGain||(this.demandOrGain=!0),this.leftCenterFlag||this.leftRightToggle(),this.viewToggle||(this.viewToggle=!0),this.checkedList=[],this.FILELENGTH_CHANGE(0)},dataProcessing:function(e){var t=this;this.stageInfo=null,this.stageInfo=h()({},e,{stageId:this.stageId}),this.parthsGroup=[],this.demandCount=e.demandCount,this.stageTaskId=e.stageTaskId,this.stageList=[].concat(_()(e.stageList)),this.stageList.map(function(e){return e.stageId=e.stageId.toString()});var i=this.stageList.findIndex(function(e){return e.stageId==t.stageId});-1!==i&&(this.stageState=this.stageList[i].state);var s=[].concat(_()(e.fileList)),n=!0,r=!1,a=void 0;try{for(var o,l=C()(s);!(n=(o=l.next()).done);n=!0){var c=o.value,u=!0,d=!1,f=void 0;try{for(var p,v=C()(c.fileList);!(u=(p=v.next()).done);u=!0){var m=p.value,g=this.addFileAttr(m);m=h()(m,g)}}catch(e){d=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(d)throw f}}0===c.pkid?this.notGroupedList=c.fileList:this.parthsGroup.push(c)}}catch(e){r=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw a}}this.stageInfo.fileList=s.concat(),this.$nextTick(function(){t.$refs.stageManage&&t.$refs.stageManage.setData(t.stageInfo);var e=document.getElementById("selectTask");e&&e.scrollIntoView({behavior:"smooth"})}),this.countFileOne(),this.idList=null,this.idList={userId:this.userId,projectId:this.projectId,stageId:this.stageId,taskId:this.taskId,stageTaskId:this.stageTaskId,filePartitionId:this.filePartitionId},this.TASKIDS_CHANGE(this.idList),this.STAGEINFO_CHANGE(this.stageInfo);var y=0;y=e.isMyParticipate?1:0,this.POWER_CHANGE(y)},addFileAttr:function(e){var t=e.Type.length,i={checked:!1,hover:!1,edit:!1,FileTitle:"folder"===e.Type?e.FileName:e.FileName.slice(0,e.FileName.length-(t+1)),FileType:this.getFlieTyle(e.Type),isOwn:e.UserPkid.toString()===this.userId.toString(),formatTime:this.format(new Date(e.CreateTime),"yyyy/MM/dd HH:mm")};return 1!==i.FileType&&(i.UrlMin=this.fileTypeImg[i.FileType].src),12!==i.FileType&&(i.Size=this.conver(e.Size)),i},getFileList:function(){var e=this;return new p.a(function(t){var i=[{pkid:0,groupName:"未分组的任务",fileList:e.notGroupedList}];i=i.concat(e.parthsGroup),e.allFileList=i,t(i)})},searchIndex:function(e){for(var t=[].concat(_()(this.stageInfo.fileList)),i=0;i<t.length;i++)for(var s=t[i].fileList,n=0;n<s.length;n++)if(s[n].FilePkid===e)return this.enterTheDetails(n,i)}}),created:function(){var e=this.$route.params;e.projectId?localStorage.setItem("getTaskIds",a()(e)):e=JSON.parse(localStorage.getItem("getTaskIds")),this.projectId=e.projectId,this.stageId=e.stageId.toString(),this.taskId=e.taskId,this.noticeType=e.type?e.type:null,!this.noticeType||5!==this.noticeType&&6!==this.noticeType&&11!==this.noticeType&&12!==this.noticeType||(this.noticeFile=e.noticeFile?e.noticeFile:1483),this.idList={userId:this.userId,projectId:this.projectId,stageId:this.stageId,taskId:this.taskId},this.getTaskList(this.projectId),!e.type||7!==e.type&&11!==e.type||this.demandOrGainChange(!1)},mounted:function(){var e=this;window.onresize=function(){e.sizeChange()}}}}).call(t,i("L7Pj"))},xlya:function(e,t){},z1hp:function(e,t){}},[0]);
//# sourceMappingURL=app.f47119667c679b898e5a.js.map